import{S as Gn,n as m,i as T,p as yt}from"./chunk-U4IZE4J2.1410a545.js";import{_ as R,a as Zr}from"./chunk-6SYKIMQH.63e605dc.js";import{u as Zn}from"./chunk-OE2F6QKM.34a70cb8.js";var Jn={};R(Jn,{setMutable:()=>vt});var vt=(e=void 0)=>new Kn(e),Kn=class extends Gn{constructor(e=void 0){super();Zr(this,"store",new Map),Zr(this,"keyString"),e===void 0&&(e=r=>typeof r=="string"?r:JSON.stringify(r)),this.keyString=e}add(...e){e.forEach(r=>{const n=this.has(r);this.store.set(this.keyString(r),r),super.fireEvent("add",{value:r,updated:n})})}values(){return this.store.values()}clear(){this.store.clear(),super.fireEvent("clear",!0)}delete(e){const r=this.store.delete(this.keyString(e));return r&&super.fireEvent("delete",e),r}has(e){return this.store.has(this.keyString(e))}toArray(){return Array.from(this.store.values())}},Wn={};R(Wn,{addUniqueByHash:()=>ei,filter:()=>ti,find:()=>ii,getOrGenerate:()=>Yn,getOrGenerateSync:()=>Xn,hasAnyValue:()=>ri,hasKeyValue:()=>Qn,mapToArray:()=>ui,mapToObj:()=>ai,mapToObjTransform:()=>si,toArray:()=>ni,transformMap:()=>oi,zipKeyValue:()=>wr});var Qn=(e,r,n,i)=>e.has(r)?Array.from(e.values()).some(o=>i(o,n)):!1,Yn=(e,r)=>async(n,i)=>{let s=e.get(n);if(s!==void 0)return Promise.resolve(s);if(s=await r(n,i),s===void 0)throw new Error("fn returned undefined");return e.set(n,s),s},Xn=(e,r)=>(n,i)=>{let s=e.get(n);return s!==void 0||(s=r(n,i),e.set(n,s)),s},ei=(e,r,...n)=>{const i=e===void 0?new Map:new Map(e);return n.forEach(s=>{const o=r(s);i.has(o)||i.set(o,s)}),i},ri=(e,r,n)=>Array.from(e.entries()).some(s=>n(s[1],r)),ti=(e,r)=>Array.from(e.values()).filter(r),ni=e=>Array.from(e.values()),ii=(e,r)=>Array.from(e.values()).find(n=>r(n)),si=(e,r)=>Array.from(e).reduce((n,[i,s])=>{const o=r(s);return n[i]=o,n},{}),wr=(e,r)=>{if(e.length!==r.length)throw new Error("Keys and values arrays should be same length");return Object.fromEntries(e.map((n,i)=>[n,r[i]]))},oi=(e,r)=>new Map(Array.from(e,n=>[n[0],r(n[1],n[0])])),ai=e=>Array.from(e).reduce((r,[n,i])=>(r[n]=i,r),{}),ui=(e,r)=>Array.from(e.entries()).map(n=>r(n[0],n[1])),xe=(e,r=0,n=1)=>{if(Number.isNaN(e))throw new Error("v parameter is NaN");if(Number.isNaN(r))throw new Error("min parameter is NaN");if(Number.isNaN(n))throw new Error("max parameter is NaN");return e<r?r:e>n?n:e},fi=(e,r="")=>{if(r.length===0)return e;if(r in e)return e[r];{const n=Zn(r,".");return n in e?fi(e[n],r.substring(n.length+1)):void 0}},Ra=e=>{const r=[],n=(i,s="")=>{if(typeof i=="object"){const o=Object.keys(i);s.length>0&&(s+="."),o.forEach(a=>n(i[a],s+a))}else r.push(s)};return n(e),r},qa=(e,r)=>(m(e,"nonZero","v"),m(r,"nonZero","muliple"),Math.ceil(e/r)*r),ja=(e,r,n,i,s,o)=>{if(s===void 0&&(s=1),i===void 0&&(i=0),r===n)return s;let a=(e-r)/(n-r);return o!==void 0&&(a=o(a)),a*(s-i)+i},ka=e=>(typeof e=="function"&&(e=e()),m(e,"percentage","v"),1-e),Oa=(e,r)=>Number.isNaN(e)?r:e,Jr=(e,r)=>{if(!Number.isInteger(e))throw new Error(`v parameter must be an integer (${e})`);const n=Array.isArray(r)?r.length:r;if(!Number.isInteger(n))throw new Error(`length parameter must be an integer (${n}, ${typeof n})`);return e=Math.round(e),e<0?0:e>=n?n-1:e},li=(e,r,n)=>(1-e)*r+e*n,ci=(e,r)=>e===r,hi=(e,r)=>e===r?!0:Kr(e)===Kr(r),Kr=e=>typeof e=="string"?e:JSON.stringify(e),Wr=(e,r=0,n=360)=>(T(e,void 0,"v"),T(r,void 0,"min"),T(n,void 0,"max"),e===r||e===n?r:(e>0&&e<r&&(e+=r),e-=r,n-=r,e=e%n,e<0&&(e=n-Math.abs(e)+r),e+r)),Ia=e=>Math.log2(e)%1===0,Ta=(e,r)=>{const n=di(e,r);return(...i)=>n.start(void 0,i)},Fa=(e,r)=>{let n=0;return async(...i)=>{const s=performance.now()-n;if(s>=r){const o=e(s,...i);typeof o=="object"&&await o,n=performance.now()}}},La=async function*(e,r){let n=!1;try{for(;!n;){if(await br(r),n)return;if(typeof e=="function")yield await e();else if(typeof e=="object")if("next"in e&&"return"in e&&"throw"in e){const i=await e.next();if(i.done)return;yield i.value}else throw new Error("interval: produce param does not seem to be a generator?");else throw new Error("produce param does not seem to return a value/Promise and is not a generator?")}}finally{n=!0}},di=(e,r)=>{if(e===void 0)throw new Error("callback parameter is undefined");T(r,"aboveZero","timeoutMs");let n=0,i=0;const s=async(a=r,u)=>new Promise((c,l)=>{i=performance.now();try{T(a,"aboveZero","altTimeoutMs")}catch(h){l(h);return}n!==0&&o(),n=window.setTimeout(async()=>{await e(performance.now()-i,...u),n=0,c(void 0)},a)}),o=()=>{n!==0&&(i=0,window.clearTimeout(n))};return{start:s,cancel:o,get isDone(){return n!==0}}},Da=(e,r,n)=>{r!==void 0&&T(r,"positive","intervalMs");let i=!1,s=0,o=performance.now();const a=r===void 0||r===0?l=>window.requestAnimationFrame(l):l=>window.setTimeout(l,r),u=()=>{!i||(i=!1,s=0)},f=async()=>{if(!i)return;const l=e(s++,performance.now()-o);let h;if(typeof l=="object"?h=await l:h=l,h!==void 0&&!h){u();return}a(f)};return{start:()=>{if(i&&n!==void 0){const l=n(s,performance.now()-o);if(o=performance.now(),l!==void 0&&!l){u();return}}else if(i)return;i=!0,a(f)},get isDone(){return!i},get ticks(){return s},get elapsedMs(){return performance.now()-o},cancel:u}},br=(e,r)=>(T(e,"positive","timeoutMs"),e===0?new Promise(n=>requestAnimationFrame(i=>{n(r)})):new Promise(n=>setTimeout(()=>n(r),e))),Ha=async(e,r)=>(await br(r),Promise.resolve(await e())),Ba=async(e,r=5,n=200,i)=>{T(r,"positive","attempts"),T(n,"positive","startingTimeoutMs");let s=n,o=0;for(;r>0;){try{return await e()}catch{r--}if(o+=s,i&&i.cancel)throw new Error("Cancelled");if(await br(s),i&&i.cancel)throw new Error("Cancelled");s*=2}throw new Error(`Retry failed after ${r} attempts over ${o} ms.`)},yi=(e,r,n=!0)=>{let i=!1,s=1;return{mod(o){s=o},get isDone(){return i},reset:()=>{i=!1,r.reset()},get elapsed(){let o=r.elapsed/(e*s);return n&&(o=xe(o)),o>=1&&(i=!0),o}}},Ua=e=>()=>vi(e,Er()),vi=(e,r=Er())=>{const n=e/1e3;let i=1;return{mod:s=>{i=s},reset:()=>{r.reset()},get elapsed(){const s=r.elapsed*(n*i),o=s-Math.floor(s);if(o<0)throw new Error(`Unexpected cycle fraction less than 0. Elapsed: ${s} f: ${o}`);if(o>1)throw new Error(`Unexpected cycle fraction more than 1. Elapsed: ${s} f: ${o}`);return o}}},Er=()=>{let e=performance.now();return{reset:()=>{e=performance.now()},get elapsed(){return performance.now()-e}}},xi=()=>{let e=0;return{reset:()=>{e=0},get elapsed(){return e++}}},Va=(e,r,n="slow")=>{let i=0,s,o=r;return()=>new Promise(async(a,u)=>{const f=performance.now()-i;if(s===void 0||f>o)try{i=performance.now(),s=await e(f),o=r}catch(c){n==="fast"?(s=void 0,i=0):n==="backoff"&&(o=Math.floor(o*1.2)),u(c);return}a(s)})},Ga=(e,r,n)=>{let i=!1;const s=a=>{o!==0&&(window.clearTimeout(o),o=0),a?r(a):i=!0,n!==void 0&&n(i)};let o=window.setTimeout(()=>{o=0;try{r(`Timeout after ${e}ms`)}finally{n!==void 0&&n(i)}},e);return s};async function*mi(){let e,r=new Promise(s=>e=s),n=0;const i=()=>{e(),r=new Promise(s=>e=s)};try{for(;;)n=window.requestAnimationFrame(i),yield await r}finally{e(),window.cancelAnimationFrame(n)}}async function*Za(e){if(e===0)return yield*mi();let r,n=new Promise(o=>r=o),i=0;const s=()=>{r(),n=new Promise(o=>r=o)};try{for(;;)i=window.setTimeout(s,e),yield await n}finally{r(),window.clearTimeout(i)}}var gi={};R(gi,{arrayElement:()=>$r,arrayIndex:()=>Nr,defaultRandom:()=>ne,float:()=>js,gaussian:()=>qr,gaussianSkewed:()=>Rs,hue:()=>Ft,integer:()=>qs,shortGuid:()=>Os,string:()=>ks,weighted:()=>As,weightedInteger:()=>Cs});var pi={};R(pi,{areValuesIdentical:()=>gt,average:()=>wi,averageWeighted:()=>bi,ensureLength:()=>_i,filterBetween:()=>wt,groupBy:()=>Ri,guardArray:()=>zr,guardIndex:()=>dr,max:()=>$i,maxFast:()=>Mi,maxIndex:()=>zi,min:()=>Ei,minFast:()=>mt,minIndex:()=>Ni,minMaxAvg:()=>Pi,randomElement:()=>$r,randomIndex:()=>Nr,randomPluck:()=>Si,shuffle:()=>Ai,weight:()=>xt,without:()=>Ci,zip:()=>pt});var xt=(e,r)=>{const n=r===void 0?s=>s:r,i=e.filter(s=>typeof s=="number"&&!Number.isNaN(s));return i.map((s,o)=>s*n(o/(i.length-1)))},wi=(...e)=>{if(e===void 0)throw new Error("data parameter is undefined");const r=e.filter(i=>typeof i=="number"&&!Number.isNaN(i));return r.reduce((i,s)=>i+s,0)/r.length},bi=(e,r)=>{typeof r=="function"&&(r=xt(e,r));const n=pt(e,r),[i,s]=n.reduce((o,a)=>[o[0]+a[0]*a[1],o[1]+a[1]],[0,0]);return i/s},Ei=(...e)=>{const r=e.filter(n=>typeof n=="number"&&!Number.isNaN(n));return Math.min(...r)},zi=(...e)=>e.reduce((r,n,i,s)=>n>s[r]?i:r,0),Ni=(...e)=>e.reduce((r,n,i,s)=>n<s[r]?i:r,0),$i=(...e)=>{const r=e.filter(n=>typeof n=="number"&&!Number.isNaN(n));return Math.max(...r)},Mi=e=>{let r=Number.MIN_SAFE_INTEGER;for(let n=0;n<e.length;n++)r=Math.max(r,e[n]);return r},mt=e=>{let r=Number.MIN_SAFE_INTEGER;for(let n=0;n<e.length;n++)r=Math.min(r,e[n]);return r},Pi=(e,r,n)=>{if(e===void 0)throw new Error("'data' is undefined");if(!Array.isArray(e))throw new Error("'data' parameter is not an array");if(e.length===0)return{total:0,min:0,max:0,avg:0};r===void 0&&(r=0),n===void 0&&(n=e.length-1);const i=wt(e,o=>typeof o=="number"&&!Number.isNaN(o),r,n),s=i.reduce((o,a)=>o+a,0);return{total:s,max:Math.max(...i),min:Math.min(...i),avg:s/i.length}},zr=(e,r="?")=>{if(e===void 0)throw new Error(`Param '${r}' is undefined. Expected array.`);if(e===null)throw new Error(`Param '${r}' is null. Expected array.`);if(!Array.isArray(e))throw new Error(`Param '${r}' not an array as expected`)},dr=(e,r,n="index")=>{if(zr(e),T(r,"positive",n),r>e.length-1)throw new Error(`'${n}' ${r} beyond array max of ${e.length-1}`)},gt=(e,r)=>{if(!Array.isArray(e))throw new Error("Param 'array' is not an array.");if(e.length===0)return!0;const n=r===void 0?hi:r,i=e[0];return!e.some(o=>!n(i,o))},pt=(...e)=>{if(e.some(s=>!Array.isArray(s)))throw new Error("All parameters must be an array");const r=e.map(s=>s.length);if(!gt(r))throw new Error("Arrays must be of same length");const n=[],i=r[0];for(let s=0;s<i;s++)n.push(e.map(o=>o[s]));return n},_i=(e,r,n="undefined")=>{if(e===void 0)throw new Error("Data undefined");if(!Array.isArray(e))throw new Error("data is not an array");if(e.length===r)return[...e];if(e.length>r)return e.slice(0,r);const i=[...e],s=r-i.length;for(let o=0;o<s;o++)n==="undefined"?i.push(void 0):n==="repeat"?i.push(e[o%e.length]):n==="first"?i.push(e[0]):n==="last"&&i.push(e[e.length-1]);return i},wt=(e,r,n,i)=>{dr(e,n,"startIndex"),dr(e,i,"endIndex");const s=[];for(let o=n;o<=i;o++)r(e[o],o,e)&&s.push(e[o]);return s},Nr=(e,r=ne)=>Math.floor(r()*e.length),$r=(e,r=ne)=>(zr(e,"array"),e[Math.floor(r()*e.length)]),Si=(e,r=!1,n=ne)=>{if(e===void 0)throw new Error("array is undefined");if(!Array.isArray(e))throw new Error("'array' param is not an array");if(e.length===0)return{value:void 0,array:[]};const i=Nr(e,n);if(r)return{value:e[i],array:e.splice(i,1)};{const s=[...e];return s.splice(i,1),{value:e[i],array:s}}},Ai=(e,r=ne)=>{const n=[...e];for(let i=n.length-1;i>0;i--){const s=Math.floor(r()*(i+1));[n[i],n[s]]=[n[s],n[i]]}return n},Ci=(e,r,n=ci)=>e.filter(i=>!n(i,r)),Ri=(e,r)=>e.reduce((n,i)=>{const s=r(i),o=n.get(s);return o===void 0?n.set(s,[i]):o.push(i),n},new Map),qi={};R(qi,{crossfade:()=>Ii,fromCubicBezier:()=>Oi,functions:()=>Mr,gaussian:()=>zt,get:()=>Qe,getEasings:()=>Ti,mix:()=>Et,tick:()=>ki,time:()=>ji});var Ce=Math.sqrt,M=Math.pow,Qr=Math.cos,se=Math.PI,$e=Math.sin,ji=function(e,r){return bt(e,r,Er)},ki=function(e,r){return bt(e,r,xi)},bt=function(e,r,n){let i;if(typeof e=="function"?i=e:i=Qe(e),i===void 0)throw new Error(`Easing function not found: ${e}`);const s=yi(r,n(),!0);return{get isDone(){return s.isDone},compute:()=>{const o=s.elapsed;return i(o)},reset:()=>{s.reset()}}},Oi=(e,r)=>n=>{const i=1-n,s=i*i,o=n*n,a=o*n;return 3*e*s*n+3*r*i*o+a},Et=(e,r,n,i)=>li(r,n(e),i(e)),Ii=(e,r,n)=>Et(e,e,r,n),Qe=function(e){if(e===null)throw new Error("easingName is null");if(e===void 0)throw new Error("easingName is undefined");const r=e.toLocaleLowerCase(),n=Object.entries(Mr).find(([i,s])=>i.toLocaleLowerCase()===r);return n===void 0?n:n[1]},Ti=function(){return Array.from(Object.keys(Mr))},zt=(e=.4)=>{const r=1/Ce(2*se),n=.5;return i=>{const s=r/e;let o=-2.5,a=(i-n)/e;a*=a,o*=a;const u=s*M(Math.E,o);return u>1?1:u<0?0:u}},Te=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},Fi=e=>e*e*e*e*e,Li=e=>1-M(1-e,5),Di=e=>e*(1-e)*4,Mr={arch:Di,bell:zt(),sineIn:e=>1-Qr(e*se/2),sineOut:e=>$e(e*se/2),quadIn:e=>e*e,quadOut:e=>1-(1-e)*(1-e),sineInOut:e=>-(Qr(se*e)-1)/2,quadInOut:e=>e<.5?2*e*e:1-M(-2*e+2,2)/2,cubicIn:e=>e*e*e,cubicOut:e=>1-M(1-e,3),quartIn:e=>e*e*e*e,quartOut:e=>1-M(1-e,4),quintIn:Fi,quintOut:Li,expoIn:e=>e===0?0:M(2,10*e-10),expoOut:e=>e===1?1:1-M(2,-10*e),quintInOut:e=>e<.5?16*e*e*e*e*e:1-M(-2*e+2,5)/2,expoInOut:e=>e===0?0:e===1?1:e<.5?M(2,20*e-10)/2:(2-M(2,-20*e+10))/2,circIn:e=>1-Ce(1-M(e,2)),circOut:e=>Ce(1-M(e-1,2)),backIn:e=>2.70158*e*e*e-1.70158*e*e,backOut:e=>1+2.70158*M(e-1,3)+1.70158*M(e-1,2),circInOut:e=>e<.5?(1-Ce(1-M(2*e,2)))/2:(Ce(1-M(-2*e+2,2))+1)/2,backInOut:e=>{const n=2.5949095;return e<.5?M(2*e,2)*((n+1)*2*e-n)/2:(M(2*e-2,2)*((n+1)*(e*2-2)+n)+2)/2},elasticIn:e=>{const r=2*se/3;return e===0?0:e===1?1:-M(2,10*e-10)*$e((e*10-10.75)*r)},elasticOut:e=>{const r=2*se/3;return e===0?0:e===1?1:M(2,-10*e)*$e((e*10-.75)*r)+1},bounceIn:e=>1-Te(1-e),bounceOut:Te,elasticInOut:e=>{const r=2*se/4.5;return e===0?0:e===1?1:e<.5?-(M(2,20*e-10)*$e((20*e-11.125)*r))/2:M(2,-20*e+10)*$e((20*e-11.125)*r)/2+1},bounceInOut:e=>e<.5?(1-Te(1-2*e))/2:(1+Te(2*e-1))/2},Hi={};R(Hi,{getCssVariable:()=>Ns,goldenAngleColour:()=>bs,interpolate:()=>$s,opacity:()=>zs,randomHue:()=>Ft,scale:()=>Ms,toHex:()=>Es,toHsl:()=>ws,toRgb:()=>Lt});function ze(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function Oe(e,r){var n=Object.create(e.prototype);for(var i in r)n[i]=r[i];return n}function te(){}var he=.7,pe=1/he,me="\\s*([+-]?\\d+)\\s*",je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",V="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bi=/^#([0-9a-f]{3,8})$/,Ui=new RegExp(`^rgb\\(${me},${me},${me}\\)$`),Vi=new RegExp(`^rgb\\(${V},${V},${V}\\)$`),Gi=new RegExp(`^rgba\\(${me},${me},${me},${je}\\)$`),Zi=new RegExp(`^rgba\\(${V},${V},${V},${je}\\)$`),Ji=new RegExp(`^hsl\\(${je},${V},${V}\\)$`),Ki=new RegExp(`^hsla\\(${je},${V},${V},${je}\\)$`),Yr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ze(te,we,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xr,formatHex:Xr,formatHex8:Wi,formatHsl:Qi,formatRgb:et,toString:et});function Xr(){return this.rgb().formatHex()}function Wi(){return this.rgb().formatHex8()}function Qi(){return Nt(this).formatHsl()}function et(){return this.rgb().formatRgb()}function we(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=Bi.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?rt(r):n===3?new S(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?Fe(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?Fe(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Ui.exec(e))?new S(r[1],r[2],r[3],1):(r=Vi.exec(e))?new S(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Gi.exec(e))?Fe(r[1],r[2],r[3],r[4]):(r=Zi.exec(e))?Fe(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Ji.exec(e))?it(r[1],r[2]/100,r[3]/100,1):(r=Ki.exec(e))?it(r[1],r[2]/100,r[3]/100,r[4]):Yr.hasOwnProperty(e)?rt(Yr[e]):e==="transparent"?new S(NaN,NaN,NaN,0):null}function rt(e){return new S(e>>16&255,e>>8&255,e&255,1)}function Fe(e,r,n,i){return i<=0&&(e=r=n=NaN),new S(e,r,n,i)}function Pr(e){return e instanceof te||(e=we(e)),e?(e=e.rgb(),new S(e.r,e.g,e.b,e.opacity)):new S}function Ue(e,r,n,i){return arguments.length===1?Pr(e):new S(e,r,n,i??1)}function S(e,r,n,i){this.r=+e,this.g=+r,this.b=+n,this.opacity=+i}ze(S,Ue,Oe(te,{brighter(e){return e=e==null?pe:Math.pow(pe,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?he:Math.pow(he,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new S(ae(this.r),ae(this.g),ae(this.b),Ve(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tt,formatHex:tt,formatHex8:Yi,formatRgb:nt,toString:nt}));function tt(){return`#${oe(this.r)}${oe(this.g)}${oe(this.b)}`}function Yi(){return`#${oe(this.r)}${oe(this.g)}${oe(this.b)}${oe((isNaN(this.opacity)?1:this.opacity)*255)}`}function nt(){const e=Ve(this.opacity);return`${e===1?"rgb(":"rgba("}${ae(this.r)}, ${ae(this.g)}, ${ae(this.b)}${e===1?")":`, ${e})`}`}function Ve(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ae(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oe(e){return e=ae(e),(e<16?"0":"")+e.toString(16)}function it(e,r,n,i){return i<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new D(e,r,n,i)}function Nt(e){if(e instanceof D)return new D(e.h,e.s,e.l,e.opacity);if(e instanceof te||(e=we(e)),!e)return new D;if(e instanceof D)return e;e=e.rgb();var r=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(r,n,i),o=Math.max(r,n,i),a=NaN,u=o-s,f=(o+s)/2;return u?(r===o?a=(n-i)/u+(n<i)*6:n===o?a=(i-r)/u+2:a=(r-n)/u+4,u/=f<.5?o+s:2-o-s,a*=60):u=f>0&&f<1?0:a,new D(a,u,f,e.opacity)}function Ge(e,r,n,i){return arguments.length===1?Nt(e):new D(e,r,n,i??1)}function D(e,r,n,i){this.h=+e,this.s=+r,this.l=+n,this.opacity=+i}ze(D,Ge,Oe(te,{brighter(e){return e=e==null?pe:Math.pow(pe,e),new D(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?he:Math.pow(he,e),new D(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*r,s=2*n-i;return new S(ir(e>=240?e-240:e+120,s,i),ir(e,s,i),ir(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new D(st(this.h),Le(this.s),Le(this.l),Ve(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ve(this.opacity);return`${e===1?"hsl(":"hsla("}${st(this.h)}, ${Le(this.s)*100}%, ${Le(this.l)*100}%${e===1?")":`, ${e})`}`}}));function st(e){return e=(e||0)%360,e<0?e+360:e}function Le(e){return Math.max(0,Math.min(1,e||0))}function ir(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}var $t=Math.PI/180,Mt=180/Math.PI,Ze=18,Pt=.96422,_t=1,St=.82521,At=4/29,ge=6/29,Ct=3*ge*ge,Xi=ge*ge*ge;function Rt(e){if(e instanceof G)return new G(e.l,e.a,e.b,e.opacity);if(e instanceof K)return qt(e);e instanceof S||(e=Pr(e));var r=ur(e.r),n=ur(e.g),i=ur(e.b),s=sr((.2225045*r+.7168786*n+.0606169*i)/_t),o,a;return r===n&&n===i?o=a=s:(o=sr((.4360747*r+.3850649*n+.1430804*i)/Pt),a=sr((.0139322*r+.0971045*n+.7141733*i)/St)),new G(116*s-16,500*(o-s),200*(s-a),e.opacity)}function yr(e,r,n,i){return arguments.length===1?Rt(e):new G(e,r,n,i??1)}function G(e,r,n,i){this.l=+e,this.a=+r,this.b=+n,this.opacity=+i}ze(G,yr,Oe(te,{brighter(e){return new G(this.l+Ze*(e??1),this.a,this.b,this.opacity)},darker(e){return new G(this.l-Ze*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,r=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return r=Pt*or(r),e=_t*or(e),n=St*or(n),new S(ar(3.1338561*r-1.6168667*e-.4906146*n),ar(-.9787684*r+1.9161415*e+.033454*n),ar(.0719453*r-.2289914*e+1.4052427*n),this.opacity)}}));function sr(e){return e>Xi?Math.pow(e,1/3):e/Ct+At}function or(e){return e>ge?e*e*e:Ct*(e-At)}function ar(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function ur(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function es(e){if(e instanceof K)return new K(e.h,e.c,e.l,e.opacity);if(e instanceof G||(e=Rt(e)),e.a===0&&e.b===0)return new K(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var r=Math.atan2(e.b,e.a)*Mt;return new K(r<0?r+360:r,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function vr(e,r,n,i){return arguments.length===1?es(e):new K(e,r,n,i??1)}function K(e,r,n,i){this.h=+e,this.c=+r,this.l=+n,this.opacity=+i}function qt(e){if(isNaN(e.h))return new G(e.l,0,0,e.opacity);var r=e.h*$t;return new G(e.l,Math.cos(r)*e.c,Math.sin(r)*e.c,e.opacity)}ze(K,vr,Oe(te,{brighter(e){return new K(this.h,this.c,this.l+Ze*(e??1),this.opacity)},darker(e){return new K(this.h,this.c,this.l-Ze*(e??1),this.opacity)},rgb(){return qt(this).rgb()}}));var jt=-.14861,_r=1.78277,Sr=-.29227,Ye=-.90649,ke=1.97294,ot=ke*Ye,at=ke*_r,ut=_r*Sr-Ye*jt;function rs(e){if(e instanceof ue)return new ue(e.h,e.s,e.l,e.opacity);e instanceof S||(e=Pr(e));var r=e.r/255,n=e.g/255,i=e.b/255,s=(ut*i+ot*r-at*n)/(ut+ot-at),o=i-s,a=(ke*(n-s)-Sr*o)/Ye,u=Math.sqrt(a*a+o*o)/(ke*s*(1-s)),f=u?Math.atan2(a,o)*Mt-120:NaN;return new ue(f<0?f+360:f,u,s,e.opacity)}function xr(e,r,n,i){return arguments.length===1?rs(e):new ue(e,r,n,i??1)}function ue(e,r,n,i){this.h=+e,this.s=+r,this.l=+n,this.opacity=+i}ze(ue,xr,Oe(te,{brighter(e){return e=e==null?pe:Math.pow(pe,e),new ue(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?he:Math.pow(he,e),new ue(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*$t,r=+this.l,n=isNaN(this.s)?0:this.s*r*(1-r),i=Math.cos(e),s=Math.sin(e);return new S(255*(r+n*(jt*i+_r*s)),255*(r+n*(Sr*i+Ye*s)),255*(r+n*(ke*i)),this.opacity)}}));var Xe=e=>()=>e;function kt(e,r){return function(n){return e+n*r}}function ts(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(i){return Math.pow(e+i*r,n)}}function Ar(e,r){var n=r-e;return n?kt(e,n>180||n<-180?n-360*Math.round(n/360):n):Xe(isNaN(e)?r:e)}function ns(e){return(e=+e)==1?A:function(r,n){return n-r?ts(r,n,e):Xe(isNaN(r)?n:r)}}function A(e,r){var n=r-e;return n?kt(e,n):Xe(isNaN(e)?r:e)}var Je=function e(r){var n=ns(r);function i(s,o){var a=n((s=Ue(s)).r,(o=Ue(o)).r),u=n(s.g,o.g),f=n(s.b,o.b),c=A(s.opacity,o.opacity);return function(l){return s.r=a(l),s.g=u(l),s.b=f(l),s.opacity=c(l),s+""}}return i.gamma=e,i}(1);function is(e,r){r||(r=[]);var n=e?Math.min(r.length,e.length):0,i=r.slice(),s;return function(o){for(s=0;s<n;++s)i[s]=e[s]*(1-o)+r[s]*o;return i}}function ss(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function os(e,r){var n=r?r.length:0,i=e?Math.min(n,e.length):0,s=new Array(i),o=new Array(n),a;for(a=0;a<i;++a)s[a]=Cr(e[a],r[a]);for(;a<n;++a)o[a]=r[a];return function(u){for(a=0;a<i;++a)o[a]=s[a](u);return o}}function as(e,r){var n=new Date;return e=+e,r=+r,function(i){return n.setTime(e*(1-i)+r*i),n}}function mr(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}function us(e,r){var n={},i={},s;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(s in r)s in e?n[s]=Cr(e[s],r[s]):i[s]=r[s];return function(o){for(s in n)i[s]=n[s](o);return i}}var gr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fr=new RegExp(gr.source,"g");function fs(e){return function(){return e}}function ls(e){return function(r){return e(r)+""}}function cs(e,r){var n=gr.lastIndex=fr.lastIndex=0,i,s,o,a=-1,u=[],f=[];for(e=e+"",r=r+"";(i=gr.exec(e))&&(s=fr.exec(r));)(o=s.index)>n&&(o=r.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(i=i[0])===(s=s[0])?u[a]?u[a]+=s:u[++a]=s:(u[++a]=null,f.push({i:a,x:mr(i,s)})),n=fr.lastIndex;return n<r.length&&(o=r.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?f[0]?ls(f[0].x):fs(r):(r=f.length,function(c){for(var l=0,h;l<r;++l)u[(h=f[l]).i]=h.x(c);return u.join("")})}function Cr(e,r){var n=typeof r,i;return r==null||n==="boolean"?Xe(r):(n==="number"?mr:n==="string"?(i=we(r))?(r=i,Je):cs:r instanceof we?Je:r instanceof Date?as:ss(r)?is:Array.isArray(r)?os:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?us:mr)(e,r)}function Ot(e){return function(r,n){var i=e((r=Ge(r)).h,(n=Ge(n)).h),s=A(r.s,n.s),o=A(r.l,n.l),a=A(r.opacity,n.opacity);return function(u){return r.h=i(u),r.s=s(u),r.l=o(u),r.opacity=a(u),r+""}}}var hs=Ot(Ar),ds=Ot(A);function ys(e,r){var n=A((e=yr(e)).l,(r=yr(r)).l),i=A(e.a,r.a),s=A(e.b,r.b),o=A(e.opacity,r.opacity);return function(a){return e.l=n(a),e.a=i(a),e.b=s(a),e.opacity=o(a),e+""}}function It(e){return function(r,n){var i=e((r=vr(r)).h,(n=vr(n)).h),s=A(r.c,n.c),o=A(r.l,n.l),a=A(r.opacity,n.opacity);return function(u){return r.h=i(u),r.c=s(u),r.l=o(u),r.opacity=a(u),r+""}}}var vs=It(Ar),xs=It(A);function Tt(e){return function r(n){n=+n;function i(s,o){var a=e((s=xr(s)).h,(o=xr(o)).h),u=A(s.s,o.s),f=A(s.l,o.l),c=A(s.opacity,o.opacity);return function(l){return s.h=a(l),s.s=u(l),s.l=f(Math.pow(l,n)),s.opacity=c(l),s+""}}return i.gamma=r,i}(1)}var ms=Tt(Ar),gs=Tt(A);function ps(e,r){r===void 0&&(r=e,e=Cr);for(var n=0,i=r.length-1,s=r[0],o=new Array(i<0?0:i);n<i;)o[n]=e(s,s=r[++n]);return function(a){var u=Math.max(0,Math.min(i-1,Math.floor(a*=i)));return o[u](a-u)}}var ws=e=>{const r=Lt(e),n=Ss(r.r,r.b,r.g);return r.opacity?{...n,opacity:r.opacity}:n},bs=(e,r=.5,n=.75)=>(m(e,"positive","index"),m(r,"percentage","saturation"),m(n,"percentage","lightness"),`hsl(${e*137.508},${r*100}%,${n*100}%)`),Ft=(e=ne)=>e()*360,Lt=e=>{const r=Rr(e),n=r.rgb();return r.opacity<1?{r:n.r,g:n.g,b:n.b,opacity:r.opacity}:{r:n.r,g:n.g,b:n.b}},Rr=e=>{if(typeof e=="string"){const r=we(e);if(r!==null)return r}else{if(Ps(e))return Ge(e.h,e.s,e.l);if(_s(e))return Ue(e.r,e.g,e.b)}throw new Error(`Could not resolve colour ${JSON.stringify(e)}`)},Es=e=>Rr(e).formatHex(),zs=(e,r)=>{const n=Rr(e);return n.opacity*=r,n.toString()},Ns=(e,r="black",n)=>{n===void 0&&(n=document.body);const i=getComputedStyle(n).getPropertyValue(`--${e}`).trim();return i===void 0||i.length===0?r:i},$s=(e,r,n,i)=>{if(m(e,"percentage","amount"),typeof r!="string")throw new Error("Expected string for 'from' param");if(typeof n!="string")throw new Error("Expected string for 'to' param");let s;typeof i>"u"?s={}:typeof i=="string"?s={space:i}:s=i;const o=Dt(s,[r,n]);if(o===void 0)throw new Error("Could not handle colour/space");return o(e)},Dt=(e,r)=>{if(!Array.isArray(r))throw new Error("Expected one or more colours as parameters");let n;if(typeof e>"u"?n={}:typeof e=="string"?n={space:e}:n=e,!Array.isArray(r))throw new Error("Expected array for colours parameter");if(r.length<2)throw new Error("Interpolation expects at least two colours");const{space:i="rgb",long:s=!1}=n;let o;switch(i){case"lab":o=ys;break;case"hsl":o=s?ds:hs;break;case"hcl":o=s?xs:vs;break;case"cubehelix":o=s?gs:ms;break;case"rgb":o=Je;default:o=Je}return n.gamma&&(i==="rgb"||i==="cubehelix")&&(o=o.gamma(n.gamma)),r.length>2?ps(o,r):o(r[0],r[1])},Ms=(e,r,...n)=>{if(m(e,"aboveZero","steps"),!Array.isArray(n))throw new Error("Expected one or more colours as parameters");const i=Dt(r,n);if(i===void 0)throw new Error("Could not handle colour/space");const s=1/(e-1),o=[];let a=0;for(let u=0;u<e;u++)o.push(i(a)),a+=s,a>1&&(a=1);return o},Ps=e=>!(e.h===void 0||e.s===void 0||e.l===void 0),_s=e=>!(e.r===void 0||e.g===void 0||e.b===void 0),Ss=(e,r,n)=>{e/=255,r/=255,n/=255;var i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,u,f;return a=0,s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360),f=(i+s)/2,s===i?u=0:f<=.5?u=o/(s+i):u=o/(2-s-i),{h:a,s:u,l:f}},ne=Math.random,As=(e="quadIn",r=ne)=>{const n=r(),i=Qe(e);if(i===void 0)throw new Error(`Easing function '${e}' not found.`);return i(n)},Cs=(e,r,n,i=ne)=>{m(e);let s,o,a;if(a="quadIn",s=0,r===void 0)o=e;else if(typeof r=="number")s=e,o=r,n!==void 0&&(a=n);else if(typeof r=="string")o=e,a=r;else throw new Error(`Unexpected value type for maxOrEasing: ${r}`);n!==void 0&&(a=n);const u=Qe(a);if(u===void 0)throw new Error(`Easing '${a}' not found`);if(m(s),o<=s)throw new Error("Max should be greater than min");const f=xe(u(i()));return Math.floor(f*(o-s))+s},qr=(e=1)=>{let i=0,s=0;for(;i===0;)i=Math.random();for(;s===0;)s=Math.random();let o=Math.sqrt(-2*Math.log(i))*Math.cos(2*Math.PI*s);return o=o/10+.5,o>1||o<0?o=qr(e):(o=Math.pow(o,e),o*=1-0,o+=0),o},Rs=e=>()=>qr(e),qs=(e,r)=>{let n=!1;r===void 0&&(e<0&&(e=Math.abs(e),n=!0),r=0);const i=e-r,s=Math.floor(Math.random()*i)+r;return n?-s:s},js=(e,r=0)=>Math.random()*(e-r)+r,ks=e=>Math.random().toString(36).substring(2,e+2),Os=()=>{const e=Math.random()*46656|0,r=Math.random()*46656|0,n=`000${e.toString(36)}`.slice(-3),i=`000${r.toString(36)}`.slice(-3);return n+i},Is={};R(Is,{Arcs:()=>Ht,Beziers:()=>tr,Circles:()=>be,Compound:()=>Mn,Ellipses:()=>Un,Grids:()=>qn,Lines:()=>re,Paths:()=>qe,Points:()=>x,Polar:()=>le,Rects:()=>F,degreeToRadian:()=>ce,radianToDegree:()=>Pa,radiansFromAxisX:()=>_a});var Ht={};R(Ht,{bbox:()=>fn,distanceCenter:()=>xo,fromDegrees:()=>yo,guard:()=>Or,interpolate:()=>Ir,isArc:()=>on,isEquals:()=>mo,isPositioned:()=>W,length:()=>un,point:()=>We,toLine:()=>an,toPath:()=>vo,toSvg:()=>ln});var x={};R(x,{Empty:()=>Ke,angleBetween:()=>Ws,apply:()=>so,bbox:()=>Qs,clamp:()=>ho,distance:()=>kr,distanceToCenter:()=>Ks,distanceToExterior:()=>Js,divide:()=>uo,equals:()=>eo,findMinimum:()=>Re,from:()=>no,fromNumbers:()=>io,guard:()=>w,guardNonZeroPoint:()=>nn,interpolate:()=>to,isPoint:()=>C,multiply:()=>ao,normalise:()=>lo,rotate:()=>fo,subtract:()=>sn,sum:()=>oo,toArray:()=>Ys,toString:()=>Xs,withinRange:()=>ro,wrap:()=>co});var re={};R(re,{angleRadian:()=>Ls,apply:()=>Bt,bbox:()=>rn,distance:()=>Wt,divide:()=>Vt,equals:()=>Fs,extendFromStart:()=>Us,extendX:()=>Bs,fromArray:()=>Vs,fromNumbers:()=>Yt,fromPoints:()=>rr,fromPointsToPath:()=>Zs,guard:()=>jr,interpolate:()=>er,isLine:()=>de,isPolyLine:()=>Ts,joinPointsToLines:()=>Gs,length:()=>fe,multiply:()=>Ut,nearest:()=>Jt,normalise:()=>Ds,rotate:()=>tn,slope:()=>Kt,subtract:()=>Zt,sum:()=>Gt,toFlatArray:()=>Xt,toPath:()=>ee,toString:()=>Qt,toSvgString:()=>en,withinRange:()=>Hs});var de=e=>e===void 0?!1:e.a!==void 0&&e.b!==void 0,Ts=e=>Array.isArray(e)?e.some(n=>!!de(n)):!1,Fs=(e,r)=>e.a===r.a&&e.b===r.b,Bt=(e,r)=>Object.freeze({...e,a:r(e.a),b:r(e.b)}),jr=(e,r="line")=>{if(e===void 0)throw new Error(`${r} undefined`);if(e.a===void 0)throw new Error(`${r}.a undefined. Expected {a:Point, b:Point}`);if(e.b===void 0)throw new Error(`${r}.b undefined. Expected {a:Point, b:Point}`)},Ls=(e,r)=>{let n;if(de(e))n=e.a,r=e.b;else if(n=e,r===void 0)throw new Error("b point must be provided");return Math.atan2(r.y-n.y,r.x-n.x)},Ut=(e,r)=>Object.freeze({...e,a:x.multiply(e.a,r),b:x.multiply(e.b,r)}),Vt=(e,r)=>Object.freeze({...e,a:x.divide(e.a,r),b:x.divide(e.b,r)}),Gt=(e,r)=>Object.freeze({...e,a:x.sum(e.a,r),b:x.sum(e.b,r)}),Zt=(e,r)=>Object.freeze({...e,a:x.subtract(e.a,r),b:x.subtract(e.b,r)}),Ds=(e,r,n)=>Object.freeze({...e,a:x.normalise(e.a,r,n),b:x.normalise(e.b,r,n)}),Hs=(e,r,n)=>Wt(e,r)<=n,fe=(e,r)=>{let n;if(de(e))r=e.b,n=e.a;else if(n=e,r===void 0)throw new Error("Requires both a and b parameters");w(n,"a"),w(n,"b");const i=r.x-n.x,s=r.y-n.y;if(n.z!==void 0&&r.z!==void 0){const o=r.z-n.z;return Math.hypot(i,s,o)}else return Math.hypot(i,s)},Jt=(e,r)=>{const{a:n,b:i}=e,s={x:i.x-n.x,y:i.y-n.y},o={x:r.x-n.x,y:r.y-n.y},a=s.x*s.x+s.y*s.y;let u=o.x*s.x+o.y*s.y;const f=Math.min(1,Math.max(0,u/a));return u=(i.x-n.x)*(r.y-n.y)-(i.y-n.y)*(r.x-n.x),Object.freeze({x:n.x+s.x*f,y:n.y+s.y*f})},Kt=(e,r)=>{let n;if(de(e))n=e.a,r=e.b;else if(n=e,r===void 0)throw new Error("b parameter required");if(r!==void 0)return(r.y-n.y)/(r.x-n.x);throw Error("Second point missing")},Bs=(e,r)=>{const n=e.a.y+(r-e.a.x)*Kt(e);return Object.freeze({x:r,y:n})},Us=(e,r)=>{const n=fe(e);return Object.freeze({...e,a:e.a,b:Object.freeze({x:e.b.x+(e.b.x-e.a.x)/n*r,y:e.b.y+(e.b.y-e.a.y)/n*r})})},Wt=(e,r)=>{if(Array.isArray(e)){const n=e.map(i=>ft(i,r));return mt(n)}else return ft(e,r)},ft=(e,r)=>{if(jr(e,"line"),w(r,"point"),fe(e)===0)return fe(e.a,r);const i=Jt(e,r);return fe(i,r)};function er(e,r,n){if(yt(e,"amount"),de(r)&&(n=r.b,r=r.a),!x.isPoint(r))throw new Error("Expected point");if(!x.isPoint(n))throw new Error("Expected point");w(r,"a"),w(n,"b");const i=fe(r,n),s=i*(1-e),o=n.x-s*(n.x-r.x)/i,a=n.y-s*(n.y-r.y)/i;return Object.freeze({x:o,y:a})}function Qt(e,r){if(de(e))jr(e,"a"),r=e.b,e=e.a;else if(r===void 0)throw new Error("Expect second point if first is a point");return x.toString(e)+"-"+x.toString(r)}var Yt=(e,r,n,i)=>{if(Number.isNaN(e))throw new Error("x1 is NaN");if(Number.isNaN(n))throw new Error("x2 is NaN");if(Number.isNaN(r))throw new Error("y1 is NaN");if(Number.isNaN(i))throw new Error("y2 is NaN");return rr({x:e,y:r},{x:n,y:i})},Xt=(e,r)=>[e.x,e.y,r.x,r.y],en=(e,r)=>[`M${e.x} ${e.y} L ${r.x} ${r.y}`],Vs=e=>{if(!Array.isArray(e))throw new Error("arr parameter is not an array");if(e.length!==4)throw new Error("array is expected to have length four");return Yt(e[0],e[1],e[2],e[3])},rr=(e,r)=>(w(e,"a"),w(r,"b"),e=Object.freeze({...e}),r=Object.freeze({...r}),Object.freeze({a:e,b:r})),Gs=(...e)=>{const r=[];let n=e[0];for(let i=1;i<e.length;i++)r.push(rr(n,e[i])),n=e[i];return r},Zs=(e,r)=>ee(rr(e,r)),rn=e=>x.bbox(e.a,e.b),ee=e=>{const{a:r,b:n}=e;return Object.freeze({...e,length:()=>fe(r,n),interpolate:i=>er(i,r,n),bbox:()=>rn(e),toString:()=>Qt(r,n),toFlatArray:()=>Xt(r,n),toSvgString:()=>en(r,n),toPoints:()=>[r,n],rotate:(i,s)=>ee(tn(e,i,s)),sum:i=>ee(Gt(e,i)),divide:i=>ee(Vt(e,i)),multiply:i=>ee(Ut(e,i)),subtract:i=>ee(Zt(e,i)),apply:i=>ee(Bt(e,i)),kind:"line"})},tn=(e,r,n)=>r===void 0||r===0?e:(n===void 0&&(n=.5),typeof n=="number"&&(yt(n,"origin"),n=er(n,e.a,e.b)),Object.freeze({...e,a:x.rotate(e.a,r,n),b:x.rotate(e.b,r,n)})),Ke=Object.freeze({x:0,y:0}),Re=(e,...r)=>{if(r.length===0)throw new Error("No points provided");let n=r[0];return r.forEach(i=>{n=e(n,i)}),n},kr=(e,r)=>(w(e,"a"),w(r,"b"),Math.hypot(r.x-e.x,r.y-e.y)),Js=(e,r)=>{if(F.isRectPositioned(r))return F.distanceFromExterior(r,e);if(be.isCirclePositioned(r))return be.distanceFromExterior(r,e);if(C(r))return kr(e,r);throw new Error("Unknown shape")},Ks=(e,r)=>{if(F.isRectPositioned(r))return F.distanceFromExterior(r,e);if(be.isCirclePositioned(r))return be.distanceFromExterior(r,e);if(C(r))return kr(e,r);throw new Error("Unknown shape")},w=(e,r="Point")=>{if(e===void 0)throw new Error(`'${r}' is undefined. Expected {x,y} got ${JSON.stringify(e)}`);if(e===null)throw new Error(`'${r}' is null. Expected {x,y} got ${JSON.stringify(e)}`);if(e.x===void 0)throw new Error(`'${r}.x' is undefined. Expected {x,y} got ${JSON.stringify(e)}`);if(e.y===void 0)throw new Error(`'${r}.y' is undefined. Expected {x,y} got ${JSON.stringify(e)}`);if(typeof e.x!="number")throw new Error(`'${r}.x' must be a number`);if(typeof e.y!="number")throw new Error(`'${r}.y' must be a number`);if(Number.isNaN(e.x))throw new Error(`'${r}.x' is NaN`);if(Number.isNaN(e.y))throw new Error(`'${r}.y' is NaN`)},nn=(e,r="pt")=>(w(e,r),m(e.x,"nonZero",`${r}.x`),m(e.y,"nonZero",`${r}.y`),!0),Ws=(e,r)=>Math.atan2(r.y-e.y,r.x-e.x),Qs=(...e)=>{const r=Re((c,l)=>c.x<l.x?c:l,...e),n=Re((c,l)=>c.x>l.x?c:l,...e),i=Re((c,l)=>c.y<l.y?c:l,...e),s=Re((c,l)=>c.y>l.y?c:l,...e),o={x:r.x,y:i.y},a={x:n.x,y:i.y},u={x:n.x,y:s.y},f={x:r.x,y:s.y};return F.maxFromCorners(o,a,u,f)},C=e=>!(e===void 0||e.x===void 0||e.y===void 0),Ys=e=>[e.x,e.y],Xs=e=>e.z!==void 0?`(${e.x},${e.y},${e.z})`:`(${e.x},${e.y})`,eo=(e,r)=>e.x===r.x&&e.y===r.y,ro=(e,r,n)=>{typeof n=="number"&&(n={x:n,y:n});const i=Math.abs(r.x-e.x),s=Math.abs(r.y-e.y);return i<=n.x&&s<=n.y},to=(e,r,n)=>er(e,r,n),no=(e,r)=>{if(Array.isArray(e)){if(e.length!==2)throw new Error("Expected array of length two, got "+e.length);return Object.freeze({x:e[0],y:e[1]})}else{if(e===void 0)e=0;else if(Number.isNaN(e))throw new Error("x is NaN");if(r===void 0)r=0;else if(Number.isNaN(r))throw new Error("y is NaN");return Object.freeze({x:e,y:r})}},io=(...e)=>{const r=[];if(Array.isArray(e[0]))e.forEach(n=>{if(n.length%2!==0)throw new Error("coords array should be even-numbered");r.push(Object.freeze({x:n[0],y:n[1]}))});else{if(e.length!==2)throw new Error("Expected two elements: [x,y]");r.push(Object.freeze({x:e[0],y:e[1]}))}return r};function sn(e,r,n,i){if(C(e))return w(e,"a"),C(r)?(w(r,"b"),{x:e.x-r.x,y:e.y-r.y}):(n===void 0&&(n=0),{x:e.x-r,y:e.y-n});if(m(e,"","a"),typeof r!="number")throw new Error("Second parameter is expected to by y value");return m(r,"","b"),n===void 0&&(n=0),i===void 0&&(i=0),{x:e-n,y:r-i}}var so=(e,r)=>({...e,x:r(e.x,"x"),y:r(e.y,"y")}),oo=function(e,r,n,i){let s,o;if(C(e))if(s=e,r===void 0&&(r=Ke),C(r))o=r;else{if(r===void 0)throw new Error("Expects x coordinate");o={x:r,y:n===void 0?0:n}}else if(!C(r)){if(r===void 0)throw new Error("Expected number as second param");if(s={x:e,y:r},n===void 0)throw new Error("Expects x coordiante");o={x:n,y:i===void 0?0:i}}if(s===void 0)throw new Error("ptA missing");if(o===void 0)throw new Error("ptB missing");return w(s,"a"),w(o,"b"),{x:s.x+o.x,y:s.y+o.y}};function ao(e,r,n){if(w(e,"a"),typeof r=="number")return typeof n>"u"&&(n=1),m(n,"","y"),m(r,"","x"),{x:e.x*r,y:e.y*n};if(C(r))return w(r,"b"),{x:e.x*r.x,y:e.y*r.y};throw new Error("Invalid arguments")}function uo(e,r,n,i){if(C(e))return C(r)?(w(e),nn(r),{x:e.x/r.x,y:e.y/r.y}):(n===void 0&&(n=1),w(e),m(r,"nonZero","x"),m(n,"nonZero","y"),{x:e.x/r,y:e.y/n});if(typeof r!="number")throw new Error("expected second parameter to be y1 coord");return m(e,"positive","x1"),m(r,"positive","y1"),n===void 0&&(n=1),i===void 0&&(i=1),m(n,"nonZero","x2"),m(i,"nonZero","y2"),{x:e/n,y:r/i}}var fo=(e,r,n)=>{n===void 0&&(n={x:0,y:0}),w(n,"origin"),w(e,"pt"),m(r,"","amountRadian");const i=le.fromCartesian(e,n),s=le.rotate(i,r);return le.toCartesian(s,n)};function lo(e,r,n,i){if(C(e))return m(r,"positive","width"),m(n,"positive","height"),{x:e.x/r,y:e.y/n};if(m(e,"positive","x"),m(r,"positive","y"),m(n,"positive","width"),i===void 0)throw new Error("Expected height parameter");return m(i,"positive","height"),{x:e/n,y:r/i}}var co=(e,r,n={x:0,y:0})=>(w(e,"pt"),w(r,"ptMax"),w(n,"ptMin"),{x:Wr(e.x,n.x,r.x),y:Wr(e.y,n.y,r.y)});function ho(e,r,n,i){if(C(e))return r===void 0&&(r=0),n===void 0&&(n=1),m(r,"","min"),m(n,"","max"),{x:xe(e.x,r,n),y:xe(e.y,r,n)};if(r===void 0)throw new Error("Expected y coordinate");return n===void 0&&(n=0),i===void 0&&(i=1),m(e,"","x"),m(r,"","y"),m(n,"","min"),m(i,"","max"),{x:xe(e,n,i),y:xe(r,n,i)}}var on=e=>e.startRadian!==void 0&&e.endRadian!==void 0,W=e=>e.x!==void 0&&e.y!==void 0,lt=Math.PI*2;function yo(e,r,n,i){const s={radius:e,startRadian:ce(r),endRadian:ce(n)};if(C(i)){w(i);const o={...s,x:i.x,y:i.y};return Object.freeze(o)}else return Object.freeze(s)}var an=e=>re.fromPoints(We(e,e.startRadian),We(e,e.endRadian)),We=(e,r,n)=>{if(r>e.endRadian)throw new Error("angleRadian beyond end angle of arc");if(r<e.startRadian)throw new Error("angleRadian beyond start angle of arc");return n===void 0&&(W(e)?n=e:n={x:0,y:0}),{x:Math.cos(r)*e.radius+n.x,y:Math.sin(r)*e.radius+n.y}},Or=e=>{if(e===void 0)throw new Error("Arc is undefined");if(W(e)&&w(e,"arc"),e.radius===void 0)throw new Error(`Arc radius is undefined (${JSON.stringify(e)})`);if(typeof e.radius!="number")throw new Error("Radius must be a number");if(Number.isNaN(e.radius))throw new Error("Radius is NaN");if(e.radius<=0)throw new Error("Radius must be greater than zero");if(e.startRadian===void 0)throw new Error("Arc is missing 'startRadian' field");if(e.endRadian===void 0)throw new Error("Arc is missing 'startRadian' field");if(Number.isNaN(e.endRadian))throw new Error("Arc endRadian is NaN");if(Number.isNaN(e.startRadian))throw new Error("Arc endRadian is NaN");if(e.startRadian>=e.endRadian)throw new Error("startRadian is expected to be les than endRadian")},Ir=(e,r,n)=>(Or(r),We(r,r.startRadian+(r.endRadian-r.startRadian)*e,n)),vo=e=>(Or(e),Object.freeze({...e,interpolate:r=>Ir(r,e),bbox:()=>fn(e),length:()=>un(e),toSvgString:()=>ln(e),kind:"arc"})),un=e=>lt*e.radius*((e.startRadian-e.endRadian)/lt),fn=e=>{if(W(e)){const r=Ir(.5,e),n=an(e);return x.bbox(r,n.a,n.b)}else return{width:e.radius*2,height:e.radius*2}},ln=(e,r,n,i,s)=>{if(on(e))return W(e)?De(e,e.radius,e.startRadian,e.endRadian,r):C(r)?De(r,e.radius,e.startRadian,e.endRadian,n):De({x:0,y:0},e.radius,e.startRadian,e.endRadian);if(n===void 0)throw new Error("startAngle undefined");if(i===void 0)throw new Error("endAngle undefined");if(C(e)){if(typeof r=="number"&&typeof n=="number"&&typeof i=="number")return De(e,r,n,i,s);throw new Error("Expected (point, number, number, number). Missing a number param.")}else throw new Error("Expected (point, number, number, number). Missing first point.")},De=(e,r,n,i,s)=>{(s===void 0||typeof s!="object")&&(s={});const o=i-n===360,a=le.toCartesian(r,i-.01,e),u=le.toCartesian(r,n,e),{largeArc:f=!1,sweep:c=!1}=s,l=[`
    M ${a.x} ${a.y}
    A ${r} ${r} 0 ${f?"1":"0"} ${c?"1":"0"} ${u.x} ${u.y},
  `];return o&&l.push("z"),l},xo=(e,r)=>x.distance(e,r),mo=(e,r)=>e.radius!==r.radius?!1:W(e)&&W(r)?!(e.x!==r.x||e.y!==r.y||e.z!==r.z):!(!(!W(e)&&!W(r))||e.endRadian!==r.endRadian||e.startRadian!==r.startRadian),tr={};R(tr,{computeQuadraticSimple:()=>Mo,cubic:()=>_o,isCubicBezier:()=>dn,isQuadraticBezier:()=>hn,quadratic:()=>vn,quadraticBend:()=>$o,quadraticSimple:()=>Tr,quadraticToSvgString:()=>yn,toPath:()=>Po});var{abs:Me,cos:J,sin:ve,acos:go,atan2:Pe,sqrt:Y,pow:I}=Math;function _e(e){return e<0?-I(-e,1/3):I(e,1/3)}var cn=Math.PI,He=2*cn,X=cn/2,po=1e-6,lr=Number.MAX_SAFE_INTEGER||9007199254740991,cr=Number.MIN_SAFE_INTEGER||-9007199254740991,wo={x:0,y:0,z:0},d={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,r){const n=r(e);let i=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(i+=n.z*n.z),Y(i)},compute:function(e,r,n){if(e===0)return r[0].t=0,r[0];const i=r.length-1;if(e===1)return r[i].t=1,r[i];const s=1-e;let o=r;if(i===0)return r[0].t=e,r[0];if(i===1){const u={x:s*o[0].x+e*o[1].x,y:s*o[0].y+e*o[1].y,t:e};return n&&(u.z=s*o[0].z+e*o[1].z),u}if(i<4){let u=s*s,f=e*e,c,l,h,y=0;i===2?(o=[o[0],o[1],o[2],wo],c=u,l=s*e*2,h=f):i===3&&(c=u*s,l=u*e*3,h=s*f*3,y=e*f);const g={x:c*o[0].x+l*o[1].x+h*o[2].x+y*o[3].x,y:c*o[0].y+l*o[1].y+h*o[2].y+y*o[3].y,t:e};return n&&(g.z=c*o[0].z+l*o[1].z+h*o[2].z+y*o[3].z),g}const a=JSON.parse(JSON.stringify(r));for(;a.length>1;){for(let u=0;u<a.length-1;u++)a[u]={x:a[u].x+(a[u+1].x-a[u].x)*e,y:a[u].y+(a[u+1].y-a[u].y)*e},typeof a[u].z<"u"&&(a[u]=a[u].z+(a[u+1].z-a[u].z)*e);a.splice(a.length-1,1)}return a[0].t=e,a[0]},computeWithRatios:function(e,r,n,i){const s=1-e,o=n,a=r;let u=o[0],f=o[1],c=o[2],l=o[3],h;if(u*=s,f*=e,a.length===2)return h=u+f,{x:(u*a[0].x+f*a[1].x)/h,y:(u*a[0].y+f*a[1].y)/h,z:i?(u*a[0].z+f*a[1].z)/h:!1,t:e};if(u*=s,f*=2*s,c*=e*e,a.length===3)return h=u+f+c,{x:(u*a[0].x+f*a[1].x+c*a[2].x)/h,y:(u*a[0].y+f*a[1].y+c*a[2].y)/h,z:i?(u*a[0].z+f*a[1].z+c*a[2].z)/h:!1,t:e};if(u*=s,f*=1.5*s,c*=3*s,l*=e*e*e,a.length===4)return h=u+f+c+l,{x:(u*a[0].x+f*a[1].x+c*a[2].x+l*a[3].x)/h,y:(u*a[0].y+f*a[1].y+c*a[2].y+l*a[3].y)/h,z:i?(u*a[0].z+f*a[1].z+c*a[2].z+l*a[3].z)/h:!1,t:e}},derive:function(e,r){const n=[];for(let i=e,s=i.length,o=s-1;s>1;s--,o--){const a=[];for(let u=0,f;u<o;u++)f={x:o*(i[u+1].x-i[u].x),y:o*(i[u+1].y-i[u].y)},r&&(f.z=o*(i[u+1].z-i[u].z)),a.push(f);n.push(a),i=a}return n},between:function(e,r,n){return r<=e&&e<=n||d.approximately(e,r)||d.approximately(e,n)},approximately:function(e,r,n){return Me(e-r)<=(n||po)},length:function(e){const n=d.Tvalues.length;let i=0;for(let s=0,o;s<n;s++)o=.5*d.Tvalues[s]+.5,i+=d.Cvalues[s]*d.arcfn(o,e);return .5*i},map:function(e,r,n,i,s){const o=n-r,a=s-i,u=e-r,f=u/o;return i+a*f},lerp:function(e,r,n){const i={x:r.x+e*(n.x-r.x),y:r.y+e*(n.y-r.y)};return r.z!==void 0&&n.z!==void 0&&(i.z=r.z+e*(n.z-r.z)),i},pointToString:function(e){let r=e.x+"/"+e.y;return typeof e.z<"u"&&(r+="/"+e.z),r},pointsToString:function(e){return"["+e.map(d.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,r,n){const i=r.x-e.x,s=r.y-e.y,o=n.x-e.x,a=n.y-e.y,u=i*a-s*o,f=i*o+s*a;return Pe(u,f)},round:function(e,r){const n=""+e,i=n.indexOf(".");return parseFloat(n.substring(0,i+1+r))},dist:function(e,r){const n=e.x-r.x,i=e.y-r.y;return Y(n*n+i*i)},closest:function(e,r){let n=I(2,63),i,s;return e.forEach(function(o,a){s=d.dist(r,o),s<n&&(n=s,i=a)}),{mdist:n,mpos:i}},abcratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const n=I(e,r)+I(1-e,r),i=n-1;return Me(i/n)},projectionratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const n=I(1-e,r),i=I(e,r)+n;return n/i},lli8:function(e,r,n,i,s,o,a,u){const f=(e*i-r*n)*(s-a)-(e-n)*(s*u-o*a),c=(e*i-r*n)*(o-u)-(r-i)*(s*u-o*a),l=(e-n)*(o-u)-(r-i)*(s-a);return l==0?!1:{x:f/l,y:c/l}},lli4:function(e,r,n,i){const s=e.x,o=e.y,a=r.x,u=r.y,f=n.x,c=n.y,l=i.x,h=i.y;return d.lli8(s,o,a,u,f,c,l,h)},lli:function(e,r){return d.lli4(e,e.c,r,r.c)},makeline:function(e,r){return new E(e.x,e.y,(e.x+r.x)/2,(e.y+r.y)/2,r.x,r.y)},findbbox:function(e){let r=lr,n=lr,i=cr,s=cr;return e.forEach(function(o){const a=o.bbox();r>a.x.min&&(r=a.x.min),n>a.y.min&&(n=a.y.min),i<a.x.max&&(i=a.x.max),s<a.y.max&&(s=a.y.max)}),{x:{min:r,mid:(r+i)/2,max:i,size:i-r},y:{min:n,mid:(n+s)/2,max:s,size:s-n}}},shapeintersections:function(e,r,n,i,s){if(!d.bboxoverlap(r,i))return[];const o=[],a=[e.startcap,e.forward,e.back,e.endcap],u=[n.startcap,n.forward,n.back,n.endcap];return a.forEach(function(f){f.virtual||u.forEach(function(c){if(c.virtual)return;const l=f.intersects(c,s);l.length>0&&(l.c1=f,l.c2=c,l.s1=e,l.s2=n,o.push(l))})}),o},makeshape:function(e,r,n){const i=r.points.length,s=e.points.length,o=d.makeline(r.points[i-1],e.points[0]),a=d.makeline(e.points[s-1],r.points[0]),u={startcap:o,forward:e,back:r,endcap:a,bbox:d.findbbox([o,e,r,a])};return u.intersections=function(f){return d.shapeintersections(u,u.bbox,f,f.bbox,n)},u},getminmax:function(e,r,n){if(!n)return{min:0,max:0};let i=lr,s=cr,o,a;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let u=0,f=n.length;u<f;u++)o=n[u],a=e.get(o),a[r]<i&&(i=a[r]),a[r]>s&&(s=a[r]);return{min:i,mid:(i+s)/2,max:s,size:s-i}},align:function(e,r){const n=r.p1.x,i=r.p1.y,s=-Pe(r.p2.y-i,r.p2.x-n),o=function(a){return{x:(a.x-n)*J(s)-(a.y-i)*ve(s),y:(a.x-n)*ve(s)+(a.y-i)*J(s)}};return e.map(o)},roots:function(e,r){r=r||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=e.length-1,i=d.align(e,r),s=function(v){return 0<=v&&v<=1};if(n===2){const v=i[0].y,N=i[1].y,P=i[2].y,j=v-2*N+P;if(j!==0){const U=-Y(N*N-v*P),L=-v+N,Ne=-(U+L)/j,ie=-(-U+L)/j;return[Ne,ie].filter(s)}else if(N!==P&&j===0)return[(2*N-P)/(2*N-2*P)].filter(s);return[]}const o=i[0].y,a=i[1].y,u=i[2].y,f=i[3].y;let c=-o+3*a-3*u+f,l=3*o-6*a+3*u,h=-3*o+3*a,y=o;if(d.approximately(c,0)){if(d.approximately(l,0))return d.approximately(h,0)?[]:[-y/h].filter(s);const v=Y(h*h-4*l*y),N=2*l;return[(v-h)/N,(-h-v)/N].filter(s)}l/=c,h/=c,y/=c;const g=(3*h-l*l)/3,z=g/3,k=(2*l*l*l-9*l*h+27*y)/27,$=k/2,B=$*$+z*z*z;let O,_,p,b,q;if(B<0){const v=-g/3,N=v*v*v,P=Y(N),j=-k/(2*P),U=j<-1?-1:j>1?1:j,L=go(U),Ne=_e(P),ie=2*Ne;return p=ie*J(L/3)-l/3,b=ie*J((L+He)/3)-l/3,q=ie*J((L+2*He)/3)-l/3,[p,b,q].filter(s)}else{if(B===0)return O=$<0?_e(-$):-_e($),p=2*O-l/3,b=-O-l/3,[p,b].filter(s);{const v=Y(B);return O=_e(-$+v),_=_e($+v),[O-_-l/3].filter(s)}}},droots:function(e){if(e.length===3){const r=e[0],n=e[1],i=e[2],s=r-2*n+i;if(s!==0){const o=-Y(n*n-r*i),a=-r+n,u=-(o+a)/s,f=-(-o+a)/s;return[u,f]}else if(n!==i&&s===0)return[(2*n-i)/(2*(n-i))];return[]}if(e.length===2){const r=e[0],n=e[1];return r!==n?[r/(r-n)]:[]}return[]},curvature:function(e,r,n,i,s){let o,a,u,f,c=0,l=0;const h=d.compute(e,r),y=d.compute(e,n),g=h.x*h.x+h.y*h.y;if(i?(o=Y(I(h.y*y.z-y.y*h.z,2)+I(h.z*y.x-y.z*h.x,2)+I(h.x*y.y-y.x*h.y,2)),a=I(g+h.z*h.z,3/2)):(o=h.x*y.y-h.y*y.x,a=I(g,3/2)),o===0||a===0)return{k:0,r:0};if(c=o/a,l=a/o,!s){const z=d.curvature(e-.001,r,n,i,!0).k,k=d.curvature(e+.001,r,n,i,!0).k;f=(k-c+(c-z))/2,u=(Me(k-c)+Me(c-z))/2}return{k:c,r:l,dk:f,adk:u}},inflections:function(e){if(e.length<4)return[];const r=d.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=r[2].x*r[1].y,i=r[3].x*r[1].y,s=r[1].x*r[2].y,o=r[3].x*r[2].y,a=18*(-3*n+2*i+3*s-o),u=18*(3*n-i-3*s),f=18*(s-n);if(d.approximately(a,0)){if(!d.approximately(u,0)){let y=-f/u;if(0<=y&&y<=1)return[y]}return[]}const c=u*u-4*a*f,l=Math.sqrt(c),h=2*a;return d.approximately(h,0)?[]:[(l-u)/h,-(u+l)/h].filter(function(y){return 0<=y&&y<=1})},bboxoverlap:function(e,r){const n=["x","y"],i=n.length;for(let s=0,o,a,u,f;s<i;s++)if(o=n[s],a=e[o].mid,u=r[o].mid,f=(e[o].size+r[o].size)/2,Me(a-u)>=f)return!1;return!0},expandbox:function(e,r){r.x.min<e.x.min&&(e.x.min=r.x.min),r.y.min<e.y.min&&(e.y.min=r.y.min),r.z&&r.z.min<e.z.min&&(e.z.min=r.z.min),r.x.max>e.x.max&&(e.x.max=r.x.max),r.y.max>e.y.max&&(e.y.max=r.y.max),r.z&&r.z.max>e.z.max&&(e.z.max=r.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,r,n){const i=e.bbox(),s=r.bbox(),o=1e5,a=n||.5;if(i.x.size+i.y.size<a&&s.x.size+s.y.size<a)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(r._t1+r._t2)/2|0)/o];let u=e.split(.5),f=r.split(.5),c=[{left:u.left,right:f.left},{left:u.left,right:f.right},{left:u.right,right:f.right},{left:u.right,right:f.left}];c=c.filter(function(h){return d.bboxoverlap(h.left.bbox(),h.right.bbox())});let l=[];return c.length===0||(c.forEach(function(h){l=l.concat(d.pairiteration(h.left,h.right,a))}),l=l.filter(function(h,y){return l.indexOf(h)===y})),l},getccenter:function(e,r,n){const i=r.x-e.x,s=r.y-e.y,o=n.x-r.x,a=n.y-r.y,u=i*J(X)-s*ve(X),f=i*ve(X)+s*J(X),c=o*J(X)-a*ve(X),l=o*ve(X)+a*J(X),h=(e.x+r.x)/2,y=(e.y+r.y)/2,g=(r.x+n.x)/2,z=(r.y+n.y)/2,k=h+u,$=y+f,B=g+c,O=z+l,_=d.lli8(h,y,k,$,g,z,B,O),p=d.dist(_,e);let b=Pe(e.y-_.y,e.x-_.x),q=Pe(r.y-_.y,r.x-_.x),v=Pe(n.y-_.y,n.x-_.x),N;return b<v?((b>q||q>v)&&(b+=He),b>v&&(N=v,v=b,b=N)):v<q&&q<b?(N=v,v=b,b=N):v+=He,_.s=b,_.e=v,_.r=p,_},numberSort:function(e,r){return e-r}},Be=class{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return d.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),n=1;n<e.length;n++)d.expandbox(r,e[n].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(n){r.push(...n.offset(e))}),new Be(r)}},{abs:Se,min:ct,max:ht,cos:bo,sin:Eo,acos:zo,sqrt:Ae}=Math,No=Math.PI,E=class{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),n=!1;if(typeof r[0]=="object"){n=r.length;const y=[];r.forEach(function(g){["x","y","z"].forEach(function(z){typeof g[z]<"u"&&y.push(g[z])})}),r=y}let i=!1;const s=r.length;if(n){if(n>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");i=!0}}else if(s!==6&&s!==8&&s!==9&&s!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const o=this._3d=!i&&(s===9||s===12)||e&&e[0]&&typeof e[0].z<"u",a=this.points=[];for(let y=0,g=o?3:2;y<s;y+=g){var u={x:r[y],y:r[y+1]};o&&(u.z=r[y+2]),a.push(u)}const f=this.order=a.length-1,c=this.dims=["x","y"];o&&c.push("z"),this.dimlen=c.length;const l=d.align(a,{p1:a[0],p2:a[f]}),h=d.dist(a[0],a[f]);this._linear=l.reduce((y,g)=>y+Se(g.y),0)<h/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,n,i){if(typeof i>"u"&&(i=.5),i===0)return new E(r,r,n);if(i===1)return new E(e,r,r);const s=E.getABC(2,e,r,n,i);return new E(e,s.A,n)}static cubicFromPoints(e,r,n,i,s){typeof i>"u"&&(i=.5);const o=E.getABC(3,e,r,n,i);typeof s>"u"&&(s=d.dist(r,o.C));const a=s*(1-i)/i,u=d.dist(e,n),f=(n.x-e.x)/u,c=(n.y-e.y)/u,l=s*f,h=s*c,y=a*f,g=a*c,z={x:r.x-l,y:r.y-h},k={x:r.x+y,y:r.y+g},$=o.A,B={x:$.x+(z.x-$.x)/(1-i),y:$.y+(z.y-$.y)/(1-i)},O={x:$.x+(k.x-$.x)/i,y:$.y+(k.y-$.y)/i},_={x:e.x+(B.x-e.x)/i,y:e.y+(B.y-e.y)/i},p={x:n.x+(O.x-n.x)/(1-i),y:n.y+(O.y-n.y)/(1-i)};return new E(e,_,p,n)}static getUtils(){return d}getUtils(){return E.getUtils()}static get PolyBezier(){return Be}valueOf(){return this.toString()}toString(){return d.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,n=e[0].y,i=["M",r,n,this.order===2?"Q":"C"];for(let s=1,o=e.length;s<o;s++)i.push(e[s].x),i.push(e[s].y);return i.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=d.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=d.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return d.length(this.derivative.bind(this))}static getABC(e=2,r,n,i,s=.5){const o=d.projectionratio(s,e),a=1-o,u={x:o*r.x+a*i.x,y:o*r.y+a*i.y},f=d.abcratio(s,e);return{A:{x:n.x+(n.x-u.x)/f,y:n.y+(n.y-u.y)/f},B:n,C:u,S:r,E:i}}getABC(e,r){r=r||this.get(e);let n=this.points[0],i=this.points[this.order];return E.getABC(this.order,n,r,i,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e)return this._lut;this._lut=[],e++,this._lut=[];for(let r=0,n,i;r<e;r++)i=r/(e-1),n=this.compute(i),n.t=i,this._lut.push(n);return this._lut}on(e,r){r=r||5;const n=this.getLUT(),i=[];for(let s=0,o,a=0;s<n.length;s++)o=n[s],d.dist(o,e)<r&&(i.push(o),a+=s/n.length);return i.length?t/=i.length:!1}project(e){const r=this.getLUT(),n=r.length-1,i=d.closest(r,e),s=i.mpos,o=(s-1)/n,a=(s+1)/n,u=.1/n;let f=i.mdist,c=o,l=c,h;f+=1;for(let y;c<a+u;c+=u)h=this.compute(c),y=d.dist(e,h),y<f&&(f=y,l=c);return l=l<0?0:l>1?1:l,h=this.compute(l),h.t=l,h.d=f,h}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?d.computeWithRatios(e,this.points,this.ratios,this._3d):d.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],n=e.length;for(let i=1,s,o;i<n;i++)s=e[i],o=e[i-1],r[i]={x:(n-i)/n*s.x+i/n*o.x,y:(n-i)/n*s.y+i/n*o.y};return r[n]=e[n-1],new E(r)}derivative(e){return d.compute(e,this.dpoints[0],this._3d)}dderivative(e){return d.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new E(d.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return d.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return d.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),n=Ae(r.x*r.x+r.y*r.y);return{x:-r.y/n,y:r.x/n}}__normal3(e){const r=this.derivative(e),n=this.derivative(e+.01),i=Ae(r.x*r.x+r.y*r.y+r.z*r.z),s=Ae(n.x*n.x+n.y*n.y+n.z*n.z);r.x/=i,r.y/=i,r.z/=i,n.x/=s,n.y/=s,n.z/=s;const o={x:n.y*r.z-n.z*r.y,y:n.z*r.x-n.x*r.z,z:n.x*r.y-n.y*r.x},a=Ae(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=a,o.y/=a,o.z/=a;const u=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:u[0]*r.x+u[1]*r.y+u[2]*r.z,y:u[3]*r.x+u[4]*r.y+u[5]*r.z,z:u[6]*r.x+u[7]*r.y+u[8]*r.z}}hull(e){let r=this.points,n=[],i=[],s=0;for(i[s++]=r[0],i[s++]=r[1],i[s++]=r[2],this.order===3&&(i[s++]=r[3]);r.length>1;){n=[];for(let o=0,a,u=r.length-1;o<u;o++)a=d.lerp(e,r[o],r[o+1]),i[s++]=a,n.push(a);r=n}return i}split(e,r){if(e===0&&!!r)return this.split(r).left;if(r===1)return this.split(e).right;const n=this.hull(e),i={left:this.order===2?new E([n[0],n[3],n[5]]):new E([n[0],n[4],n[7],n[9]]),right:this.order===2?new E([n[5],n[4],n[2]]):new E([n[9],n[8],n[6],n[3]]),span:n};return i.left._t1=d.map(0,0,1,this._t1,this._t2),i.left._t2=d.map(e,0,1,this._t1,this._t2),i.right._t1=d.map(e,0,1,this._t1,this._t2),i.right._t2=d.map(1,0,1,this._t1,this._t2),r?(r=d.map(r,e,1,0,1),i.right.split(r).left):i}extrema(){const e={};let r=[];return this.dims.forEach(function(n){let i=function(o){return o[n]},s=this.dpoints[0].map(i);e[n]=d.droots(s),this.order===3&&(s=this.dpoints[1].map(i),e[n]=e[n].concat(d.droots(s))),e[n]=e[n].filter(function(o){return o>=0&&o<=1}),r=r.concat(e[n].sort(d.numberSort))}.bind(this)),e.values=r.sort(d.numberSort).filter(function(n,i){return r.indexOf(n)===i}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach(function(n){r[n]=d.getminmax(this,n,e[n])}.bind(this)),r}overlaps(e){const r=this.bbox(),n=e.bbox();return d.bboxoverlap(r,n)}offset(e,r){if(typeof r<"u"){const n=this.get(e),i=this.normal(e),s={c:n,n:i,x:n.x+i.x*r,y:n.y+i.y*r};return this._3d&&(s.z=n.z+i.z*r),s}if(this._linear){const n=this.normal(0),i=this.points.map(function(s){const o={x:s.x+e*n.x,y:s.y+e*n.y};return s.z&&n.z&&(o.z=s.z+e*n.z),o});return[new E(i)]}return this.reduce().map(function(n){return n._linear?n.offset(e)[0]:n.scale(e)})}simple(){if(this.order===3){const i=d.angle(this.points[0],this.points[3],this.points[1]),s=d.angle(this.points[0],this.points[3],this.points[2]);if(i>0&&s<0||i<0&&s>0)return!1}const e=this.normal(0),r=this.normal(1);let n=e.x*r.x+e.y*r.y;return this._3d&&(n+=e.z*r.z),Se(zo(n))<No/3}reduce(){let e,r=0,n=0,i=.01,s,o=[],a=[],u=this.extrema().values;for(u.indexOf(0)===-1&&(u=[0].concat(u)),u.indexOf(1)===-1&&u.push(1),r=u[0],e=1;e<u.length;e++)n=u[e],s=this.split(r,n),s._t1=r,s._t2=n,o.push(s),r=n;return o.forEach(function(f){for(r=0,n=0;n<=1;)for(n=r+i;n<=1+i;n+=i)if(s=f.split(r,n),!s.simple()){if(n-=i,Se(r-n)<i)return[];s=f.split(r,n),s._t1=d.map(r,0,1,f._t1,f._t2),s._t2=d.map(n,0,1,f._t1,f._t2),a.push(s),r=n;break}r<1&&(s=f.split(r,1),s._t1=d.map(r,0,1,f._t1,f._t2),s._t2=f._t2,a.push(s))}),a}translate(e,r,n){n=typeof n=="number"?n:r;const i=this.order;let s=this.points.map((o,a)=>(1-a/i)*r+a/i*n);return new E(this.points.map((o,a)=>({x:o.x+e.x*s[a],y:o.y+e.y*s[a]})))}scale(e){const r=this.order;let n=!1;if(typeof e=="function"&&(n=e),n&&r===2)return this.raise().scale(n);const i=this.clockwise,s=this.points;if(this._linear)return this.translate(this.normal(0),n?n(0):e,n?n(1):e);const o=n?n(0):e,a=n?n(1):e,u=[this.offset(0,10),this.offset(1,10)],f=[],c=d.lli4(u[0],u[0].c,u[1],u[1].c);if(!c)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(l){const h=f[l*r]=d.copy(s[l*r]);h.x+=(l?a:o)*u[l].n.x,h.y+=(l?a:o)*u[l].n.y}),n?([0,1].forEach(function(l){if(!(r===2&&!!l)){var h=s[l+1],y={x:h.x-c.x,y:h.y-c.y},g=n?n((l+1)/r):e;n&&!i&&(g=-g);var z=Ae(y.x*y.x+y.y*y.y);y.x/=z,y.y/=z,f[l+1]={x:h.x+g*y.x,y:h.y+g*y.y}}}),new E(f)):([0,1].forEach(l=>{if(r===2&&!!l)return;const h=f[l*r],y=this.derivative(l),g={x:h.x+y.x,y:h.y+y.y};f[l+1]=d.lli4(h,g,c,s[l+1])}),new E(f))}outline(e,r,n,i){if(r=r===void 0?e:r,this._linear){const p=this.normal(0),b=this.points[0],q=this.points[this.points.length-1];let v,N,P;n===void 0&&(n=e,i=r),v={x:b.x+p.x*e,y:b.y+p.y*e},P={x:q.x+p.x*n,y:q.y+p.y*n},N={x:(v.x+P.x)/2,y:(v.y+P.y)/2};const j=[v,N,P];v={x:b.x-p.x*r,y:b.y-p.y*r},P={x:q.x-p.x*i,y:q.y-p.y*i},N={x:(v.x+P.x)/2,y:(v.y+P.y)/2};const U=[P,N,v],L=d.makeline(U[2],j[0]),Ne=d.makeline(j[2],U[0]),ie=[L,new E(j),Ne,new E(U)];return new Be(ie)}const s=this.reduce(),o=s.length,a=[];let u=[],f,c=0,l=this.length();const h=typeof n<"u"&&typeof i<"u";function y(p,b,q,v,N){return function(P){const j=v/q,U=(v+N)/q,L=b-p;return d.map(P,0,1,p+j*L,p+U*L)}}s.forEach(function(p){const b=p.length();h?(a.push(p.scale(y(e,n,l,c,b))),u.push(p.scale(y(-r,-i,l,c,b)))):(a.push(p.scale(e)),u.push(p.scale(-r))),c+=b}),u=u.map(function(p){return f=p.points,f[3]?p.points=[f[3],f[2],f[1],f[0]]:p.points=[f[2],f[1],f[0]],p}).reverse();const g=a[0].points[0],z=a[o-1].points[a[o-1].points.length-1],k=u[o-1].points[u[o-1].points.length-1],$=u[0].points[0],B=d.makeline(k,g),O=d.makeline(z,$),_=[B].concat(a).concat([O]).concat(u);return new Be(_)}outlineshapes(e,r,n){r=r||e;const i=this.outline(e,r).curves,s=[];for(let o=1,a=i.length;o<a/2;o++){const u=d.makeshape(i[o],i[a-o],n);u.startcap.virtual=o>1,u.endcap.virtual=o<a/2-1,s.push(u)}return s}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof E&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=ct(e.p1.x,e.p2.x),n=ct(e.p1.y,e.p2.y),i=ht(e.p1.x,e.p2.x),s=ht(e.p1.y,e.p2.y);return d.roots(this.points,e).filter(o=>{var a=this.get(o);return d.between(a.x,r,i)&&d.between(a.y,n,s)})}selfintersects(e){const r=this.reduce(),n=r.length-2,i=[];for(let s=0,o,a,u;s<n;s++)a=r.slice(s,s+1),u=r.slice(s+2),o=this.curveintersects(a,u,e),i.push(...o);return i}curveintersects(e,r,n){const i=[];e.forEach(function(o){r.forEach(function(a){o.overlaps(a)&&i.push({left:o,right:a})})});let s=[];return i.forEach(function(o){const a=d.pairiteration(o.left,o.right,n);a.length>0&&(s=s.concat(a))}),s}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,n,i){const s=(i-n)/4,o=this.get(n+s),a=this.get(i-s),u=d.dist(e,r),f=d.dist(e,o),c=d.dist(e,a);return Se(f-u)+Se(c-u)}_iterate(e,r){let n=0,i=1,s;do{s=0,i=1;let o=this.get(n),a,u,f,c,l=!1,h=!1,y,g=i,z=1;do if(h=l,c=f,g=(n+i)/2,a=this.get(g),u=this.get(i),f=d.getccenter(o,a,u),f.interval={start:n,end:i},l=this._error(f,o,n,i)<=e,y=h&&!l,y||(z=i),l){if(i>=1){if(f.interval.end=z=1,c=f,i>1){let $={x:f.x+f.r*bo(f.e),y:f.y+f.r*Eo(f.e)};f.e+=d.angle({x:f.x,y:f.y},$,this.get(1))}break}i=i+(i-n)/2}else i=g;while(!y&&s++<100);if(s>=100)break;c=c||f,r.push(c),n=z}while(i<1);return r}},hn=e=>e.quadratic!==void 0,dn=e=>e.cubic1!==void 0&&e.cubic2!==void 0,$o=(e,r,n=0)=>Tr(e,r,n),Tr=(e,r,n=0)=>{if(isNaN(n))throw Error("bend is NaN");if(n<-1||n>1)throw Error("Expects bend range of -1 to 1");const i=re.interpolate(.5,e,r);let s=i;r.y<e.y?s=n>0?{x:Math.min(e.x,r.x),y:Math.min(e.y,r.y)}:{x:Math.max(e.x,r.x),y:Math.max(e.y,r.y)}:s=n>0?{x:Math.max(e.x,r.x),y:Math.min(e.y,r.y)}:{x:Math.min(e.x,r.x),y:Math.max(e.y,r.y)};const o=re.interpolate(Math.abs(n),i,s);return vn(e,r,o)},Mo=(e,r,n,i)=>{const s=Tr(e,r,n);return new E(s.a,s.quadratic,s.b).compute(i)},yn=(e,r,n)=>[`M ${e.x} ${e.y} Q ${n.x} ${n.y} ${r.x} ${r.y}`],Po=e=>{if(dn(e))return So(e);if(hn(e))return Ao(e);throw new Error("Unknown bezier type")},_o=(e,r,n,i)=>({a:Object.freeze(e),b:Object.freeze(r),cubic1:Object.freeze(n),cubic2:Object.freeze(i)}),So=e=>{const{a:r,cubic1:n,cubic2:i,b:s}=e,o=new E(r,n,i,s);return Object.freeze({...e,length:()=>o.length(),interpolate:a=>o.compute(a),bbox:()=>{const{x:a,y:u}=o.bbox(),f=a.size,c=u.size;if(f===void 0)throw new Error("x.size not present on calculated bbox");if(c===void 0)throw new Error("x.size not present on calculated bbox");return F.fromTopLeft({x:a.min,y:u.min},f,c)},toString:()=>o.toString(),toSvgString:()=>["brrup"],kind:"bezier/cubic"})},vn=(e,r,n)=>({a:Object.freeze(e),b:Object.freeze(r),quadratic:Object.freeze(n)}),Ao=e=>{const{a:r,b:n,quadratic:i}=e,s=new E(r,i,n);return Object.freeze({...e,length:()=>s.length(),interpolate:o=>s.compute(o),bbox:()=>{const{x:o,y:a}=s.bbox(),u=o.size,f=a.size;if(u===void 0)throw new Error("x.size not present on calculated bbox");if(f===void 0)throw new Error("x.size not present on calculated bbox");return F.fromTopLeft({x:o.min,y:a.min},u,f)},toString:()=>s.toString(),toSvgString:()=>yn(r,n,i),kind:"bezier/quadratic"})},be={};R(be,{bbox:()=>En,distanceCenter:()=>Dr,distanceFromExterior:()=>Ro,interpolate:()=>wn,intersectionLine:()=>jo,intersections:()=>Nn,isCircle:()=>Fr,isCirclePositioned:()=>mn,isContainedBy:()=>zn,isEquals:()=>Lr,isIntersecting:()=>Co,isPositioned:()=>H,length:()=>bn,point:()=>gn,toPath:()=>qo,toSvg:()=>$n});var xn=Math.PI*2,H=e=>e.x!==void 0&&e.y!==void 0,Fr=e=>e.radius!==void 0,mn=e=>Fr(e)&&H(e),gn=(e,r,n)=>(n===void 0&&(H(e)?n=e:n={x:0,y:0}),{x:Math.cos(-r)*e.radius+n.x,y:Math.sin(-r)*e.radius+n.y}),pn=(e,r="circle")=>{if(H(e)&&w(e,"circle"),Number.isNaN(e.radius))throw new Error(`${r}.radius is NaN`);if(e.radius<=0)throw new Error(`${r}.radius must be greater than zero`)},pr=(e,r="circle")=>{if(!H(e))throw new Error("Expected a positioned circle with x,y");return pn(e,r)},wn=(e,r)=>gn(e,r*xn),bn=e=>xn*e.radius,En=e=>H(e)?F.fromCenter(e,e.radius*2,e.radius*2):{width:e.radius*2,height:e.radius*2},zn=(e,r)=>Dr(e,r)<Math.abs(e.radius-r.radius),Co=(e,r)=>Lr(e,r)||zn(e,r)?!0:Nn(e,r).length===2,Nn=(e,r)=>{const n=x.subtract(r,e),i=Math.sqrt(n.y*n.y+n.x*n.x);if(i>e.radius+r.radius)return[];if(i<Math.abs(e.radius-r.radius))return[];if(Lr(e,r))return[];const s=(e.radius*e.radius-r.radius*r.radius+i*i)/(2*i),o={x:e.x+n.x*s/i,y:e.y+n.y*s/i},a=Math.sqrt(e.radius*e.radius-s*s),u={x:-n.y*(a/i),y:n.x*(a/i)};return[x.sum(o,u),x.subtract(o,u)]},Lr=(e,r)=>e.radius!==r.radius?!1:H(e)&&H(r)?!(e.x!==r.x||e.y!==r.y||e.z!==r.z):(!H(e)&&!H(r),!1),Dr=(e,r)=>(pr(e,"a"),pr(e,"b"),x.distance(e,r)),Ro=(e,r)=>{if(pr(e,"a"),mn(r))return Math.max(0,Dr(e,r)-e.radius-r.radius);if(x.isPoint(r))return Math.max(0,x.distance(e,r));throw new Error("Second parameter invalid type")},$n=(e,r,n)=>{if(Fr(e)){if(n!==void 0)return hr(e.radius,n,r);if(H(e))return hr(e.radius,e,r);throw new Error("origin parameter needed for non-positioned circle")}else{if(n!==void 0)return hr(e,n,r);throw new Error("origin parameter needed")}},hr=(e,r,n)=>{const{x:i,y:s}=r,o=n?"1":"0";return`
    M ${i}, ${s}
    m -${e}, 0
    a ${e},${e} 0 1,${o} ${e*2},0
    a ${e},${e} 0 1,${o} -${e*2},0
  `.split(`
`)},qo=e=>(pn(e),Object.freeze({...e,interpolate:r=>wn(e,r),bbox:()=>En(e),length:()=>bn(e),toSvgString:(r=!0)=>$n(e,r),kind:"circular"})),jo=(e,r)=>{const n={x:r.b.x-r.a.x,y:r.b.y-r.a.y},i={x:r.a.x-e.x,y:r.a.y-e.y},s=(n.x*i.x+n.y*i.y)*-2,o=2*(n.x*n.x+n.y*n.y),a=Math.sqrt(s*s-2*o*(i.x*i.x+i.y*i.y-e.radius*e.radius));if(isNaN(a))return[];const u=(s-a)/o,f=(s+a)/o,c=[];return u<=1&&u>=0&&c.push({x:r.a.x+n.x*u,y:r.a.y+n.y*u}),f<=1&&f>=0&&c.push({x:r.a.x+n.x*f,y:r.a.y+n.y*f}),c},Mn={};R(Mn,{bbox:()=>_n,computeDimensions:()=>Hr,fromPaths:()=>Rn,guardContinuous:()=>An,interpolate:()=>Pn,setSegment:()=>ko,toString:()=>Sn,toSvgString:()=>Cn});var ko=(e,r,n)=>{const i=[...e.segments];return i[r]=n,Rn(...i)},Pn=(e,r,n,i)=>{i===void 0&&(i=Hr(e));const s=r*(n?i.totalWidth:i.totalLength);let o=0;const a=n?i.widths:i.lengths;for(let u=0;u<a.length;u++)if(o+a[u]>=s){let c=(s-o)/a[u];return c>1&&(c=1),e[u].interpolate(c)}else o+=a[u];return{x:0,y:0}},Hr=e=>{const r=e.map(o=>o.bbox().width),n=e.map(o=>o.length());let i=0,s=0;for(let o=0;o<n.length;o++)i+=n[o];for(let o=0;o<r.length;o++)s+=r[o];return{totalLength:i,totalWidth:s,widths:r,lengths:n}},_n=e=>{const n=e.map(i=>i.bbox()).map(i=>F.getCorners(i)).flat();return x.bbox(...n)},Sn=e=>e.map(r=>r.toString()).join(", "),An=e=>{let r=qe.getEnd(e[0]);for(let n=1;n<e.length;n++){const i=qe.getStart(e[n]);if(!x.equals(i,r))throw new Error("Path index "+n+" does not start at prior path end. Start: "+i.x+","+i.y+" expected: "+r.x+","+r.y);r=qe.getEnd(e[n])}},Cn=e=>e.flatMap(r=>r.toSvgString()),Rn=(...e)=>{An(e);const r=Hr(e);return Object.freeze({segments:e,length:()=>r.totalLength,interpolate:(n,i=!1)=>Pn(e,n,i,r),bbox:()=>_n(e),toString:()=>Sn(e),toSvgString:()=>Cn(e),kind:"compound"})},qn={};R(qn,{allDirections:()=>Br,cellAtPoint:()=>Lo,cellEquals:()=>kn,cellKeyString:()=>jn,cellMiddle:()=>Do,cells:()=>Gr,crossDirections:()=>In,getLine:()=>Ho,getVectorFromCardinal:()=>Ur,guardCell:()=>Z,inside:()=>On,isEqual:()=>To,neighbours:()=>Tn,offset:()=>Vr,offsetCardinals:()=>Bo,rectangleForCell:()=>Fo,rows:()=>Xo,simpleLine:()=>Uo,visitFor:()=>Qo,visitor:()=>ye,visitorBreadth:()=>Zo,visitorColumn:()=>Yo,visitorDepth:()=>Go,visitorRandom:()=>Ko,visitorRandomContiguous:()=>Jo,visitorRow:()=>Wo});var Oo=e=>e===void 0?!1:"x"in e&&"y"in e,Io=e=>!(e===void 0||e[1]===void 0),To=(e,r)=>{if("rows"in e&&"cols"in e)if("rows"in r&&"cols"in r){if(e.rows!==r.rows||e.cols!==r.cols)return!1}else return!1;if("size"in e)if("size"in r){if(e.size!==r.size)return!1}else return!1;return!0},jn=e=>`Cell{${e.x},${e.y}}`,kn=(e,r)=>r===void 0||e===void 0?!1:e.x===r.x&&e.y===r.y,Z=(e,r="Param",n)=>{if(e===void 0)throw new Error(r+" is undefined. Expecting {x,y}");if(e.x===void 0)throw new Error(r+".x is undefined");if(e.y===void 0)throw new Error(r+".y is undefined");if(!Number.isInteger(e.x))throw new Error(r+".x is non-integer");if(!Number.isInteger(e.y))throw new Error(r+".y is non-integer");if(n!==void 0&&!On(n,e))throw new Error(`${r} is outside of grid. Cell: ${e.x},${e.y} Grid: ${n.cols}, ${n.rows}`)},nr=(e,r="Param")=>{if(e===void 0)throw new Error(`${r} is undefined. Expecting grid.`);if(!("rows"in e))throw new Error(`${r}.rows is undefined`);if(!("cols"in e))throw new Error(`${r}.cols is undefined`);if(!Number.isInteger(e.rows))throw new Error(`${r}.rows is not an integer`);if(!Number.isInteger(e.cols))throw new Error(`${r}.cols is not an integer`)},On=(e,r)=>!(r.x<0||r.y<0||r.x>=e.cols||r.y>=e.rows),Fo=(e,r)=>{Z(e);const n=r.size,i=e.x*n,s=e.y*n;return F.fromTopLeft({x:i,y:s},n,n)},Lo=(e,r)=>{const n=r.size;if(e.x<0||e.y<0)return;const i=Math.floor(e.x/n),s=Math.floor(e.y/n);if(!(i>=r.cols)&&!(s>=r.rows))return{x:i,y:s}},Br=Object.freeze(["n","ne","nw","e","s","se","sw","w"]),In=Object.freeze(["n","e","s","w"]),Tn=(e,r,n="undefined",i)=>{const s=i??Br,o=s.map(a=>Vr(e,r,Ur(a),n));return wr(s,o)},Do=(e,r)=>{Z(e);const n=r.size,i=e.x*n,s=e.y*n;return Object.freeze({x:i+n/2,y:s+n/2})},Ho=(e,r)=>{Z(e),Z(r);let n=e.x,i=e.y;const s=Math.abs(r.x-n),o=Math.abs(r.y-i),a=n<r.x?1:-1,u=i<r.y?1:-1;let f=s-o;const c=[];for(;c.push(Object.freeze({x:n,y:i})),!(n===r.x&&i===r.y);){const l=2*f;l>-o&&(f-=o,n+=a),l<s&&(f+=s,i+=u)}return c},Bo=(e,r,n,i="stop")=>{nr(e,"grid"),Z(r,"start"),T(n,"aboveZero","steps");const s=Br,o=s.map(u=>Ur(u,n)),a=s.map((u,f)=>Vr(e,r,o[f],i));return wr(s,a)},Ur=(e,r=1)=>{let n;switch(e){case"n":n={x:0,y:-1*r};break;case"ne":n={x:1*r,y:-1*r};break;case"e":n={x:1*r,y:0};break;case"se":n={x:1*r,y:1*r};break;case"s":n={x:0,y:1*r};break;case"sw":n={x:-1*r,y:1*r};break;case"w":n={x:-1*r,y:0};break;case"nw":n={x:-1*r,y:-1*r};break;default:n={x:0,y:0}}return Object.freeze(n)},Uo=function(e,r,n=!1){const i=[];if(e.x===r.x){const s=n?r.y+1:r.y;for(let o=e.y;o<s;o++)i.push({x:e.x,y:o})}else if(e.y===r.y){const s=n?r.x+1:r.x;for(let o=e.x;o<s;o++)i.push({x:o,y:e.y})}else throw new Error(`Only does vertical and horizontal: ${e.x},${e.y} - ${r.x},${r.y}`);return i},Vr=function(e,r,n,i="undefined"){Z(r,"start",e),Z(n),nr(e,"grid");let s=r.x,o=r.y;switch(i){case"wrap":s+=n.x%e.cols,o+=n.y%e.rows,s<0?s=e.cols+s:s>=e.cols&&(s-=e.cols),o<0?o=e.rows+o:o>=e.rows&&(o-=e.rows);break;case"stop":s+=n.x,o+=n.y,s=Jr(s,e.cols),o=Jr(o,e.rows);break;case"undefined":if(s+=n.x,o+=n.y,s<0||o<0||s>=e.cols||o>=e.rows)return;break;case"unbounded":s+=n.x,o+=n.y;break;default:throw new Error(`Unknown BoundsLogic case ${i}`)}return Object.freeze({x:s,y:o})},Vo=(e,r,n,i)=>{const s=Tn(e,r,i,n);return Object.entries(s).filter(Io)},ye=function*(e,r,n,i={}){nr(r,"grid"),Z(n,"start",r);const s=i.visited??vt(c=>jn(c)),o=e.options?e.options:(c,l)=>Vo(c,l,In,"undefined");if(!Oo(n))throw new Error("'start' parameter is undefined or not a cell");let a=[n],u=[],f=null;for(;a.length>0;){if(f===null){const c=a.pop();if(c===void 0)break;f=c}if(!s.has(f)){s.add(f),yield f;const c=o(r,f).filter(l=>!s.has(l[1]));c.length===0?f!==null&&(a=a.filter(l=>kn(l,f))):u.push(...c)}if(u=u.filter(c=>!s.has(c[1])),u.length===0)f=null;else{const c=e.select(u);c!==void 0&&(a.push(c[1]),f=c[1])}}},Go=(e,r,n={})=>ye({select:i=>i[i.length-1]},e,r,n),Zo=(e,r,n={})=>ye({select:i=>i[0]},e,r,n),Fn=e=>$r(e),Jo=(e,r,n={})=>ye({select:Fn},e,r,n),Ko=(e,r,n={})=>ye({options:(i,s)=>{const o=[];for(const a of Gr(i,s))o.push(["n",a]);return o},select:Fn},e,r,n),Wo=(e,r,n={})=>{const{reversed:i=!1}=n;return ye({select:u=>u.find(f=>f[0]===(i?"w":"e")),options:(u,f)=>(i?f.x>0?f={x:f.x-1,y:f.y}:f.y>0?f={x:u.cols-1,y:f.y-1}:f={x:u.cols-1,y:u.rows-1}:f.x<u.rows-1?f={x:f.x+1,y:f.y}:f.y<u.rows-1?f={x:0,y:f.y+1}:f={x:0,y:0},[[i?"w":"e",f]])},e,r,n)},Qo=(e,r,n,i)=>{T(n,"","steps");const s={reversed:n<0};n=Math.abs(n);let o=r,a=i(e,r,s);a.next();let u=0;for(;u<n;){u++;const{value:f}=a.next();if(f)o=f,s.debug&&console.log(`stepsMade: ${u} cell: ${o.x}, ${o.y} reverse: ${s.reversed}`);else if(n>=e.cols*e.rows)n-=e.cols*e.rows,u=0,a=i(e,r,s),a.next(),o=r,s.debug&&console.log(`resetting visitor to ${n}`);else throw new Error("Value not received by visitor")}return o},Yo=(e,r,n={})=>{const{reversed:i=!1}=n;return ye({select:o=>o.find(a=>a[0]===(i?"n":"s")),options:(o,a)=>(i?a.y>0?a={x:a.x,y:a.y-1}:a.x===0?a={x:o.cols-1,y:o.rows-1}:a={x:a.x-1,y:o.rows-1}:a.y<o.rows-1?a={x:a.x,y:a.y+1}:a.x<o.cols-1?a={x:a.x+1,y:0}:a={x:0,y:0},[[i?"n":"s",a]])},e,r,n)},Xo=function*(e,r={x:0,y:0}){let n=r.y,i=[];for(const s of Gr(e,r))s.y!==n?(yield i,i=[s],n=s.y):i.push(s);i.length>0&&(yield i)},Gr=function*(e,r={x:0,y:0}){nr(e,"grid"),Z(r,"start",e);let{x:n,y:i}=r,s=!0;do yield{x:n,y:i},n++,n===e.cols&&(i++,n=0),i===e.rows&&(i=0,n=0),n===r.x&&i===r.y&&(s=!1);while(s)},qe={};R(qe,{getEnd:()=>ra,getStart:()=>ea});var ea=function(e){if(tr.isQuadraticBezier(e))return e.a;if(re.isLine(e))return e.a;throw new Error(`Unknown path type ${JSON.stringify(e)}`)},ra=function(e){if(tr.isQuadraticBezier(e))return e.b;if(re.isLine(e))return e.b;throw new Error(`Unknown path type ${JSON.stringify(e)}`)},F={};R(F,{distanceFromCenter:()=>va,distanceFromExterior:()=>ya,empty:()=>ta,emptyPositioned:()=>na,fromCenter:()=>da,fromElement:()=>fa,fromTopLeft:()=>ga,getCenter:()=>Bn,getCorners:()=>Hn,getLines:()=>pa,guard:()=>Ie,intersectsPoint:()=>Dn,isEmpty:()=>oa,isEqual:()=>ca,isEqualSize:()=>la,isPlaceholder:()=>aa,isPositioned:()=>Q,isRect:()=>Ln,isRectPositioned:()=>ua,maxFromCorners:()=>xa,placeholder:()=>ia,placeholderPositioned:()=>sa,subtract:()=>ha});var ta=Object.freeze({width:0,height:0}),na=Object.freeze({x:0,y:0,width:0,height:0}),ia=Object.freeze({width:Number.NaN,height:Number.NaN}),sa=Object.freeze({x:Number.NaN,y:Number.NaN,width:Number.NaN,height:Number.NaN}),oa=e=>e.width===0&&e.height===0,aa=e=>Number.isNaN(e.width)&&Number.isNaN(e.height),Q=e=>e.x!==void 0&&e.y!==void 0,Ln=e=>!(e===void 0||e.width===void 0||e.height===void 0),ua=e=>Ln(e)&&Q(e),fa=e=>({width:e.clientWidth,height:e.clientHeight}),la=(e,r)=>{if(e===void 0)throw new Error("a undefined");if(r===void 0)throw new Error("b undefined");return e.width===r.width&&e.height===r.height},ca=(e,r)=>Q(e)&&Q(r)?x.equals(e,r)?e.width===r.width&&e.height===r.height:!1:!Q(e)&&!Q(r)?e.width===r.width&&e.height===r.height:!1;function ha(e,r,n){if(e===void 0)throw new Error("First parameter undefined");if(typeof r=="number"){const i=n===void 0?0:n;return Object.freeze({...e,width:e.width-r,height:e.height-i})}else return Object.freeze({...e,width:e.width-r.width,height:e.height-r.height})}function Dn(e,r,n){Ie(e,"rect");let i=0,s=0;if(typeof r=="number"){if(n===void 0)throw new Error("x and y coordinate needed");i=r,s=n}else i=r.x,s=r.y;if(Q(e)){if(i-e.x>e.width||i<e.x||s-e.y>e.height||s<e.y)return!1}else if(i>e.width||i<0||s>e.height||s<0)return!1;return!0}var da=(e,r,n)=>{x.guard(e,"origin"),Ee(r,"width"),Ee(n,"height");const i=r/2,s=n/2;return{x:e.x-i,y:e.y-s,width:r,height:n}},ya=(e,r)=>{if(ma(e,"rect"),x.guard(r,"pt"),Dn(e,r))return 0;const n=Math.max(e.x-r.x,0,r.x-e.x+e.width),i=Math.max(e.y-r.y,0,r.y-e.y+e.height);return Math.sqrt(n*n+i*i)},va=(e,r)=>x.distance(Bn(e),r),xa=(e,r,n,i)=>{if(e.y>n.y)throw new Error("topLeft.y greater than bottomRight.y");if(e.y>i.y)throw new Error("topLeft.y greater than bottomLeft.y");const s=r.x-e.x,o=n.x-i.x,a=Math.abs(i.y-e.y),u=Math.abs(n.y-r.y);return{x:Math.min(e.x,i.x),y:Math.min(r.y,e.y),width:Math.max(s,o),height:Math.max(a,u)}},Ee=(e,r="Dimension")=>{if(e===void 0)throw Error(`${r} is undefined`);if(isNaN(e))throw Error(`${r} is NaN`);if(e<0)throw Error(`${r} cannot be negative`)},Ie=(e,r="rect")=>{if(e===void 0)throw Error("{$name} undefined");Q(e)&&x.guard(e,r),Ee(e.width,r+".width"),Ee(e.height,r+".height")},ma=(e,r="rect")=>{if(!Q(e))throw new Error(`Expected ${r} to have x,y`);Ie(e,r)},ga=(e,r,n)=>(Ee(r,"width"),Ee(n,"height"),x.guard(e,"origin"),{x:e.x,y:e.y,width:r,height:n}),Hn=(e,r)=>{if(Ie(e),r===void 0&&x.isPoint(e))r=e;else if(r===void 0)throw new Error("Unpositioned rect needs origin param");return[{x:r.x,y:r.y},{x:r.x+e.width,y:r.y},{x:r.x+e.width,y:r.y+e.height},{x:r.x,y:r.y+e.height}]},Bn=(e,r)=>{if(Ie(e),r===void 0&&x.isPoint(e))r=e;else if(r===void 0)throw new Error("Unpositioned rect needs origin param");return{x:r.x+e.width/2,y:r.y+e.height/2}},pa=(e,r)=>re.joinPointsToLines(...Hn(e,r)),Un={};R(Un,{fromDegrees:()=>wa});var wa=(e,r,n=0,i=0,s=360)=>({radiusX:e,radiusY:r,rotation:ce(n),startAngle:ce(i),endAngle:ce(s)}),le={};R(le,{fromCartesian:()=>ba,isCoord:()=>Vn,rotate:()=>Na,rotateDegrees:()=>$a,spiral:()=>za,spiralRaw:()=>Ma,toCartesian:()=>Ea});var Vn=e=>!(e.distance===void 0||e.angleRadian===void 0),ba=(e,r)=>{e=sn(e,r);const n=Math.atan2(e.y,e.x);return Object.freeze({...e,angleRadian:n,distance:Math.sqrt(e.x*e.x+e.y*e.y)})},Ea=(e,r,n)=>{if(Vn(e)){if(r===void 0&&(r=Ke),!C(r))throw new Error("Expecting (Coord, Point). Point param wrong type.");return dt(e.distance,e.angleRadian,r)}else if(typeof e=="number"&&typeof r=="number"){if(n===void 0&&(n=Ke),!C(n))throw new Error("Expecting (number, number, Point). Point param wrong type");return dt(e,r,n)}else throw new Error("Expecting (number, number)")};function*za(e,r){let n=0;for(;;){const i=e*n++;yield{distance:r*i,angleRadian:i,step:n}}}var Na=(e,r)=>Object.freeze({...e,angleRadian:e.angleRadian+r}),$a=(e,r)=>Object.freeze({...e,angleRadian:e.angleRadian+ce(r)}),Ma=(e,r,n)=>{const i=r*e;return Object.freeze({distance:n*i,angleRadian:i})},dt=(e,r,n)=>(w(n),Object.freeze({x:n.x+e*Math.cos(r),y:n.y+e*Math.sin(r)})),ce=e=>e*(Math.PI/180),Pa=e=>e*180/Math.PI,_a=e=>Math.atan2(e.x,e.y);export{ti as $,pi as A,tr as B,Hi as C,xe as D,Ta as E,Ha as F,vi as G,Ua as H,La as I,Er as J,yi as K,Ba as L,br as M,Fa as N,xi as O,x as P,di as Q,F as R,Va as S,Ga as T,Wn as U,Jn as V,vt as W,ci as X,Kr as Y,ei as Z,ii as _,w as a,ni as a0,ri as a1,Ci as a2,qi as a3,Po as a4,Tr as a5,ne as a6,Ia as a7,ks as a8,Un as a9,Cs as aa,As as ab,qr as ac,gi as ad,qn as ae,re as af,le as ag,Pa as ah,Ht as ai,be as aj,ce as ak,dn as b,aa as c,Ft as d,ca as e,Yt as f,Ns as g,Q as h,hn as i,na as j,Dn as k,Ra as l,Pi as m,fi as n,zs as o,sa as p,Za as q,qa as r,Da as s,de as t,Hn as u,ia as v,Oa as w,ja as x,ka as y,Ni as z};
