import{M as Se,N as ju,b as jr,O as Lr,P as qr,Q as zr,R as Gr,T as X,U as Hr,V as Ur,W as xe,X as Oe,Y as Wr,Z as Ru,_ as Lu,$ as Jr,a0 as qu,c as zu,a1 as qe,a2 as Gu,a3 as Xr,a4 as fu,a5 as Yr,a6 as Kr,a7 as Hu,a8 as Zr,a9 as Qr,aa as en,ab as $u}from"./chunk-UZEP5NPQ.5116c20e.js";import{_ as Y,b as ru,c as Uu,d as Wu,e as Ju,a as Ve,f as un,g as tn}from"./chunk-7KTY42OF.629611b4.js";var fe=e=>{if(typeof e=="string"){const t=document.querySelector(e);if(t===null)throw e.startsWith("#")?new Error(`Query '${e}' did not match anything. Try '#id', 'div', or '.class'`):new Error(`Query '${e}' did not match anything. Did you mean '#${e}?`);e=t}else{if(e===null)throw new Error("Param 'domQueryOrEl' is null");if(e===void 0)throw new Error("Param 'domQueryOrEl' is undefined")}return e},Io=e=>e===void 0?[]:e===null?[]:Array.isArray(e)?e:typeof e=="string"?[...document.querySelectorAll(e)]:[e],rn={};Y(rn,{Async:()=>Se,Chain:()=>Xu,Sync:()=>ju,count:()=>Nn,delayLoop:()=>jr,interval:()=>Lr,numericPercent:()=>Pn,numericRange:()=>vt,numericRangeRaw:()=>bn,pingPong:()=>qr,pingPongPercent:()=>zr,randomUniqueInteger:()=>Gr,stringSegmentsEndToEnd:()=>Ct,stringSegmentsEndToStart:()=>Sn,stringSegmentsStartToEnd:()=>xn,stringSegmentsStartToStart:()=>Et});var Xu={};Y(Xu,{Dom:()=>At,Links:()=>Ku,addToArray:()=>hn,asArray:()=>vn,asCallback:()=>En,asPromise:()=>Fn,asValue:()=>Cn,fromEvent:()=>An,fromFunction:()=>Ft,lazy:()=>fn,mergeAsArray:()=>gn,mergeFlat:()=>yn,run:()=>Bn,runN:()=>pn,single:()=>mn,synchronise:()=>wn,tick:()=>ln});var nn=e=>Symbol.asyncIterator in new Object(e);function*on(e){yield e}async function*an(e){yield e,await xe(1)}function P(e){if(Array.isArray(e)){const u=e.values();return u._name="arrayInput",u}else{if(typeof e=="number"||typeof e=="boolean"||typeof e=="string")return on(e);if(typeof e=="function")return e()}return e}function Yu(e){if(e!==void 0)return Array.isArray(e)?Se.fromArray(e):typeof e=="number"||typeof e=="boolean"||typeof e=="string"?an(e):typeof e=="function"?e():nn(e)?e:Se.fromIterable(e)}var Ku={};Y(Ku,{average:()=>Dt,chunk:()=>ft,debounce:()=>rt,delay:()=>tt,drop:()=>dt,duration:()=>ut,filter:()=>lt,flatten:()=>et,max:()=>it,min:()=>ot,rank:()=>at,rankArray:()=>st,take:()=>Qu,tally:()=>nt,total:()=>ct,transform:()=>Zu});function Zu(e){async function*u(t){t=P(t);for await(const r of t)yield e(r)}return u._name="transform",u}function Qu(e){async function*u(t){t=P(t);let r=0;for await(const n of t){if(++r>e)break;yield n}}return u._name="take",u}function et(e){async function*u(t){t=P(t);for await(const r of t)yield e(r)}return u._name="flatten",u}function ut(e){const u=X(e,0);async function*t(r){r=P(r);const n=Oe.since();for await(const o of r){if(n()>u)break;yield o}}return t._name="duration",t}function tt(e){const u=X(e.before,0),t=X(e.after,0);async function*r(n){n=P(n);for await(const o of n)u>0&&await xe(u),yield o,t>0&&await xe(t)}return r._name="delay",r}function rt(e){const u=X(e,0);async function*t(r){r=P(r);let n=Oe.since();for await(const o of r)n()<u||(yield o,n=Oe.since())}return t._name="debounce",t}function nt(){async function*e(u){u=P(u);let t=0;for await(const r of u)yield++t}return e._name="tally",e}function ot(){async function*e(u){u=P(u);let t=Number.MAX_SAFE_INTEGER;for await(const r of u){const n=Array.isArray(r)?r:[r];for(const o of n){if(typeof o!="number")break;t=Math.min(o,t),yield t}}}return e._name="min",e}function it(){async function*e(u){u=P(u);let t=Number.MIN_SAFE_INTEGER;for await(const r of u){const n=Array.isArray(r)?r:[r];for(const o of n){if(typeof o!="number")break;t=Math.max(o,t),yield t}}}return e._name="max",e}function at(e,u={}){const t=u.includeType,r=u.emitEqualRanked??!1,n=u.emitRepeatHighest??!1;async function*o(i){i=P(i);let s;for await(const D of i){let d=!1;if(!(t&&typeof D!==t)){if(s===void 0)s=D,d=!0;else{const C=e(D,s);C=="a"?(s=D,d=!0):(C==="eq"&&r||n)&&(d=!0)}d&&(yield s)}}}return o._name="rank",o}function st(e,u={}){const t=u.includeType,r=u.emitEqualRanked??!1,n=u.emitRepeatHighest??!1,o=u.withinArrays??!1;async function*i(s){s=P(s);let D;for await(const d of s){let C=!1;o&&(D=void 0);for(const l of d)if(!(t&&typeof l!==t))if(D===void 0)D=l,C=!0;else{const E=e(l,D);E=="a"?(D=l,C=!0):(E==="eq"&&r||n)&&(C=!0)}C&&D&&(yield D)}}return i._name="rankArray",i}function Dt(){async function*e(u){u=P(u);let t=0,r=0;for await(const n of u){if(typeof n!="number")break;r++,t+=n,yield t/r}}return e._name="average",e}function ct(){async function*e(u){u=P(u);let t=0;for await(const r of u){if(typeof r!="number")break;t+=r,yield t}}return e._name="average",e}function ft(e,u=!0){ru(e,"aboveZero","size");async function*t(r){r=P(r);let n=[];for await(const o of r)n.push(o),n.length>=e&&(yield n,n=[]);u&&n.length>0&&(yield n)}return t._name="chunk",t}function lt(e){async function*u(t){t=P(t);for await(const r of t)e(r)&&(yield r)}return u._name="filter",u}function dt(e){async function*u(t){t=P(t);for await(const r of t)e(r)||(yield r)}return u._name="drop",u}var At={};Y(At,{perValue:()=>Dn,query:()=>cn});var sn=e=>{const u=e??(r=>r),t=new Map;return{has(r){return t.has(u(r))},get(r){return t.get(u(r))},set(r,n){t.set(u(r),n)},entries(){return t.entries()},delete(r){t.delete(r)}}};function Dn(e={}){const u=e.byReference,t=e.tagName??"div";if(u&&e.key)throw new Error("byReference and key options are mutually exclusive");const r=u?void 0:e.key??Hr,n=sn(r),o=e.parentEl??document.body,i=fe(o),s=new Set;async function*D(d){for await(const C of P(d)){let l=n.get(C);l||(l=document.createElement(t),n.set(C,l),e.beforeInsert&&e.beforeInsert(l),i.append(l),e.afterInsert&&e.afterInsert(l)),s.add(l),yield{el:l,value:C}}for(const[C,l]of n.entries())s.has(l)||(e.beforeRemove&&e.beforeRemove(l),l.remove(),n.delete(C))}return D._name="dom.perValue",D}function cn(e={}){const u=e.baseElement??document;async function*t(r){const n=P(r);for await(const o of n)for(const i of u.querySelectorAll(o))yield i}return t._name="dom.query",t}function Mu(e){return"_allowNoInput"in e}function fn(){const e=[];let u;const t=n=>{n===void 0&&(n=u);let o=Yu(n);for(const i of e)if(o===void 0)if(Mu(i))o=i();else throw new Error(`Function '${Tu(i)}' requires input. Provide it to the function, or call 'input' earlier.`);else o=i(o);return o},r={rankArray:(n,o)=>(e.push(st(n,o)),r),rank:(n,o)=>(e.push(at(n,o)),r),transform:n=>(e.push(Zu(n)),r),flatten:n=>(e.push(et(n)),r),drop:n=>(e.push(dt(n)),r),delay:n=>(e.push(tt(n)),r),duration:n=>(e.push(ut(n)),r),debounce:n=>(e.push(rt(n)),r),fromFunction:n=>(e.push(Ft(n)),r),take:n=>(e.push(Qu(n)),r),chunk:(n,o=!0)=>(e.push(ft(n,o)),r),filter:n=>(e.push(lt(o=>n(o))),r),min:()=>(e.push(ot()),r),max:()=>(e.push(it()),r),average:()=>(e.push(Dt()),r),total:()=>(e.push(ct()),r),tally:()=>(e.push(nt()),r),input(n){return u=n,r},asGenerator:t,asAsync(n){let o=n??u;for(const i of e)if(o===void 0&&Mu(i))o=i();else{if(o===void 0)throw new Error(`Function '${Tu(i)}' needs input. Pass in data calling 'asAsync', or call 'input' earlier`);o=i(o)}return r},asArray:async n=>{const o=t(n);return await Se.toArray(o)},firstOutput:async n=>(await t(n).next()).value,lastOutput:async n=>{const o=t(n);let i;for await(const s of o)i=s;return i}};return r}function ln(e){const u=X(e.interval,0),t=e.asClockTime??!1,r=e.loops??Number.MAX_SAFE_INTEGER;let n=0;const o=X(e.elapsed,Number.MAX_SAFE_INTEGER);async function*i(){const s=Oe.since();for(;n<r&&s()<o;){yield t?Date.now():s();const D=n*u-s();await xe(Math.max(0,u+D)),n++}}return i._name="timestamp",i}function Ft(e){async function*u(){for(;;){const t=await e();if(t===void 0)break;yield t}}return u._name="fromFunction",u}var dn=(e,u)=>new Promise(t=>{const r=(...n)=>{e.removeEventListener(u,r),t(n)};e.addEventListener(u,r)});function An(e,u){async function*t(){for(;;)yield await dn(e,u)}return t._name="fromEvent",t}function Fn(e){let u;const t=typeof e=="function"?e():e;async function r(){const n=await t.next();if(!n.done)return u=n.value,u}return r}function Cn(e,u){let t=u,r=!1;const n=typeof e=="function"?e():e;function o(){return r||(r=!0,n.next().then(i=>{t=i.value,r=!1}).catch(i=>{throw r=!1,i})),t}return o}async function En(e,u,t){const r=typeof e=="function"?e():e;for await(const n of r)u(n);t&&t()}async function vn(e){const u=typeof e=="function"?e():e;return Se.toArray(u)}async function hn(e,u){const t=typeof u=="function"?u():u;for await(const r of t)e.push(r)}async function mn(e,u){return(await e([u]).next()).value}async function*yn(...e){const u=e.map(s=>Yu(s)),t=Ur.mutable();let r=0;const n=async s=>{if(s===void 0){r++;return}const D=await s.next();D.done?r++:(t.enqueue(D.value),setTimeout(()=>n(s),1))};for(const s of u)setTimeout(()=>n(s),1);const o=10;let i=1;for(;r<u.length;){const s=t.dequeue();s===void 0?i=Math.min(i+1,10):(yield s,i=1),await xe(o*i)}}async function*gn(...e){const u=e.map(r=>P(r));let t=!0;for(;t;){let r=[];for(let n=0;n<u.length;n++)r[n]=null;t=!1;for(const[n,o]of u.entries()){const i=await o.next();i.done||(r[n]=i.value,t=!0)}t&&(yield r,r=[])}}async function*wn(...e){const u=e.map(r=>P(r));let t=!1;for(;!t;){let r=[];for(let n=0;n<u.length;n++)r[n]=null;t=!1;for(const[n,o]of u.entries()){const i=await o.next();if(i.done){t=!0;break}else r[n]=i.value}if(t)break;yield r,r=[]}}var Tu=e=>"_name"in e?e._name:e.name;async function*pn(...e){let u;for(const t of e)typeof t=="function"?u=t(u??[]):u=P(t);if(u!==void 0)for await(const t of u)yield t}async function*Bn(e,u,t,r,n,o,i){let s;const D=arguments;for(const d of D)typeof d=="function"?s=d(s??[]):s=P(d);if(s!==void 0)for await(const d of s)yield d}var bn=function*(e,u=0,t,r=!1){if(e<=0)throw new Error("Interval is expected to be above zero");t===void 0&&(t=Number.MAX_SAFE_INTEGER);let n=u;do for(;n<t;)yield n,n+=e;while(r)};function*Ct(e,u="."){for(;e.length>0;){yield e;const t=Uu(e,u);if(t===e)break;e=t}}function*Sn(e,u="."){let t="";const r=e;for(;e.length>0;){const n=Wu(e,u,{fromEnd:!0,ifNoMatch:"original"});if(n[0]===n[1]&&n[1]===e)break;const o=n[1]+t;yield o,t=u+o,e=n[0]}yield r}function*xn(e,u="."){let t="";const r=e;for(;e.length>0;){const n=Wu(e,u,{ifNoMatch:"original"});if(n[0]===e&&n[1]===e)break;t+=n[0],yield t,t+=u,e=n[1]}yield r}function*Et(e,u="."){for(;e.length>0;){yield e;const t=Ju(e,u,{ifNoMatch:"original",fromEnd:!0});if(t===e)break;e=t}}var vt=function*(e,u=0,t,r=!1,n){Ve(e,"nonZero");const o=e<0;if(t!==void 0){if(o&&u<t)throw new Error(`Interval of ${e} will never go from ${u} to ${t}`);if(!o&&u>t)throw new Error(`Interval of ${e} will never go from ${u} to ${t}`)}n=n??1e3,t===void 0?t=Number.MAX_SAFE_INTEGER:t*=n,e=e*n;do{let i=u*n;for(;!o&&i<=t||o&&i>=t;)yield i/n,i+=e}while(r)},Nn=function*(e,u=0){if(ru(e,"","amount"),ru(u,"","offset"),e===0)return;let t=0;do yield e<0?-t+u:t+u;while(t++<Math.abs(e)-1)},Pn=function(e=.01,u=!1,t=0,r=1){return Ve(e,"percentage","interval"),Ve(t,"percentage","start"),Ve(r,"percentage","end"),vt(e,t,r,u)},_n=tn({"node_modules/json5/dist/index.js"(e,u){(function(t,r){typeof e=="object"&&typeof u<"u"?u.exports=r():typeof define=="function"&&define.amd?define(r):t.JSON5=r()})(e,function(){function t(a,c){return c={exports:{}},a(c,c.exports),c.exports}var r=t(function(a){var c=a.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=c)}),n=t(function(a){var c=a.exports={version:"2.6.5"};typeof __e=="number"&&(__e=c)});n.version;var o=function(a){return typeof a=="object"?a!==null:typeof a=="function"},i=function(a){if(!o(a))throw TypeError(a+" is not an object!");return a},s=function(a){try{return!!a()}catch{return!0}},D=!s(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),d=r.document,C=o(d)&&o(d.createElement),l=function(a){return C?d.createElement(a):{}},E=!D&&!s(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7}),v=function(a,c){if(!o(a))return a;var F,A;if(c&&typeof(F=a.toString)=="function"&&!o(A=F.call(a))||typeof(F=a.valueOf)=="function"&&!o(A=F.call(a))||!c&&typeof(F=a.toString)=="function"&&!o(A=F.call(a)))return A;throw TypeError("Can't convert object to primitive value")},b=Object.defineProperty,R=D?Object.defineProperty:function(c,F,A){if(i(c),F=v(F,!0),i(A),E)try{return b(c,F,A)}catch{}if("get"in A||"set"in A)throw TypeError("Accessors not supported!");return"value"in A&&(c[F]=A.value),c},k={f:R},ee=function(a,c){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:c}},se=D?function(a,c,F){return k.f(a,c,ee(1,F))}:function(a,c,F){return a[c]=F,a},Ue={}.hasOwnProperty,ke=function(a,c){return Ue.call(a,c)},Dr=0,cr=Math.random(),fr=function(a){return"Symbol(".concat(a===void 0?"":a,")_",(++Dr+cr).toString(36))},lr=t(function(a){var c="__core-js_shared__",F=r[c]||(r[c]={});(a.exports=function(A,h){return F[A]||(F[A]=h!==void 0?h:{})})("versions",[]).push({version:n.version,mode:"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})}),We=lr("native-function-to-string",Function.toString),dr=t(function(a){var c=fr("src"),F="toString",A=(""+We).split(F);n.inspectSource=function(h){return We.call(h)},(a.exports=function(h,w,B,L){var I=typeof B=="function";I&&(ke(B,"name")||se(B,"name",w)),h[w]!==B&&(I&&(ke(B,c)||se(B,c,h[w]?""+h[w]:A.join(String(w)))),h===r?h[w]=B:L?h[w]?h[w]=B:se(h,w,B):(delete h[w],se(h,w,B)))})(Function.prototype,F,function(){return typeof this=="function"&&this[c]||We.call(this)})}),Ar=function(a){if(typeof a!="function")throw TypeError(a+" is not a function!");return a},Su=function(a,c,F){if(Ar(a),c===void 0)return a;switch(F){case 1:return function(A){return a.call(c,A)};case 2:return function(A,h){return a.call(c,A,h)};case 3:return function(A,h,w){return a.call(c,A,h,w)}}return function(){return a.apply(c,arguments)}},Je="prototype",O=function(a,c,F){var A=a&O.F,h=a&O.G,w=a&O.S,B=a&O.P,L=a&O.B,I=h?r:w?r[c]||(r[c]={}):(r[c]||{})[Je],Fe=h?n:n[c]||(n[c]={}),me=Fe[Je]||(Fe[Je]={}),W,K,q,ye;h&&(F=c);for(W in F)K=!A&&I&&I[W]!==void 0,q=(K?I:F)[W],ye=L&&K?Su(q,r):B&&typeof q=="function"?Su(Function.call,q):q,I&&dr(I,W,q,a&O.U),Fe[W]!=q&&se(Fe,W,ye),B&&me[W]!=q&&(me[W]=q)};r.core=n,O.F=1,O.G=2,O.S=4,O.P=8,O.B=16,O.W=32,O.U=64,O.R=128;var we=O,Fr=Math.ceil,Cr=Math.floor,xu=function(a){return isNaN(a=+a)?0:(a>0?Cr:Fr)(a)},Er=function(a){if(a==null)throw TypeError("Can't call method on  "+a);return a},vr=function(a){return function(c,F){var A=String(Er(c)),h=xu(F),w=A.length,B,L;return h<0||h>=w?a?"":void 0:(B=A.charCodeAt(h),B<55296||B>56319||h+1===w||(L=A.charCodeAt(h+1))<56320||L>57343?a?A.charAt(h):B:a?A.slice(h,h+2):(B-55296<<10)+(L-56320)+65536)}},hr=vr(!1);we(we.P,"String",{codePointAt:function(c){return hr(this,c)}}),n.String.codePointAt;var mr=Math.max,yr=Math.min,gr=function(a,c){return a=xu(a),a<0?mr(a+c,0):yr(a,c)},Nu=String.fromCharCode,Pu=String.fromCodePoint;we(we.S+we.F*(!!Pu&&Pu.length!=1),"String",{fromCodePoint:function(c){for(var F=arguments,A=[],h=arguments.length,w=0,B;h>w;){if(B=+F[w++],gr(B,1114111)!==B)throw RangeError(B+" is not a valid code point");A.push(B<65536?Nu(B):Nu(((B-=65536)>>10)+55296,B%1024+56320))}return A.join("")}}),n.String.fromCodePoint;var wr=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,pr=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,Br=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Xe={Space_Separator:wr,ID_Start:pr,ID_Continue:Br},_={isSpaceSeparator:function(c){return typeof c=="string"&&Xe.Space_Separator.test(c)},isIdStartChar:function(c){return typeof c=="string"&&(c>="a"&&c<="z"||c>="A"&&c<="Z"||c==="$"||c==="_"||Xe.ID_Start.test(c))},isIdContinueChar:function(c){return typeof c=="string"&&(c>="a"&&c<="z"||c>="A"&&c<="Z"||c>="0"&&c<="9"||c==="$"||c==="_"||c==="\u200C"||c==="\u200D"||Xe.ID_Continue.test(c))},isDigit:function(c){return typeof c=="string"&&/[0-9]/.test(c)},isHexDigit:function(c){return typeof c=="string"&&/[0-9A-Fa-f]/.test(c)}},Ye,j,ue,Ie,De,U,$,Ke,pe,br=function(c,F){Ye=String(c),j="start",ue=[],Ie=0,De=1,U=0,$=void 0,Ke=void 0,pe=void 0;do $=Sr(),Pr[j]();while($.type!=="eof");return typeof F=="function"?Ze({"":pe},"",F):pe};function Ze(a,c,F){var A=a[c];if(A!=null&&typeof A=="object")if(Array.isArray(A))for(var h=0;h<A.length;h++){var w=String(h),B=Ze(A,w,F);B===void 0?delete A[w]:Object.defineProperty(A,w,{value:B,writable:!0,enumerable:!0,configurable:!0})}else for(var L in A){var I=Ze(A,L,F);I===void 0?delete A[L]:Object.defineProperty(A,L,{value:I,writable:!0,enumerable:!0,configurable:!0})}return F.call(a,c,A)}var g,m,Be,te,p;function Sr(){for(g="default",m="",Be=!1,te=1;;){p=re();var a=_u[g]();if(a)return a}}function re(){if(Ye[Ie])return String.fromCodePoint(Ye.codePointAt(Ie))}function f(){var a=re();return a===`
`?(De++,U=0):a?U+=a.length:U++,a&&(Ie+=a.length),a}var _u={default:function(){switch(p){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":f();return;case"/":f(),g="comment";return;case void 0:return f(),x("eof")}if(_.isSpaceSeparator(p)){f();return}return _u[j]()},comment:function(){switch(p){case"*":f(),g="multiLineComment";return;case"/":f(),g="singleLineComment";return}throw N(f())},multiLineComment:function(){switch(p){case"*":f(),g="multiLineCommentAsterisk";return;case void 0:throw N(f())}f()},multiLineCommentAsterisk:function(){switch(p){case"*":f();return;case"/":f(),g="default";return;case void 0:throw N(f())}f(),g="multiLineComment"},singleLineComment:function(){switch(p){case`
`:case"\r":case"\u2028":case"\u2029":f(),g="default";return;case void 0:return f(),x("eof")}f()},value:function(){switch(p){case"{":case"[":return x("punctuator",f());case"n":return f(),de("ull"),x("null",null);case"t":return f(),de("rue"),x("boolean",!0);case"f":return f(),de("alse"),x("boolean",!1);case"-":case"+":f()==="-"&&(te=-1),g="sign";return;case".":m=f(),g="decimalPointLeading";return;case"0":m=f(),g="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":m=f(),g="decimalInteger";return;case"I":return f(),de("nfinity"),x("numeric",1/0);case"N":return f(),de("aN"),x("numeric",NaN);case'"':case"'":Be=f()==='"',m="",g="string";return}throw N(f())},identifierNameStartEscape:function(){if(p!=="u")throw N(f());f();var c=Qe();switch(c){case"$":case"_":break;default:if(!_.isIdStartChar(c))throw ku();break}m+=c,g="identifierName"},identifierName:function(){switch(p){case"$":case"_":case"\u200C":case"\u200D":m+=f();return;case"\\":f(),g="identifierNameEscape";return}if(_.isIdContinueChar(p)){m+=f();return}return x("identifier",m)},identifierNameEscape:function(){if(p!=="u")throw N(f());f();var c=Qe();switch(c){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!_.isIdContinueChar(c))throw ku();break}m+=c,g="identifierName"},sign:function(){switch(p){case".":m=f(),g="decimalPointLeading";return;case"0":m=f(),g="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":m=f(),g="decimalInteger";return;case"I":return f(),de("nfinity"),x("numeric",te*(1/0));case"N":return f(),de("aN"),x("numeric",NaN)}throw N(f())},zero:function(){switch(p){case".":m+=f(),g="decimalPoint";return;case"e":case"E":m+=f(),g="decimalExponent";return;case"x":case"X":m+=f(),g="hexadecimal";return}return x("numeric",te*0)},decimalInteger:function(){switch(p){case".":m+=f(),g="decimalPoint";return;case"e":case"E":m+=f(),g="decimalExponent";return}if(_.isDigit(p)){m+=f();return}return x("numeric",te*Number(m))},decimalPointLeading:function(){if(_.isDigit(p)){m+=f(),g="decimalFraction";return}throw N(f())},decimalPoint:function(){switch(p){case"e":case"E":m+=f(),g="decimalExponent";return}if(_.isDigit(p)){m+=f(),g="decimalFraction";return}return x("numeric",te*Number(m))},decimalFraction:function(){switch(p){case"e":case"E":m+=f(),g="decimalExponent";return}if(_.isDigit(p)){m+=f();return}return x("numeric",te*Number(m))},decimalExponent:function(){switch(p){case"+":case"-":m+=f(),g="decimalExponentSign";return}if(_.isDigit(p)){m+=f(),g="decimalExponentInteger";return}throw N(f())},decimalExponentSign:function(){if(_.isDigit(p)){m+=f(),g="decimalExponentInteger";return}throw N(f())},decimalExponentInteger:function(){if(_.isDigit(p)){m+=f();return}return x("numeric",te*Number(m))},hexadecimal:function(){if(_.isHexDigit(p)){m+=f(),g="hexadecimalInteger";return}throw N(f())},hexadecimalInteger:function(){if(_.isHexDigit(p)){m+=f();return}return x("numeric",te*Number(m))},string:function(){switch(p){case"\\":f(),m+=xr();return;case'"':if(Be)return f(),x("string",m);m+=f();return;case"'":if(!Be)return f(),x("string",m);m+=f();return;case`
`:case"\r":throw N(f());case"\u2028":case"\u2029":_r(p);break;case void 0:throw N(f())}m+=f()},start:function(){switch(p){case"{":case"[":return x("punctuator",f())}g="value"},beforePropertyName:function(){switch(p){case"$":case"_":m=f(),g="identifierName";return;case"\\":f(),g="identifierNameStartEscape";return;case"}":return x("punctuator",f());case'"':case"'":Be=f()==='"',g="string";return}if(_.isIdStartChar(p)){m+=f(),g="identifierName";return}throw N(f())},afterPropertyName:function(){if(p===":")return x("punctuator",f());throw N(f())},beforePropertyValue:function(){g="value"},afterPropertyValue:function(){switch(p){case",":case"}":return x("punctuator",f())}throw N(f())},beforeArrayValue:function(){if(p==="]")return x("punctuator",f());g="value"},afterArrayValue:function(){switch(p){case",":case"]":return x("punctuator",f())}throw N(f())},end:function(){throw N(f())}};function x(a,c){return{type:a,value:c,line:De,column:U}}function de(a){for(var c=0,F=a;c<F.length;c+=1){var A=F[c],h=re();if(h!==A)throw N(f());f()}}function xr(){var a=re();switch(a){case"b":return f(),"\b";case"f":return f(),"\f";case"n":return f(),`
`;case"r":return f(),"\r";case"t":return f(),"	";case"v":return f(),"\v";case"0":if(f(),_.isDigit(re()))throw N(f());return"\0";case"x":return f(),Nr();case"u":return f(),Qe();case`
`:case"\u2028":case"\u2029":return f(),"";case"\r":return f(),re()===`
`&&f(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw N(f());case void 0:throw N(f())}return f()}function Nr(){var a="",c=re();if(!_.isHexDigit(c)||(a+=f(),c=re(),!_.isHexDigit(c)))throw N(f());return a+=f(),String.fromCodePoint(parseInt(a,16))}function Qe(){for(var a="",c=4;c-- >0;){var F=re();if(!_.isHexDigit(F))throw N(f());a+=f()}return String.fromCodePoint(parseInt(a,16))}var Pr={start:function(){if($.type==="eof")throw Ae();eu()},beforePropertyName:function(){switch($.type){case"identifier":case"string":Ke=$.value,j="afterPropertyName";return;case"punctuator":Re();return;case"eof":throw Ae()}},afterPropertyName:function(){if($.type==="eof")throw Ae();j="beforePropertyValue"},beforePropertyValue:function(){if($.type==="eof")throw Ae();eu()},beforeArrayValue:function(){if($.type==="eof")throw Ae();if($.type==="punctuator"&&$.value==="]"){Re();return}eu()},afterPropertyValue:function(){if($.type==="eof")throw Ae();switch($.value){case",":j="beforePropertyName";return;case"}":Re()}},afterArrayValue:function(){if($.type==="eof")throw Ae();switch($.value){case",":j="beforeArrayValue";return;case"]":Re()}},end:function(){}};function eu(){var a;switch($.type){case"punctuator":switch($.value){case"{":a={};break;case"[":a=[];break}break;case"null":case"boolean":case"numeric":case"string":a=$.value;break}if(pe===void 0)pe=a;else{var c=ue[ue.length-1];Array.isArray(c)?c.push(a):Object.defineProperty(c,Ke,{value:a,writable:!0,enumerable:!0,configurable:!0})}if(a!==null&&typeof a=="object")ue.push(a),Array.isArray(a)?j="beforeArrayValue":j="beforePropertyName";else{var F=ue[ue.length-1];F==null?j="end":Array.isArray(F)?j="afterArrayValue":j="afterPropertyValue"}}function Re(){ue.pop();var a=ue[ue.length-1];a==null?j="end":Array.isArray(a)?j="afterArrayValue":j="afterPropertyValue"}function N(a){return $e(a===void 0?"JSON5: invalid end of input at "+De+":"+U:"JSON5: invalid character '"+Iu(a)+"' at "+De+":"+U)}function Ae(){return $e("JSON5: invalid end of input at "+De+":"+U)}function ku(){return U-=5,$e("JSON5: invalid identifier character at "+De+":"+U)}function _r(a){console.warn("JSON5: '"+Iu(a)+"' in strings is not valid ECMAScript; consider escaping")}function Iu(a){var c={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(c[a])return c[a];if(a<" "){var F=a.charCodeAt(0).toString(16);return"\\x"+("00"+F).substring(F.length)}return a}function $e(a){var c=new SyntaxError(a);return c.lineNumber=De,c.columnNumber=U,c}var kr=function(c,F,A){var h=[],w="",B,L,I="",Fe;if(F!=null&&typeof F=="object"&&!Array.isArray(F)&&(A=F.space,Fe=F.quote,F=F.replacer),typeof F=="function")L=F;else if(Array.isArray(F)){B=[];for(var me=0,W=F;me<W.length;me+=1){var K=W[me],q=void 0;typeof K=="string"?q=K:(typeof K=="number"||K instanceof String||K instanceof Number)&&(q=String(K)),q!==void 0&&B.indexOf(q)<0&&B.push(q)}}return A instanceof Number?A=Number(A):A instanceof String&&(A=String(A)),typeof A=="number"?A>0&&(A=Math.min(10,Math.floor(A)),I="          ".substr(0,A)):typeof A=="string"&&(I=A.substr(0,10)),ye("",{"":c});function ye(S,T){var y=T[S];switch(y!=null&&(typeof y.toJSON5=="function"?y=y.toJSON5(S):typeof y.toJSON=="function"&&(y=y.toJSON(S))),L&&(y=L.call(T,S,y)),y instanceof Number?y=Number(y):y instanceof String?y=String(y):y instanceof Boolean&&(y=y.valueOf()),y){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof y=="string")return Me(y);if(typeof y=="number")return String(y);if(typeof y=="object")return Array.isArray(y)?Vr(y):Mr(y)}function Me(S){for(var T={"'":.1,'"':.2},y={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},M="",J=0;J<S.length;J++){var V=S[J];switch(V){case"'":case'"':T[V]++,M+=V;continue;case"\0":if(_.isDigit(S[J+1])){M+="\\x00";continue}}if(y[V]){M+=y[V];continue}if(V<" "){var Ce=V.charCodeAt(0).toString(16);M+="\\x"+("00"+Ce).substring(Ce.length);continue}M+=V}var ne=Fe||Object.keys(T).reduce(function(ce,Ee){return T[ce]<T[Ee]?ce:Ee});return M=M.replace(new RegExp(ne,"g"),y[ne]),ne+M+ne}function Mr(S){if(h.indexOf(S)>=0)throw TypeError("Converting circular structure to JSON5");h.push(S);var T=w;w=w+I;for(var y=B||Object.keys(S),M=[],J=0,V=y;J<V.length;J+=1){var Ce=V[J],ne=ye(Ce,S);if(ne!==void 0){var ce=Tr(Ce)+":";I!==""&&(ce+=" "),ce+=ne,M.push(ce)}}var Ee;if(M.length===0)Ee="{}";else{var Te;if(I==="")Te=M.join(","),Ee="{"+Te+"}";else{var Or=`,
`+w;Te=M.join(Or),Ee=`{
`+w+Te+`,
`+T+"}"}}return h.pop(),w=T,Ee}function Tr(S){if(S.length===0)return Me(S);var T=String.fromCodePoint(S.codePointAt(0));if(!_.isIdStartChar(T))return Me(S);for(var y=T.length;y<S.length;y++)if(!_.isIdContinueChar(String.fromCodePoint(S.codePointAt(y))))return Me(S);return S}function Vr(S){if(h.indexOf(S)>=0)throw TypeError("Converting circular structure to JSON5");h.push(S);var T=w;w=w+I;for(var y=[],M=0;M<S.length;M++){var J=ye(String(M),S);y.push(J!==void 0?J:"null")}var V;if(y.length===0)V="[]";else if(I===""){var Ce=y.join(",");V="["+Ce+"]"}else{var ne=`,
`+w,ce=y.join(ne);V=`[
`+w+ce+`,
`+T+"]"}return h.pop(),w=T,V}},Ir={parse:br,stringify:kr},Rr=Ir,$r=Rr;return $r})}}),kn={};Y(kn,{applyChanges:()=>In,compareData:()=>be,compareKeys:()=>ht,getField:()=>mt,getPaths:()=>Rn,getPathsAndData:()=>au,isEqualContextString:()=>lu,map:()=>iu,updateByPath:()=>du});var Vu=un(_n(),1),lu=(e,u,t)=>Vu.default.stringify(e)===Vu.default.stringify(u),ht=(e,u)=>Wr(Object.keys(e),Object.keys(u)),be=(e,u,t={})=>{if(e===void 0)throw new Error("Param 'a' undefined");if(u===void 0)return[{path:t.pathPrefix??"",previous:e,value:void 0}];const r=t.pathPrefix??"",n=t.deepEntries??!1,o=t.eq??lu,i=t.includeMissingFromA??!1,s=[];if(Ru(e)&&Ru(u))return e!==u&&s.push({path:t.pathPrefix??"",value:u,previous:e}),s;const D=l=>{if(n){const E=[];for(const v in l){const b=l[v];qu(b)&&E.push([v,b])}return E}else return Object.entries(l)},d=D(e),C=new Set;for(const[l,E]of d)if(C.add(l),typeof E=="object")s.push(...be(E,u[l],{...t,pathPrefix:l+"."}));else{const v=r+l;if(l in u){const b=u[l];o(E,b,v)||s.push({path:v,previous:E,value:b})}else s.push({path:v,previous:E,value:void 0})}if(i){const l=D(u);for(const[E,v]of l)C.has(E)||s.push({path:r+E,previous:void 0,value:v})}return s},In=(e,u)=>{for(const t of u)e=du(e,t.path,t.value);return e},du=(e,u,t,r=!1)=>{if(u===void 0)throw new Error("Parameter 'path' is undefined");if(typeof u!="string")throw new Error(`Parameter 'path' should be a string. Got: ${typeof u}`);if(e===void 0)throw new Error("Parameter 'target' is undefined");if(e===null)throw new Error("Parameter 'target' is null");const n=u.split(".");return nu(e,n,t,r)},nu=(e,u,t,r)=>{if(u.length===0){if(r)return t;if(Array.isArray(e)&&!Array.isArray(t))throw new Error(`Expected array value, got: '${JSON.stringify(t)}'. Set allowShapeChange=true to ignore.`);if(!Array.isArray(e)&&Array.isArray(t))throw new Error(`Unexpected array value, got: '${JSON.stringify(t)}'. Set allowShapeChange=true to ignore.`);if(typeof e!=typeof t)throw new Error(`Cannot reassign object type. (${typeof e} -> ${typeof t}). Set allowShapeChange=true to ignore.`);if(typeof e=="object"&&!Array.isArray(e)){const i=ht(e,t);if(i.a.length>0)throw new Error(`New value is missing key(s): ${i.a.join(",")}`);if(i.b.length>0)throw new Error(`New value cannot add new key(s): ${i.b.join(",")}`)}return t}const n=u.shift();if(!n)return t;if(Lu(n)&&Array.isArray(e)){const i=Number.parseInt(n);if(i>=e.length&&!r)throw new Error(`Array index ${i} is outside of the existing length of ${e.length}. Use allowShapeChange=true to permit this.`);const s=[...e];return s[i]=nu(s[i],u,t,r),s}else if(n in e){const i={...e};return i[n]=nu(i[n],u,t,r),i}else throw new Error(`Path ${n} not found in data`)},mt=(e,u)=>{if(typeof u!="string")throw new Error(`Parameter 'path' ought to be a string. Got: '${typeof u}'`);if(u.length===0)throw new Error("Parameter 'path' is empty");if(e===void 0)throw new Error("Parameter 'object' is undefined");if(e===null)throw new Error("Parameter 'object' is null");const t=u.split(".");return ou(e,t)},ou=(e,u)=>{if(e===void 0)throw new Error("Parameter 'object' is undefined");if(u.length===0)throw new Error("Path run out");const t=u.shift();if(!t)throw new Error("Unexpected empty split path");if(Lu(t)&&Array.isArray(e)){const n=Number.parseInt(t);return u.length===0?e[n]:ou(e[n],u)}else{if(t in e)return u.length===0?e[t]:ou(e[t],u);throw new Error(`Path '${t}' not found in data`)}},iu=(e,u)=>{const r=Object.entries(e).map(([n,o],i)=>[n,u(o,n,i)]);return Object.fromEntries(r)},Rn=(e,u=!1)=>{if(e===void 0)throw new Error("Parameter 'object' is undefined");if(e===null)return[];const t=[],r=Jr(e);for(const n of r){if(n.nodeValue===void 0&&u)continue;let o=n.name;n.ancestors.length>0&&(o=n.ancestors.join(".")+"."+o),t.push(o)}return t},au=(e,u=Number.MAX_SAFE_INTEGER,t="")=>{if(e===null)return[];if(e===void 0)return[];const r=[];return yt(e,t,r,u),r},yt=(e,u,t,r)=>{if(r<=0)return t;if(typeof e=="object")for(const n of Object.entries(e)){const o=(u.length>0?u+".":"")+n[0];t.push({path:o,value:n[1]}),yt(n[1],o,t,r-1)}return t},$n={};Y($n,{Dom:()=>qt,Ops:()=>pu,annotate:()=>Fu,annotateElapsed:()=>Pt,batch:()=>Cu,cloneFromFields:()=>jn,debounce:()=>Eu,field:()=>xt,filter:()=>Nt,fromArray:()=>Do,fromEvent:()=>je,fromGenerator:()=>mo,fromObject:()=>Ne,fromProxy:()=>Jt,fromProxySymbol:()=>yo,fromQuery:()=>ho,generator:()=>su,hasLast:()=>_e,isDisposable:()=>Au,manual:()=>Ut,mergeAsArray:()=>Vn,messageHasValue:()=>H,messageIsDoneSignal:()=>ge,messageIsSignal:()=>Pe,number:()=>vo,observable:()=>wu,observableWritable:()=>Wt,opify:()=>wt,pipe:()=>Tn,prepare:()=>ao,resolve:()=>On,run:()=>zn,singleFromArray:()=>Ln,split:()=>pt,splitLabelled:()=>Bt,switcher:()=>bt,symbol:()=>gt,synchronise:()=>St,throttle:()=>vu,to:()=>Mn,toArray:()=>yu,toArrayOrThrow:()=>Lt,toGenerator:()=>so,transform:()=>ze,wrap:()=>G});var gt=Symbol("Rx");function Pe(e){return e.value!==void 0?!1:"signal"in e&&e.signal!==void 0}function ge(e){return e.value!==void 0?!1:"signal"in e&&e.signal==="done"}function H(e){return e.value!==void 0}var _e=e=>"last"in e&&e.last()!==void 0,Au=e=>"isDisposed"in e&&"dispose"in e,wt=(e,...u)=>t=>e(t,...u);function su(e,u={}){const t=u.lazy??!0;let r=!1;const o=z({onFirstSubscribe(){t&&!r&&s()},onNoSubscribers(){t&&r&&(r=!1)}}),i=async()=>{try{const D=await e.next();if(D.done){o.dispose("Generator complete");return}if(!r)return;o.set(D.value)}catch(D){o.dispose(`Generator error: ${D.toString()}`);return}o.isDisposed()||!r||setTimeout(i)},s=()=>{r||(r=!0,i())};return t||s(),{on:o.on,value:o.value,dispose:o.dispose,isDisposed:o.isDisposed}}var Z=e=>"on"in e?e:Array.isArray(e)?su(e.values(),{lazy:!0}):su(e,{lazy:!0}),Q=(e,u)=>{const t=u.lazy??!0,r=u.disposeIfSourceDone??!0,n=u.onValue??(l=>{}),o=Z(e);let i;const s=()=>{i===void 0&&(u.onStart&&u.onStart(),i=o.on(l=>{Pe(l)?l.signal==="done"?(D(),r&&C.dispose("Source is completed")):C.through(l):H(l)&&n(l.value)}))},D=()=>{i!==void 0&&(i(),i=void 0,u.onStop&&u.onStop())},d={onFirstSubscribe(){t&&s()},onNoSubscribers(){t&&D()}};t||s();const C=z(d);return C};function z(e={}){let u,t=!1,r=!1,n=!0;const o=e.onFirstSubscribe??void 0,i=e.onNoSubscribers??void 0,s=()=>{u!==void 0&&(!u.isEmpty||n||(n=!0,r=!1,i&&i()))},D=d=>{if(t)throw new Error("Disposed");u===void 0&&(u=new Kr);const C=u.add(d);return n=!1,r||(r=!0,o&&setTimeout(()=>{o()},10)),()=>{u?.remove(C),s()}};return{dispose:d=>{t||(u?.notify({value:void 0,signal:"done",context:`Disposed: ${d}`}),t=!0)},isDisposed:()=>t,reset:()=>{u?.clear(),s()},set:d=>{if(t)throw new Error("Disposed");u?.notify({value:d})},through:d=>{if(t)throw new Error("Disposed");u?.notify(d)},signal:(d,C)=>{if(t)throw new Error("Disposed");u?.notify({signal:d,value:void 0,context:C})},on:d=>D(d),value:d=>D(l=>{H(l)&&d(l.value)})}}var Mn=(e,u,t,r=!1)=>{const n=e.on(o=>{H(o)?u.set(t(o.value)):ge(o)?(n(),r&&(Au(u)?u.dispose(`Source closed (${o.context})`):console.warn("Reactive.to cannot close 'b' reactive since it is not disposable"))):console.warn(`Unsupported message: ${JSON.stringify(o)}`)});return n},pt=(e={})=>{const u=e.quantity??2;return t=>{const r=[],n=Z(t);for(let o=0;o<u;o++)r.push(Q(n,{disposeIfSourceDone:!0,lazy:!0}));return r}},Bt=(...e)=>u=>{const t=Z(u),r={};for(const n of e)r[n]=Q(t,{lazy:!0,disposeIfSourceDone:!0});return r},bt=(e,u,t={})=>{const r=t.match??"first",n=Z(e);let o=!1;const i={};for(const d of Object.keys(u))i[d]=z();const s=()=>{if(!o){D(),o=!0;for(const d of Object.values(i))d.dispose("switcher source dispose")}},D=n.on(d=>{if(H(d)){for(const[C,l]of Object.entries(u))if(l(d.value)&&(i[C].set(d.value),r==="first"))break}else ge(d)&&s()});return i},Tn=(...e)=>{const u=z(),t=[],r=n=>{for(const o of e)Au(o)&&!o.isDisposed&&o.dispose(n);for(const o of t)o();u.dispose(n)};for(let n=0;n<e.length;n++)t.push(e[n].on(o=>{const i=n===e.length-1;H(o)?i?u.set(o.value):e[n+1].set(o.value):ge(o)&&r("Upstream disposed")}));return{on:u.on,value:u.value,dispose(n){r(n)},isDisposed(){return u.isDisposed()}}};function Vn(...e){const u=z(),t=[];for(const[r,n]of e.entries())t[r]=void 0,n.on(o=>{Pe(o)||(t[r]=o.value),u.set(t)});return{on:u.on,value:u.value}}function St(){return(...e)=>{const u=z();let t=[];for(const[r,n]of e.entries())t[r]=void 0,Z(n).on(i=>{if(Pe(i)){i.signal==="done"&&e.splice(r,1);return}t[r]=i.value,t.includes(void 0)||(u.set(t),t=[])});return{on:u.on,value:u.value}}}function On(e,u={}){const t=X(u.interval,0),r=u.lazy??!1,n=z({onFirstSubscribe(){r&&s.runState==="idle"&&s.start()},onNoSubscribers(){r&&s.cancel()}});let i=u.infinite?Number.MAX_SAFE_INTEGER:u.loops??1;const s=zu(()=>{if(typeof e=="function"){const D=e();n.set(D)}else n.set(e);if(i--,i===0)return!1},t);return r||s.start(),{on:n.on,value:n.value}}function xt(e,u={}){return t=>{const r=Q(t,{disposeIfSourceDone:!0,...u,onValue(n){let o=n[e];o===void 0&&u.missingFieldDefault!==void 0&&(o=u.missingFieldDefault),r.set(o)}});return he(r)}}function Nt(e,u){return t=>{const r=Q(t,{...u,onValue(n){e(n)&&r.set(n)}});return he(r)}}var he=e=>({on:e.on,value:e.value});function ze(e,u,t={}){const r=Q(e,{...t,onValue(n){const o=u(n);r.set(o)}});return he(r)}function Fu(e,u={}){return t=>{const r=Q(t,{...u,onValue(n){const o=e(n);r.set(o)}});return he(r)}}var Pt=()=>e=>{let u=0;return Fu(r=>{const n=u===0?0:Date.now()-u;return u=Date.now(),{...r,elapsedMs:n}})(e)},jn=e=>ze(e,u=>{const t=[];for(const r in u){const n=u[r];qu(n)&&t.push([r,n])}return Object.fromEntries(t)});function Ln(e,u={}){const t=u.order??"default";if(!u.at&&!u.predicate)throw new Error("Options must have 'predicate' or 'at' fields");let r=o=>o;t==="random"?r=Zr:typeof t=="function"&&(r=o=>o.toSorted(t));const n=Q(e,{onValue(o){if(o=r(o),u.predicate)for(const i of o)u.predicate(i)&&n.set(i);else u.at&&n.set(o.at(u.at))}});return n}var qn=(...e)=>u=>{for(const t of e)u=t(u);return u};function zn(e,...u){return qn(...u)(e)}function Cu(e,u={}){const t=new qe,r=u.quantity??0,n=u.returnRemainder??!0,o={...u,onStop(){if(n&&!t.isEmpty){const d=t.toArray();t.clear(),i.set(d)}},onValue(d){t.enqueue(d),r>0&&t.length>=r&&s(),D!==void 0&&D.runState==="idle"&&D.start()}},i=Q(e,o),s=()=>{if(t.isEmpty)return;D!==void 0&&D.start();const d=t.toArray();t.clear(),i.set(d)},D=u.elapsed?Gu(s,u.elapsed):void 0;return he(i)}function Eu(e,u={}){const t=X(u.elapsed,50);let r;const n=Gu(()=>{const i=r;i&&(o.set(i),r=void 0)},t),o=Q(e,{...u,onValue(i){r=i,n.start()}});return he(o)}function vu(e,u={}){const t=X(u.elapsed,0);let r=performance.now(),n;const o=Q(e,{...u,onValue(s){n=s,i()}}),i=()=>{const s=performance.now();t>0&&s-r>t&&(r=s,n!==void 0&&o.set(n))};return he(o)}var Gn={};Y(Gn,{adjacentVertices:()=>mu,areAdjacent:()=>uo,bfs:()=>to,clone:()=>no,connect:()=>$t,connectTo:()=>cu,createVertex:()=>_t,dfs:()=>Mt,disconnect:()=>Rt,distance:()=>kt,distanceDefault:()=>Qn,dumpGraph:()=>Wn,edges:()=>It,getCycles:()=>Ot,getOrCreate:()=>Du,getOrFail:()=>Zn,graph:()=>Tt,graphFromVertices:()=>Vt,hasNoOuts:()=>Yn,hasOnlyOuts:()=>Kn,hasOut:()=>ve,isAcyclic:()=>oo,pathDijkstra:()=>ro,toAdjacencyMatrix:()=>Un,topologicalSort:()=>io,transitiveReduction:()=>jt,updateGraphVertex:()=>Ge,vertexHasOut:()=>Xn,vertices:()=>hu});var Hn=class{rows=[];rowLabels=[];colLabels=[];labelColumns(...e){this.colLabels=e}labelColumn(e,u){this.colLabels[e]=u}getColumnLabelIndex(e){for(const[u,t]of this.colLabels.entries())if(t===e)return u}print(){console.table([...this.rowsWithLabelsObject()])}*rowsWithLabelsArray(){for(let e=0;e<this.rows.length;e++)yield this.getRowWithLabelsArray(e)}asArray(){const e=[];for(const u of this.rows)u===void 0?e.push([]):e.push([...u]);return e}get rowCount(){return this.rows.length}get columnCount(){const e=this.rows.map(u=>u.length);return Math.max(...e)}*rowsWithLabelsObject(){for(let e=0;e<this.rows.length;e++)yield this.getRowWithLabelsObject(e)}labelRows(...e){this.rowLabels=e}appendRow(...e){this.rows.push(e)}getRowWithLabelsArray(e){const u=this.rows.at(e);if(u!==void 0)return u.map((t,r)=>[this.colLabels.at(r),t])}getRowWithLabelsObject(e){const u=this.rows.at(e);if(u===void 0)return;const t={};for(let r=0;r<this.colLabels.length;r++){const n=this.colLabels.at(r)??r.toString();t[n]=u[r]}return t}getOrCreateRow(e){let u=this.rows.at(e);return u===void 0&&(u=[],this.rows[e]=u),u}row(e){return this.rows.at(e)}set(e,u,t){const r=this.getOrCreateRow(e);r[u]=t}get(e,u){const t=this.getOrCreateRow(e),r=typeof u=="number"?u:this.getColumnLabelIndex(u);if(r===void 0)throw new Error(`Column not found: ${u}`);return t[r]}setRow(e,u,t){const r=this.getOrCreateRow(e);for(let n=0;n<u;n++)r[n]=t}},_t=e=>({id:e,out:[]});function Un(e){const u=[...e.vertices.values()],t=new Hn;t.labelColumns(...u.map(r=>r.id)),t.labelRows(...u.map(r=>r.id));for(let r=0;r<u.length;r++){t.setRow(r,u.length,!1);const n=u[r];for(const[o,i]of u.entries())n.out.some(s=>s.id===i.id)&&t.set(r,o,!0)}return t}var Wn=e=>Jn(e).join(`
`),Jn=e=>{const u=[],t="vertices"in e?e.vertices.values():e;for(const r of t){const n=eo(r);u.push(...n.map(o=>` ${o}`))}return u},kt=(e,u)=>u.weight!==void 0?u.weight:1;function*It(e){const u=[...e.vertices.values()];for(const t of u)for(const r of t.out)yield r}function*hu(e){const u=[...e.vertices.values()];for(const t of u)yield t}function*mu(e,u){if(u===void 0)return;const t=typeof u=="string"?e.vertices.get(u):u;if(t===void 0)throw new Error(`Vertex not found ${JSON.stringify(u)}`);for(const r of t.out){const n=e.vertices.get(r.id);if(n===void 0)throw new Error(`Could not find vertex: ${r.id}`);yield n}}var Xn=(e,u)=>{if(e===void 0)return!1;const t=typeof u=="string"?u:u.id;return e.out.some(r=>r.id===t)},Yn=(e,u)=>{const t=typeof u=="string"?e.vertices.get(u):u;return t===void 0?!1:t.out.length===0},Kn=(e,u,...t)=>{const r=oe(e,u),n=t.map(o=>oe(e,o));if(n.length!==r.out.length)return!1;for(const o of n)if(!ve(e,r,o))return!1;return!0},ve=(e,u,t)=>{const r=oe(e,u),n=typeof t=="string"?t:t.id;return r.out.some(o=>o.id===n)},Du=(e,u)=>{const t=e.vertices.get(u);if(t!==void 0)return{graph:e,vertex:t};const r=_t(u);return{graph:Ge(e,r),vertex:r}},Zn=(e,u)=>{const t=e.vertices.get(u);if(t===void 0)throw new Error(`Vertex '${u}' not found in graph`);return t},Ge=(e,u)=>({...e,vertices:e.vertices.set(u.id,u)}),Qn=(e,u)=>u.weight!==void 0?u.weight:1;function Rt(e,u,t){const r=oe(e,u),n=oe(e,t);return ve(e,r,n)?Ge(e,{...r,out:r.out.filter(o=>o.id!==n.id)}):e}function cu(e,u,t,r){const n=Du(e,u);e=n.graph;const o=Du(e,t);e=o.graph;const i={id:t,weight:r};return ve(e,n.vertex,o.vertex)||(e=Ge(e,{...n.vertex,out:[...n.vertex.out,i]})),{graph:e,edge:i}}function $t(e,u){const{to:t,weight:r,from:n}=u,o=u.bidi??!1,i=Array.isArray(t)?t:[t];for(const s of i)e=cu(e,n,s,r).graph;if(!o)return e;for(const s of i)e=cu(e,s,n,r).graph;return e}var eo=e=>{const u=[`${e.id}`],t=r=>r.weight===void 0?r.id:`${r.id} (${r.weight})`;for(const r of e.out)u.push(` -> ${t(r)}`);return e.out.length===0&&(u[0]+=" (terminal)"),u};function uo(e,u,t){if(ve(e,u,t.id)||ve(e,t,u.id))return!0}function oe(e,u){const t=typeof u=="string"?e.vertices.get(u):u;if(t===void 0)throw new Error(`Id not found ${u}`);return t}function*to(e,u,t){const r=oe(e,u),n=t===void 0?void 0:oe(e,t),o=new qe,i=new Set;for(o.enqueue(r);!o.isEmpty;){const s=o.dequeue();if(yield s,n!==void 0&&n===s)return;for(const D of mu(e,s))i.has(D.id)||(i.add(D.id),o.enqueue(oe(e,D.id)))}}function*Mt(e,u){const t=oe(e,u),r=new Hu,n=new Set;for(r.push(t);!r.isEmpty;){const o=r.pop();if(o!==void 0&&!n.has(o.id)){n.add(o.id),yield o;for(const i of o.out){const s=e.vertices.get(i.id);s&&r.push(s)}}}}var ro=(e,u)=>{const t=typeof u=="string"?e.vertices.get(u):u;if(t===void 0)throw new Error("source vertex not found");const r=new Map,n=new Map;r.set(t.id,0);const o=new Xr,i=[...e.vertices.values()];for(const D of i)D.id!==t.id&&(r.set(D.id,Number.MAX_SAFE_INTEGER),n.set(D.id,null)),o.enqueueWithPriority(D.id,Number.MAX_SAFE_INTEGER);for(;!o.isEmpty;){const D=o.dequeueMin();if(D===void 0)throw new Error("Bug. Queue unexpectedly empty");const d=e.vertices.get(D);for(const C of d.out){const l=r.get(D)+kt(e,C);l<r.get(C.id)&&(r.set(C.id,l),n.set(C.id,d),o.changePriority(C.id,l,!0))}}return{distances:r,previous:n,pathTo:D=>{const d=[];for(;D!==t.id;){const C=n.get(D);if(C==null)throw new Error(`Id not present: ${D}`);d.push({id:D,weight:r.get(D)}),D=C.id}return d}}},no=e=>({vertices:fu([...e.vertices.entries()])}),Tt=(...e)=>{let u={vertices:fu()};for(const t of e)u=$t(u,t);return u};function oo(e){return Ot(e).length===0}function io(e){const u=new Yr(0);for(const o of It(e))u.add(o.id,1);const t=new qe;let r=0;for(const o of hu(e))u.get(o.id)===0&&t.enqueue(o),r++;const n=[];for(;!t.isEmpty;){const o=t.dequeue();n.push(o);for(const i of o.out)u.subtract(i.id,1)===0&&t.enqueue(e.vertices.get(i.id))}if(n.length!==r)throw new Error("Graph contains cycles");return Vt(n)}function Vt(e){const u=ju.map(e,r=>[r.id,r]);return{vertices:fu([...u])}}function Ot(e){let u=0;const t=new Hu,r=new Map,n=[];for(const i of e.vertices.values())r.set(i.id,{...i,lowlink:Number.NaN,index:Number.NaN,onStack:!1});const o=i=>{i.index=u,i.lowlink=u,u++,t.push(i),i.onStack=!0;for(const s of i.out){const D=r.get(s.id);Number.isNaN(D.index)?(o(D),i.lowlink=Math.min(i.lowlink,D.lowlink)):D.onStack&&(i.lowlink=Math.min(i.lowlink,D.lowlink))}if(i.lowlink===i.index){const s=[];let D;for(;i!==D;)D=t.pop(),D.onStack=!1,s.push({id:D.id,out:D.out});s.length>1&&n.push(s)}};for(const i of r.values())Number.isNaN(i.index)&&o(i);return n}function jt(e){for(const u of hu(e))for(const t of mu(e,u))for(const r of Mt(e,t))if(t.id!==r.id&&ve(e,u,r)){const n=Rt(e,u,r);return jt(n)}return e}function ao(e){let u=Tt();const t=z();return{graph:u,on:t.on,value:t.value}}async function yu(e,u={}){const t=u.limit??Number.MAX_SAFE_INTEGER,r=X(u.maximumWait,10*1e3),n=u.underThreshold??"partial",o=[],i=Z(e);return new Promise((D,d)=>{const C=()=>{if(clearTimeout(l),E(),o.length<t&&n==="throw"){d(new Error(`Threshold not reached. Wanted: ${t} got: ${o.length}. Maximum wait: ${r}`));return}if(o.length<t&&n==="fill")for(let v=0;v<t;v++)o[v]===void 0&&(o[v]=u.fillValue);D(o)},l=setTimeout(()=>{C()},r),E=i.on(v=>{ge(v)?C():H(v)&&(o.push(v.value),o.length===t&&C())})})}async function Lt(e,u={}){const t=u.limit??Number.MAX_SAFE_INTEGER,r=u.maximumWait??5*1e3,n=await yu(e,{limit:t,maximumWait:r,underThreshold:"partial"});if(u.limit&&n.length<u.limit)throw new Error(`Threshold not reached. Wanted: ${u.limit}, got ${n.length}`);return n}async function*so(e){const u=Z(e);let t=s=>{},r=s=>{};const n=()=>new Promise((s,D)=>{t=s,r=D});let o=n(),i=!0;for(u.on(s=>{H(s)?(t(s.value),o=n()):ge(s)&&(i=!1,r("Source has completed"))});i;)yield await o}var Do=(e,u={})=>{const t=u.lazy??!1,r=u.idle??"",n=X(u.intervalMs,5);let o=0,i=e[0];const s=z({onFirstSubscribe(){t&&D.runState==="idle"&&D.start()},onNoSubscribers(){t&&(r==="pause"?D.cancel():r==="reset"&&(D.cancel(),o=0))}}),D=zu(()=>{if(i=e[o],o++,s.set(i),o===e.length)return!1},n);return t||D.start(),{isDone(){return o===e.length},last(){return i},on:s.on,value:s.value}};function G(e){return{source:Z(e),toArray:u=>yu(e,u),toArrayOrThrow:u=>Lt(e,u),value:u=>{Z(e).on(r=>{H(r)&&u(r.value)})},batch:u=>G(Cu(e,u)),annotate:u=>{const t=Fu(u)(e);return G(t)},annotateElapsed:()=>G(Pt()(e)),field:(u,t={})=>{const r=xt(u,t)(e);return G(r)},filter:(u,t)=>G(Nt(u,t)(e)),split:(u={})=>pt(u)(e).map(r=>G(r)),splitLabelled:(...u)=>{const t=Bt(...u)(e);return iu(t,n=>G(n))},switcher:(u,t={})=>{const r=bt(e,u,t);return iu(r,o=>G(o))},synchronise:(...u)=>{const t=u.map(r=>"source"in r?r.source:Z(r));return G(St()(e,...t))},debounce:(u={})=>G(Eu(e,u)),throttle:(u={})=>G(vu(e,u)),transform:(u,t={})=>G(ze(e,u,t))}}var qt={};Y(qt,{bind:()=>Ht,bindDiffUpdate:()=>Fo,bindElement:()=>gu,bindHtml:()=>fo,bindText:()=>co,bindUpdate:()=>Ao,elements:()=>Co,win:()=>Eo});var co=(e,u,t={})=>gu(e,u,{...t,elField:"textContent"}),fo=(e,u,t={})=>gu(e,u,{...t,elField:"innerHTML"}),gu=(e,u,...t)=>{if(u===null)throw new Error("Param 'elOrQuery' is null");if(u===void 0)throw new Error("Param 'elOrQuery' is undefined");const r=fe(u);let n=[];t.length===0?n.push({elField:"textContent"}):n=[...t];const o=n.map(i=>"element"in i?i:{...i,element:r});return Ht(e,...o)},lo=(e,u)=>{const t=zt(e);return r=>{t(r,u)}},zt=e=>{if(e.elField!==void 0||e.cssVariable===void 0&&e.attribName===void 0&&e.cssProperty===void 0&&e.textContent===void 0&&e.htmlContent===void 0){const u=e.elField??"textContent";return(t,r)=>{r[u]=t}}if(e.attribName!==void 0){const u=e.attribName;return(t,r)=>{r.setAttribute(u,t)}}if(e.textContent)return(u,t)=>{t.textContent=u};if(e.htmlContent)return(u,t)=>{t.innerHTML=u};if(e.cssVariable!==void 0){let u=e.cssVariable;return u.startsWith("--")||(u="--"+u),(t,r)=>{r.style.setProperty(u,t)}}return e.cssProperty!==void 0?(u,t)=>{t.style[e.cssProperty]=u}:(u,t)=>{}},Gt=e=>{if(!(!e.transform&&!e.transformValue)){if(e.transformValue){if(e.sourceField===void 0)throw new Error("Expects 'sourceField' to be set when 'transformValue' is set");return u=>{const t=u[e.sourceField];return e.transformValue(t)}}else if(e.transform){if(e.sourceField!==void 0)throw new Error("If 'transform' is set, 'sourceField' is ignored");return u=>e.transform(u)}}},Ht=(e,...u)=>{const t=u.map(i=>{if(i.element&&i.element!==void 0)return i;if(i.query)return{...i,element:fe(i.query)};throw new Error(`Unable to resolve element. Missing 'element' or 'query' values on bind. ${JSON.stringify(i)}`)}),r=t.map(i=>({update:lo(i,i.element),transformer:Gt(i),sourceField:i.sourceField})),n=i=>{for(const s of r)if(s.transformer)s.update(s.transformer(i));else{const D=s.sourceField?i[s.sourceField]:i;typeof D=="object"?(s.sourceField,s.update(JSON.stringify(D))):s.update(D)}},o=e.on(i=>{H(i)?n(i.value):Pe(i)&&console.warn(i)});return _e(e)&&n(e.last()),{remove:i=>{if(o(),i)for(const s of t)s.element.remove()}}},Ao=(e,u,t)=>{const r=fe(u),n=i=>{t(i,r)},o=e.on(i=>{H(i)?(console.log(i),n(i.value)):console.warn(i)});return _e(e)&&n(e.last()),{remove:i=>{o(),i&&r.remove()}}},Fo=(e,u,t,r={})=>{if(u===null)throw new Error("Param 'elOrQuery' is null");if(u===void 0)throw new Error("Param 'elOrQuery' is undefined");const n=fe(u);r.binds;const o=D=>{t(D,n)},i=e.onDiff(D=>{H(D)?o(D.value):console.warn(D)}),s=()=>{_e(e)&&r.initial&&r.initial(e.last(),n)};return s(),{refresh:()=>{s()},remove:D=>{i(),D&&n.remove()}}},Co=(e,u)=>{const t=u.container?fe(u.container):document.body,r=u.defaultTag??"div",n=new Map,o=new Map;for(const[l,E]of Object.entries(u.binds??{})){const v=E.tagName??r;o.set(l,{...E,update:zt(E),transform:Gt(E),tagName:v,path:l})}const i=l=>{const E=Qr(o,Ct(l));if(E!==void 0)return E;if(!l.includes("."))return o.get("_root")};function*s(l){for(const E of Et(l))o.has(E)&&(yield o.get(E));o.has("_root")&&l.includes(".")&&(yield o.get("_root"))}const D=(l,E)=>{const v=uu(l);console.log(`Rx.Dom.elements.create: ${l} rooted: ${v} value: ${JSON.stringify(E)}`);const b=i(uu(l));let R=r;b?.tagName&&(R=b.tagName);const k=document.createElement(R);k.setAttribute("data-path",l),d(l,k,E);let ee;for(const se of s(v))if(se?.nestChildren){const Ue=Ju(l,"."),ke=se.path.replace("_root",Ue);if(ee=n.get(ke),ee!==void 0)break}(ee??t).append(k),n.set(l,k),console.log(`Added el: ${l}`)},d=(l,E,v)=>{console.log(`Rx.dom.update path: ${l} value:`,v);const b=i(uu(l));b===void 0?(typeof v=="object"&&(v=JSON.stringify(v)),E.textContent=v):(b.transform&&(v=b.transform(v)),b.update(v,E))},C=l=>{const E=new qe({},l);let v=E.dequeue();const b=new Set;for(;v!==void 0;){const R=v.path;if(v.previous===void 0){console.log(`Rx.Dom.elements.changes no previous. path: ${R}`),D(R,v.value);const k=au(v.value,Number.MAX_SAFE_INTEGER,R);console.log(k);for(const ee of k)b.has(ee.path)||(E.enqueue(ee),b.add(ee.path))}else if(v.value===void 0){const k=n.get(R);k===void 0?console.warn(`No element to delete? ${R} `):(console.log(`Rx.Dom.elements.changes delete ${R}`),k.remove())}else{const k=n.get(R);k===void 0?(console.warn(`Rx.Dom.elements.changes No element to update ? ${R} `),D(R,v.value)):d(R,k,v.value)}v=E.dequeue()}};if(e.onDiff(l=>{l.value&&(console.log(`Rx.Dom.elements diff ${JSON.stringify(l.value)} `),C(l.value))}),_e(e)){const l=e.last();C(au(l,1))}},uu=e=>{const u=Uu(e,".");return u===e?"_root":"_root."+u};function Eo(){const e=()=>({width:window.innerWidth,height:window.innerHeight}),u=je(window,"resize",{lazy:!0,process:()=>e()}),t=je(window,"pointermove",{lazy:!0,process:n=>{if(n===void 0)return{x:0,y:0};const o=n;return{x:o.x,y:o.y}}});return{dispose:(n="Reactive.win.dispose")=>{u.dispose(n),t.dispose(n)},size:u,pointer:t}}function vo(e){let u=e;const t=z(),r=n=>{u=n,t.set(n)};return{dispose:t.dispose,isDisposed:t.isDisposed,last:()=>u,on:t.on,value:t.value,set:r}}function je(e,u,t={}){if(e===null)throw new Error("Param 'target' is null");const r=t.process,n=r?r():void 0,o=t.debugLifecycle??!1,i=t.debugFiring??!1,s=n?Ne(n,{deepEntries:!0}):Ne(void 0,{deepEntries:!0}),D=t.lazy??!1;let d=!1,C=!1;const l=b=>{i&&console.log(`Reactive.event '${u}' firing '${JSON.stringify(b)}`),s.set(r?r(b):b)},E=()=>{!d||(d=!1,e.removeEventListener(u,l),o&&console.log(`Reactive.event remove '${u}'`))},v=()=>{d||(d=!0,e.addEventListener(u,l),o&&console.log(`Reactive.event add '${u}'`))};return D||v(),{last:()=>(D&&v(),s.last()),dispose:b=>{C||(C=!0,E(),s.dispose(b))},isDisposed(){return C},on:b=>(D&&v(),s.on(b)),value:b=>(D&&v(),s.value(b))}}function ho(e){const u=[...document.querySelectorAll(e)];return Ne(u)}function Ut(e={}){const u=z(e);return{set(t){u.set(t)},on:u.on,value:u.value}}function wu(e){const u=Wt(e);return{on:u.on,value:u.value}}function Wt(e){let u=()=>{};const t=Ut({onFirstSubscribe(){u=e(t)},onNoSubscribers(){u&&u()}});return{...t,value:r=>t.on(n=>{H(n)&&r(n.value)})}}function Ne(e,u={}){const t=u.eq??lu,r=z(),n=z();let o=e,i=!1;const s=l=>{if(o!==void 0){const E=be(o,l,{...u,includeMissingFromA:!0});if(E.length===0)return;n.set(E)}o=l,r.set(l)},D=l=>{if(o===void 0)o=l;else{const E=be(l,o);if(E.length===0)return;o={...o,...l},n.set(E)}r.set(o)};return{dispose:l=>{i||(n.dispose(l),r.dispose(l),i=!0)},isDisposed(){return i},updateField:(l,E)=>{if(o===void 0)throw new Error("Cannot update value when it has not already been set");const v=mt(o,l);if(t(v,E,l))return;let b=be(v,E,{...u,includeMissingFromA:!0});b=b.map(k=>k.path.length>0?{...k,path:l+"."+k.path}:{...k,path:l});const R=du(o,l,E);o=R,n.set(b),r.set(R)},last:()=>o,on:r.on,value:r.value,onDiff:n.on,set:s,update:D}}function mo(e){const u=z();return setTimeout(async()=>{try{for await(const t of e)u.set(t);u.dispose("Source generator complete")}catch(t){console.error(t),u.dispose("Error while iterating")}},1),u}var pu={batch:e=>u=>Cu(u,e),debounce:e=>u=>Eu(u,e),transform:e=>u=>ze(u,e),throttle:e=>wt(vu,e)},Jt=e=>{const u=Ne(e);return{proxy:new Proxy(e,{set(r,n,o,i){return typeof n=="string"&&u.updateField(n,o),r[n]=o,!0}}),rx:u}},yo=e=>{const{proxy:u,rx:t}=Jt(e),r=u;return r[gt]=t,r},go={};Y(go,{resizeObservable:()=>Yt,themeChange:()=>wo,windowResize:()=>Xt});var Xt=e=>pu.debounce({elapsed:e??100})(je(window,"resize")),wo=()=>wu(u=>{const t=new MutationObserver(n=>{u.set(n)}),r={attributeFilter:["class"],attributes:!0};return t.observe(document.documentElement,r),()=>{t.disconnect()}}),Yt=(e,u)=>{if(e===null)throw new Error("elem parameter is null. Expected element to observe");if(e===void 0)throw new Error("elem parameter is undefined. Expected element to observe");const t=wu(r=>{const n=new ResizeObserver(o=>{r.set(o)});return n.observe(e),()=>{n.unobserve(e)}});return pu.debounce({elapsed:u??100})(t)},Ro=(e,u,t=100)=>{const r=fe(e);if(r.nodeName!=="CANVAS")throw new Error(`Expected HTML element with node name CANVAS, not ${r.nodeName}`);const n=r.parentElement;if(n===null)throw new Error("Element has no parent");const o=r.getContext("2d");if(o===null)throw new Error("Could not create drawing context");return r.style.width="100%",r.style.height="100%",Yt(n,t).value(s=>{const D=s.find(l=>l.target===n);if(D===void 0)return;const d=D.contentRect.width,C=D.contentRect.height;if(r.setAttribute("width",r.offsetWidth+"px"),r.setAttribute("height",r.offsetHeight+"px"),u!==void 0){const l={min:Math.min(d,C),max:Math.max(d,C),width:d,height:C,center:{x:d/2,y:C/2}};u({ctx:o,el:r,bounds:l})}})},$o=(e,u,t=!1)=>{if(e==null)throw new Error("domQueryOrEl is null or undefined");const r=fe(e);if(r.nodeName!=="CANVAS")throw new Error(`Expected HTML element with node name CANVAS, not ${r.nodeName}`);const n=r.getContext("2d");if(n===null)throw new Error("Could not create drawing context");const o=()=>{const s=window.innerWidth,D=window.innerHeight;if(r.width=s,r.height=D,u!==void 0){const d={min:Math.min(s,D),max:Math.max(s,D),width:s,height:D,center:{x:s/2,y:D/2}};u({ctx:n,el:r,bounds:d})}};t||(r.style.top="0",r.style.left="0",r.style.zIndex="-100",r.style.position="fixed");const i=Xt();return i.value(o),o(),i},po={};Y(po,{Elements:()=>Kt,applyOpts:()=>ae,applyPathOpts:()=>bu,applyStrokeOpts:()=>le,clear:()=>So,createEl:()=>He,createOrResolve:()=>ie,getBounds:()=>xo,makeHelper:()=>Po,remove:()=>sr,setBounds:()=>No});var Bo=(e,u,t)=>{const r=He("marker",e);if(u.markerWidth&&r.setAttribute("markerWidth",u.markerWidth?.toString()),u.markerHeight&&r.setAttribute("markerHeight",u.markerHeight?.toString()),u.orient?r.setAttribute("orient",u.orient.toString()):r.setAttribute("orient","auto-start-reverse"),u.viewBox&&r.setAttribute("viewBox",u.viewBox.toString()),u.refX&&r.setAttribute("refX",u.refX.toString()),u.refY&&r.setAttribute("refY",u.refY.toString()),t){const n=t();r.appendChild(n)}return r},tu=(e,u,t)=>{if(e===null)return"(elem null)";const r=e.ownerSVGElement;if(r===null)throw new Error("parent for elem is null");const n=ie(r,"defs","defs");let o=n.querySelector(`#${u.id}`);if(o!==null)return`url(#${u.id})`;if(u.id==="triangle")u={...u,strokeStyle:"transparent"},u.markerHeight||(u={...u,markerHeight:6}),u.markerWidth||(u={...u,markerWidth:6}),u.refX||(u={...u,refX:u.markerWidth}),u.refY||(u={...u,refY:u.markerHeight}),(!u.fillStyle||u.fillStyle==="none")&&(u={...u,fillStyle:"black"}),u.viewBox||(u={...u,viewBox:"0 0 10 10"}),o=Bo(u.id,u,()=>{const i=He("path");return i.setAttribute("d","M 0 0 L 10 5 L 0 10 z"),u&&ae(i,u),i});else throw new Error(`Do not know how to make ${u.id}`);return o.id=u.id,n.appendChild(o),`url(#${u.id})`},Kt={};Y(Kt,{circle:()=>ur,circleUpdate:()=>er,grid:()=>ar,group:()=>bo,groupUpdate:()=>tr,line:()=>Le,lineUpdate:()=>rr,path:()=>Zt,pathUpdate:()=>Qt,text:()=>ir,textPath:()=>or,textPathUpdate:()=>nr,textUpdate:()=>Bu});var Ou=e=>e>=0&&e<=1?e*100+"%":e.toString(),Zt=(e,u,t,r)=>{const n=ie(u,"path",r),o=typeof e=="string"?e:e.join(`
`);return n.setAttributeNS(null,"d",o),u.append(n),Qt(n,t)},Qt=(e,u)=>(u&&ae(e,u),u&&le(e,u),e),er=(e,u,t)=>(e.setAttributeNS(null,"cx",u.x.toString()),e.setAttributeNS(null,"cy",u.y.toString()),e.setAttributeNS(null,"r",u.radius.toString()),t&&ae(e,t),t&&le(e,t),e),ur=(e,u,t,r)=>{const n=ie(u,"circle",r);return er(n,e,t)},bo=(e,u,t)=>{const r=ie(u,"g",t);return tr(r,e)},tr=(e,u)=>{for(const t of u)t.parentNode!==e&&e.append(t);return e},Le=(e,u,t,r)=>{const n=ie(u,"line",r);return rr(n,e,t)},rr=(e,u,t)=>(e.setAttributeNS(null,"x1",u.a.x.toString()),e.setAttributeNS(null,"y1",u.a.y.toString()),e.setAttributeNS(null,"x2",u.b.x.toString()),e.setAttributeNS(null,"y2",u.b.y.toString()),t&&ae(e,t),t&&bu(e,t),t&&le(e,t),e),nr=(e,u,t)=>(t?.method&&e.setAttributeNS(null,"method",t.method),t?.side&&e.setAttributeNS(null,"side",t.side),t?.spacing&&e.setAttributeNS(null,"spacing",t.spacing),t?.startOffset&&e.setAttributeNS(null,"startOffset",Ou(t.startOffset)),t?.textLength&&e.setAttributeNS(null,"textLength",Ou(t.textLength)),u&&(e.textContent=u),t&&ae(e,t),t&&le(e,t),e),or=(e,u,t,r,n,o)=>{const i=ie(t,"text",n,"-text");Bu(i,void 0,void 0,r);const s=ie(i,"textPath",o);return s.setAttributeNS(null,"href",e),nr(s,u,r)},Bu=(e,u,t,r)=>(u&&(e.setAttributeNS(null,"x",u.x.toString()),e.setAttributeNS(null,"y",u.y.toString())),t&&(e.textContent=t),r&&(ae(e,r),r&&le(e,r),r.anchor&&e.setAttributeNS(null,"text-anchor",r.anchor),r.align&&e.setAttributeNS(null,"alignment-baseline",r.align),(r.userSelect??!0)||(e.style.userSelect="none",e.style.webkitUserSelect="none")),e),ir=(e,u,t,r,n)=>{const o=ie(u,"text",n);return Bu(o,t,e,r)},ar=(e,u,t,r,n,o={})=>{o.strokeStyle||(o={...o,strokeStyle:en("bg-dim","silver")}),o.strokeWidth||(o={...o,strokeWidth:1});const i=He("g");ae(i,o),bu(i,o),le(i,o);let s=0;for(;s<n;){const d=$u(0,s,r,s);Le(d,i),s+=t}let D=0;for(;D<r;){const d=$u(D,0,D,n);Le(d,i),D+=t}return e.append(i),i},ie=(e,u,t,r)=>{let n=null;if(t!==void 0&&(n=typeof t=="string"?e.querySelector(t):t),n===null){const o=document.createElementNS("http://www.w3.org/2000/svg",u);return e.append(o),t&&typeof t=="string"&&t.startsWith("#")&&(o.id=r!==void 0&&!t.endsWith(r)?t.slice(1)+r:t.slice(1)),o}return n},sr=(e,u)=>{if(typeof u=="string"){const t=e.querySelector(u);if(t===null)return;t.remove()}else u.remove()},So=e=>{let u=e.lastElementChild;for(;u;)u.remove(),u=e.lastElementChild},He=(e,u)=>{const t=document.createElementNS("http://www.w3.org/2000/svg",e);return u&&(t.id=u),t},bu=(e,u)=>{u.markerEnd&&e.setAttribute("marker-end",tu(e,u.markerEnd)),u.markerStart&&e.setAttribute("marker-start",tu(e,u.markerStart)),u.markerMid&&e.setAttribute("marker-mid",tu(e,u.markerMid))},ae=(e,u)=>{u.fillStyle&&e.setAttributeNS(null,"fill",u.fillStyle),u.opacity&&e.setAttributeNS(null,"opacity",u.opacity.toString())},le=(e,u)=>{u.strokeStyle&&e.setAttributeNS(null,"stroke",u.strokeStyle),u.strokeWidth&&e.setAttributeNS(null,"stroke-width",u.strokeWidth.toString()),u.strokeDash&&e.setAttribute("stroke-dasharray",u.strokeDash),u.strokeLineCap&&e.setAttribute("stroke-linecap",u.strokeLineCap)},xo=e=>{const u=e.getAttributeNS(null,"width"),t=u===null?0:Number.parseFloat(u),r=e.getAttributeNS(null,"height"),n=r===null?0:Number.parseFloat(r);return{width:t,height:n}},No=(e,u)=>{e.setAttributeNS(null,"width",u.width.toString()),e.setAttributeNS(null,"height",u.height.toString())},Po=(e,u)=>(u&&(ae(e,u),le(e,u)),{remove:r=>{sr(e,r)},text:(r,n,o,i)=>ir(r,e,n,o,i),textPath:(r,n,o,i,s)=>or(r,n,e,o,i,s),line:(r,n,o)=>Le(r,e,n,o),circle:(r,n,o)=>ur(r,e,n,o),path:(r,n,o)=>Zt(r,e,n,o),grid:(r,n,o,i,s)=>ar(e,r,n,o,i,s),query:r=>e.querySelector(r),get width(){const r=e.getAttributeNS(null,"width");return r===null?0:Number.parseFloat(r)},set width(r){e.setAttributeNS(null,"width",r.toString())},get parent(){return e},get height(){const r=e.getAttributeNS(null,"height");return r===null?0:Number.parseFloat(r)},set height(r){e.setAttributeNS(null,"height",r.toString())},clear:()=>{for(;e.firstChild;)e.lastChild.remove()}});export{go as D,po as S,Hn as T,mt as a,_n as b,Io as c,Yt as d,Kt as e,$o as f,Rn as g,rn as h,Gn as i,Po as m,Ro as p,fe as r,Xt as w};
