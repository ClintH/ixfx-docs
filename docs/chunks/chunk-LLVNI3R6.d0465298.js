import{m as S,o as k,v as K}from"./chunk-6TM6SJDV.d463ae79.js";import{_ as h,a as x,c as q,d as u}from"./chunk-FQLUQVDZ.735c98e3.js";import{S as O,n as c,i as A}from"./chunk-QLMTBJ7O.4bda2143.js";var R={};h(R,{byValueString:()=>I,getSorter:()=>P,minMaxAvg:()=>J,sortByKey:()=>w,sortByValueNumber:()=>E,sortByValueString:()=>D});function N(e,r,t,a,n,o,i,s,m){switch(arguments.length){case 1:return e;case 2:return r(e);case 3:return t(r(e));case 4:return a(t(r(e)));case 5:return n(a(t(r(e))));case 6:return o(n(a(t(r(e)))));case 7:return i(o(n(a(t(r(e))))));case 8:return s(i(o(n(a(t(r(e)))))));case 9:return m(s(i(o(n(a(t(r(e))))))));default:for(var y=arguments[0],g=1;g<arguments.length;g++)y=arguments[g](y);return y}}var T=function(e){return function(r,t){return r===t||e(r,t)===0}},$=function(e){return{equals:T(e),compare:function(r,t){return r===t?0:e(r,t)}}},b=function(e){return $(function(r,t){return e.compare(t,r)})},M=function(e){return function(r){return $(function(t,a){return r.compare(e(t),e(a))})}},d={equals:function(e,r){return e===r}},p={equals:d.equals,compare:function(e,r){return e<r?-1:e>r?1:0}};d.equals,p.compare;var W=function(e){return e.slice()},_=function(e){return function(r){return r.length<=1?W(r):r.slice().sort(e.compare)}},X={equals:function(e,r){return e===r}},v={equals:X.equals,compare:function(e,r){return e<r?-1:e>r?1:0}},z=(e=!1)=>N(e?b(v):v,M(r=>r[0])),I=(e=!1)=>N(e?b(v):v,M(r=>r[1])),C=(e=!1)=>N(e?b(p):p,M(r=>r[1])),w=(e=!1)=>_(z(e)),D=(e=!1)=>_(I(e)),E=(e=!1)=>_(C(e)),P=e=>{switch(e){case"value":return E(!1);case"valueReverse":return E(!0);case"key":return w(!1);case"keyReverse":return w(!0);default:throw new Error(`Unknown sorting value '${e}'. Expecting: value, valueReverse, key or keyReverse`)}},J=(e,r)=>{r===void 0&&(r=a=>a[1]);const t=e.map(r);return S(t)},L={};h(L,{FrequencyMutable:()=>G,Normalise:()=>V,frequencyMutable:()=>j});var V={};h(V,{array:()=>Z,stream:()=>U});var U=(e,r)=>{let t=e??Number.MAX_SAFE_INTEGER,a=r??Number.MIN_SAFE_INTEGER;return n=>(t=Math.min(t,n),a=Math.max(a,n),k(n,t,a))},Z=(e,r,t)=>{if(!Array.isArray(e))throw new Error("values param should be an array");const a=S(e),n=r??a.min,o=t??a.max;return e.map(i=>K(k(i,n,o)))},f,l,G=class extends O{constructor(e=void 0){super();x(this,f,void 0),x(this,l,void 0),q(this,f,new Map),e===void 0&&(e=r=>{if(r===void 0)throw new Error("Cannot create key for undefined");return typeof r=="string"?r:JSON.stringify(r)}),q(this,l,e)}clear(){u(this,f).clear(),this.fireEvent("change",void 0)}keys(){return u(this,f).keys()}values(){return u(this,f).values()}toArray(){return Array.from(u(this,f).entries())}debugString(){let e="";for(const[r,t]of u(this,f).entries())e+=`${r}: ${t}, `;return e.endsWith(", ")?e.substring(0,e.length-2):e}frequencyOf(e){if(typeof e=="string")return u(this,f).get(e);const r=u(this,l).call(this,e);return u(this,f).get(r)}relativeFrequencyOf(e){let r;if(typeof e=="string")r=u(this,f).get(e);else{const a=u(this,l).call(this,e);r=u(this,f).get(a)}if(r===void 0)return;const t=this.minMaxAvg();return r/t.total}entries(){return Array.from(u(this,f).entries())}minMaxAvg(){return R.minMaxAvg(this.entries())}entriesSorted(e="value"){return P(e)(this.entries())}add(...e){if(e===void 0)throw new Error("value parameter is undefined");e.map(u(this,l)).forEach(t=>{const a=u(this,f).get(t)??0;u(this,f).set(t,a+1)}),this.fireEvent("change",void 0)}};f=new WeakMap;l=new WeakMap;var j=e=>new G(e),H={};h(H,{count:()=>re,forEach:()=>ee,numericRange:()=>F,numericRangeRaw:()=>Y,pingPong:()=>B,pingPongPercent:()=>Q,rangePercent:()=>te});var Q=function(e=.1,r,t,a,n=1e3){return r===void 0&&(r=0),t===void 0&&(t=1),a===void 0&&(a=r),c(e,"bipolar","interval"),c(t,"bipolar","end"),c(a,"bipolar","offset"),c(r,"bipolar","start"),B(e,r,t,a,n)},B=function*(e,r,t,a,n=1){if(Number.isNaN(e))throw new Error("interval parameter is NaN");if(Number.isNaN(r))throw new Error("lower parameter is NaN");if(Number.isNaN(t))throw new Error("upper parameter is NaN");if(Number.isNaN(a))throw new Error("upper parameter is NaN");if(r>=t)throw new Error("lower must be less than upper");if(e===0)throw new Error("Interval cannot be zero");const o=t-r;if(Math.abs(e)>=o)throw new Error(`Interval should be between -${o} and ${o}`);let i=e>0;if(t=Math.floor(t*n),r=Math.floor(r*n),e=Math.floor(Math.abs(e*n)),a===void 0?a=r:a=Math.floor(a*n),a>t||a<r)throw new Error(`Start (${a/n}) must be within lower (${r/n}) and upper (${t/n})`);let s=a;yield s/n;let m=!0;for(;;)s=s+(i?e:-e),i&&s>=t?(i=!1,s=t,s===t&&m&&(s=r,i=!0)):!i&&s<=r&&(i=!0,s=r,s===r&&m&&(s=t,i=!1)),yield s/n,m=!1},Y=function*(e,r=0,t,a=!1){if(e<=0)throw new Error("Interval is expected to be above zero");t===void 0&&(t=Number.MAX_SAFE_INTEGER);let n=r;do for(;n<t;)yield n,n+=e;while(a)},ee=(e,r)=>{for(const t of e){const a=r(t);if(typeof a=="boolean"&&!a)break}},F=function*(e,r=0,t,a=!1,n){c(e,"nonZero");const o=e<0;if(t!==void 0){if(o&&r<t)throw new Error(`Interval of ${e} will never go from ${r} to ${t}`);if(!o&&r>t)throw new Error(`Interval of ${e} will never go from ${r} to ${t}`)}n=n??1e3,t===void 0?t=Number.MAX_SAFE_INTEGER:t*=n,e=e*n;do{let i=r*n;for(;!o&&i<=t||o&&i>=t;)yield i/n,i+=e}while(a)},re=function*(e,r=0){if(A(e,"","amount"),A(r,"","offset"),e===0)return;let t=0;do e<0?yield-t+r:yield t+r;while(t++<Math.abs(e)-1)},te=function(e=.01,r=!1,t=0,a=1){return c(e,"percentage","interval"),c(t,"percentage","start"),c(a,"percentage","end"),F(e,t,a,r)};export{H as G,R as K,V as N,j as f,P as g};
