<!DOCTYPE html>
<html dir="ltr" lang="en-us" class="initial astro-VOYEGVQR">
	<head>
		<!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width">

<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="alternate icon" type="image/x-icon" href="/favicon.ico">

<link rel="sitemap" href="/sitemap.xml">

<!-- Preload Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital@0;1&display=swap" rel="stylesheet">

<!-- Scrollable a11y code helper -->
<script type="module" src="/make-scrollable-code-focusable.js"></script>

<!-- This is intentionally inlined to avoid FOUC -->
<script>
	const root = document.documentElement;
	const theme = localStorage.getItem('theme');
	if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
		root.classList.add('theme-dark');
	} else {
		root.classList.remove('theme-dark');
	}
</script>

		<!-- Page Metadata --><link rel="canonical" href="https://clinth.github.io/ixfx-docs/data/collections/map/">

<!-- OpenGraph Tags -->
<meta property="og:title" content="Map - ixfx docs">
<meta property="og:type" content="article">
<meta property="og:url" content="https://clinth.github.io/ixfx-docs/data/collections/map/">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://github.com/clinth/ixfx/blob/main/assets/social/banner.jpg?raw=true">
<meta property="og:image:alt" content="ixfx">
<meta name="description" property="og:description" content="ixfx documentation">
<meta property="og:site_name" content="ixfx docs">

<!-- Twitter Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site">
<meta name="twitter:title" content="Map - ixfx docs">
<meta name="twitter:description" content="ixfx documentation">
<meta name="twitter:image" content="https://github.com/clinth/ixfx/blob/main/assets/social/banner.jpg?raw=true">
<meta name="twitter:image:alt" content="ixfx">

<!--
  TODO: Add json+ld data, maybe https://schema.org/APIReference makes sense?
  Docs: https://developers.google.com/search/docs/advanced/structured-data/intro-structured-data
  https://www.npmjs.com/package/schema-dts seems like a great resource for implementing this.
  Even better, there's a React component that integrates with `schema-dts`: https://github.com/google/react-schemaorg
-->

		<title>Map - ixfx docs</title>
		
	<link rel="stylesheet" href="/ixfx-docs/assets/index.30ff1db2.css"></link>
<link rel="stylesheet" href="/ixfx-docs/assets/MainLayout.46c7210e.css"></link><style astro-style="true">astro-root, astro-fragment { display: contents; }</style><script type="module" data-astro-component-hydration astro-script="/data/collections/map/script-0">import setup from '../../../idle.79a119d3.js';
setup("Z12Vj7s", {name:"SidebarToggle",value: true}, async () => {
  const [{ default: Component }, { default: hydrate }] = await Promise.all([import("../../../SidebarToggle.7bf29991.js"), import("../../../client.ffaafdb9.js")]);
  return (el, children) => hydrate(el)(Component, {"class":"astro-MOSAUK67"}, children);

});
</script>
<script type="module" data-astro-component-hydration astro-script="/data/collections/map/script-1">import setup from '../../../media.663cb905.js';
setup("Z1t6mH6", {name:"TableOfContents",value: "(min-width: 50em)"}, async () => {
  const [{ default: Component }, { default: hydrate }] = await Promise.all([import("../../../TableOfContents.1d5417cb.js"), import("../../../client.ffaafdb9.js")]);
  return (el, children) => hydrate(el)(Component, {"headers":[{"depth":2,"slug":"basic-operations","text":"Basic operations"},{"depth":2,"slug":"alternatives-and-limitations","text":"Alternatives and limitations"},{"depth":2,"slug":"helper-functions","text":"Helper functions"},{"depth":3,"slug":"has","text":"Has"},{"depth":3,"slug":"iterating","text":"Iterating"},{"depth":3,"slug":"deleting","text":"Deleting"},{"depth":2,"slug":"conversions","text":"Conversions"},{"depth":2,"slug":"get-or-generate","text":"Get or generate"},{"depth":2,"slug":"adding","text":"Adding"},{"depth":2,"slug":"transformations","text":"Transformations"},{"depth":2,"slug":"more-functions","text":"More functions"}],"class":"astro-XPZS3NBI"}, children);

});
</script>
<script type="module" data-astro-component-hydration astro-script="/data/collections/map/script-2">import setup from '../../../visible.5d2db83f.js';
setup("1Gmxo9", {name:"ThemeToggleButton",value: true}, async () => {
  const [{ default: Component }, { default: hydrate }] = await Promise.all([import("../../../ThemeToggleButton.2999a4de.js"), import("../../../client.ffaafdb9.js")]);
  return (el, children) => hydrate(el)(Component, {"class":"astro-WOEIVG5E"}, children);

});
</script>
<script type="module" data-astro-component-hydration astro-script="/data/collections/map/script-3">import setup from '../../../media.663cb905.js';
setup("Z1t6mH6", {name:"TableOfContents",value: "(max-width: 50em)"}, async () => {
  const [{ default: Component }, { default: hydrate }] = await Promise.all([import("../../../TableOfContents.1d5417cb.js"), import("../../../client.ffaafdb9.js")]);
  return (el, children) => hydrate(el)(Component, {"headers":[{"depth":2,"slug":"basic-operations","text":"Basic operations"},{"depth":2,"slug":"alternatives-and-limitations","text":"Alternatives and limitations"},{"depth":2,"slug":"helper-functions","text":"Helper functions"},{"depth":3,"slug":"has","text":"Has"},{"depth":3,"slug":"iterating","text":"Iterating"},{"depth":3,"slug":"deleting","text":"Deleting"},{"depth":2,"slug":"conversions","text":"Conversions"},{"depth":2,"slug":"get-or-generate","text":"Get or generate"},{"depth":2,"slug":"adding","text":"Adding"},{"depth":2,"slug":"transformations","text":"Transformations"},{"depth":2,"slug":"more-functions","text":"More functions"}],"class":"astro-AMOJLK4X"}, children);

});
</script>
</head>

	<body>
		<header class="astro-MOSAUK67">
	<a href="#article" class="sr-only skiplink astro-RC6GWYXJ"><span class="astro-RC6GWYXJ">Skip to Content</span></a>



	<nav class="nav-wrapper astro-MOSAUK67" title="Top Navigation">
		<div class="menu-toggle astro-MOSAUK67">
			<astro-root uid="Z12Vj7s"><button type="button" aria-pressed="false" id="menu-toggle"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg><span class="sr-only">Toggle sidebar</span></button></astro-root>
		</div>
		<div class="logo flex astro-MOSAUK67">
			<!-- <AstroLogo size={40} /> -->
			<a href="/ixfx-docs/" class="astro-MOSAUK67">
				<h1 class="astro-MOSAUK67">ixfx docs</h1>
			</a>
		</div>
		<div style="flex-grow: 1;" class="astro-MOSAUK67"></div>
		<!-- {KNOWN_LANGUAGE_CODES.length > 1 && <LanguageSelect lang={lang} client:idle />} -->
		<!-- {CONFIG.ALGOLIA && (
			<div class="search-item">
				<Search client:idle />
			</div>
		)} -->
	</nav>
</header>



		<main class="layout astro-VOYEGVQR">
			<aside id="grid-left" class="grid-sidebar astro-VOYEGVQR" title="Site Navigation">
				<nav aria-labelledby="grid-left" class="astro-TIHETVVV">
	<ul class="nav-groups astro-TIHETVVV">
		<li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV"></h2>
					<ul class="astro-TIHETVVV">
						
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">Getting Started</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/./" aria-current="false" class="astro-TIHETVVV">
									Introduction
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/./importing/" aria-current="false" class="astro-TIHETVVV">
									Importing
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">Flow and Logic</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/flow/stateMachine/" aria-current="false" class="astro-TIHETVVV">
									State Machine
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/flow/loops/" aria-current="false" class="astro-TIHETVVV">
									Loops and Intervals
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/flow/delay/" aria-current="false" class="astro-TIHETVVV">
									Delay
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/flow/retrying/" aria-current="false" class="astro-TIHETVVV">
									Retrying
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/flow/flow/" aria-current="false" class="astro-TIHETVVV">
									Flow
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/flow/monitoring/" aria-current="false" class="astro-TIHETVVV">
									Monitoring
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">Modulation</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/easing/" aria-current="false" class="astro-TIHETVVV">
									Easing
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/envelope/" aria-current="false" class="astro-TIHETVVV">
									Envelope
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/forces/" aria-current="false" class="astro-TIHETVVV">
									Forces
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/jitter/" aria-current="false" class="astro-TIHETVVV">
									Jitter
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/interpolate/" aria-current="false" class="astro-TIHETVVV">
									Interpolate
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/oscillator/" aria-current="false" class="astro-TIHETVVV">
									Oscillator
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/spring/" aria-current="false" class="astro-TIHETVVV">
									Spring
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">Generation</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/gen/random/" aria-current="false" class="astro-TIHETVVV">
									Random
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/gen/generator/" aria-current="false" class="astro-TIHETVVV">
									Generators
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">Data</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/cleanup/" aria-current="false" class="astro-TIHETVVV">
									Clean up
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/normalising/" aria-current="false" class="astro-TIHETVVV">
									Normalising
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/arrays/" aria-current="false" class="astro-TIHETVVV">
									Arrays
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/collections/" aria-current="false" class="astro-TIHETVVV">
									Collections
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/averaging/" aria-current="false" class="astro-TIHETVVV">
									Averaging
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/frequency/" aria-current="false" class="astro-TIHETVVV">
									Frequency
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/trackers/" aria-current="false" class="astro-TIHETVVV">
									Trackers
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/pool/" aria-current="false" class="astro-TIHETVVV">
									Pool
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">Types</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/types/geometry/" aria-current="false" class="astro-TIHETVVV">
									Geometry
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/types/colour/" aria-current="false" class="astro-TIHETVVV">
									Colour
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">IO</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/io/espruino/" aria-current="false" class="astro-TIHETVVV">
									Espruino
								</a>
							</li>
					</ul>
				</div>
			</li>
	</ul>
</nav>

<script>
	window.addEventListener('DOMContentLoaded', (event) => {
		var target = document.querySelector('[aria-current="page"]');
		if (target && target.offsetTop > window.innerHeight - 100) {
			document.querySelector('.nav-groups').scrollTop = target.offsetTop;
		}
	});
</script>



			</aside>
			<div id="grid-main" class="astro-VOYEGVQR">
				<article id="article" class="content astro-AMOJLK4X">
	<section class="main-section astro-AMOJLK4X">
		<h1 class="content-title astro-AMOJLK4X" id="overview">Map</h1>
		<nav class="block sm:hidden astro-AMOJLK4X">
				<astro-root uid="Z1t6mH6"><h2 class="heading">On this page</h2><ul><li class="header-link depth-2"><a href="#overview">Overview</a></li><li class="header-link depth-2"><a href="#basic-operations">Basic operations</a></li><li class="header-link depth-2"><a href="#alternatives-and-limitations">Alternatives and limitations</a></li><li class="header-link depth-2"><a href="#helper-functions">Helper functions</a></li><li class="header-link depth-3"><a href="#has">Has</a></li><li class="header-link depth-3"><a href="#iterating">Iterating</a></li><li class="header-link depth-3"><a href="#deleting">Deleting</a></li><li class="header-link depth-2"><a href="#conversions">Conversions</a></li><li class="header-link depth-2"><a href="#get-or-generate">Get or generate</a></li><li class="header-link depth-2"><a href="#adding">Adding</a></li><li class="header-link depth-2"><a href="#transformations">Transformations</a></li><li class="header-link depth-2"><a href="#more-functions">More functions</a></li></ul></astro-root>
			</nav>
		<div class="tip">
<ul>
<li>API Reference <a href="https://clinth.github.io/ixfx/modules/Collections.Maps.html">Collections.Maps module</a></li>
<li>Parent <a href="https://clinth.github.io/ixfx/modules/Collections.html">Collections module</a></li>
</ul></div><p>Javascript has an in-built <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a> object which is used for tracking key-value pairs. In other words, it maps a given <em>key</em> to a given <em>value</em>. The basic operations of a map are <code>set()</code>,<code>get()</code>, <code>delete()</code> and <code>has()</code>.</p><p>Maps can be useful when there is a meaningful and unique way of referring to values, where we want the possibilty to get <em>just that one thing</em> efficiently.</p><p>You can think of a map like a dictionary. If you want to look up a definition (a <em>value</em>), you need the word (the <em>key</em>). We could say that the dictionary is <em>keyed</em> by words. If a new definition is to be added to the dictionary (ie a new value), we have to add it with its word (ie its key), we can't just throw it in without.</p><p><a href="../arrays/">Arrays</a> can also let you efficiently get an item, but only by its numerical <em>index</em>. In some cases, using an index makes perfect sense - getting the <em>first</em> item in a sorted array, for example. But thinking again of the dictionary, it doesn't seem useful to want to get the 300th word. We'd much rather store and get items by some kind of unique identifier.</p><h2 id="basic-operations">Basic operations</h2><p>When storing objects in a map, keys are often a particular property that we expect to be unique. For example, maybe we have Fruit type, and we expect the <em>name</em> of the fruit to be unique, but not its colour, or flavour values.</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">granny-smith</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token literal-property property">colour</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">green</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token literal-property property">flavour</span><span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">golden-delicious</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token literal-property property">colour</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">yellow</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token literal-property property">flavour</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>name<span class="token punctuation">,</span> a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>a2<span class="token punctuation">.</span>name<span class="token punctuation">,</span> a2<span class="token punctuation">)</span><span class="token punctuation">;</span>

map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">granny-smith</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// True</span>
<span class="token keyword">const</span> apple <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">granny-smith</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
apple<span class="token punctuation">.</span>flavour<span class="token punctuation">;</span> <span class="token comment">// 4</span></code></pre><p>In the above example, you can see <code>set()</code> being used to add an object by its key (in this case its <em>name</em> property), and <code>get()</code> being used to retrieve an item by its key. If nothing is stored under a key, <em>undefined</em> is returned. <code>has()</code> returns true/false if a key exists too.</p><p>Items are deleted by key:</p><pre class="language-js"><code class="language-js">map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">golden-delicious</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The contents of a map can be iterated over. You can iterate over keys and values separately:</p><pre class="language-js"><code class="language-js"><span class="token comment">// Iterate by key</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> value <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Get value for key</span>
<span class="token punctuation">}</span>

<span class="token comment">// Iterate over values</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span></code></pre><p>Or you can iterate over <em>entries</em>, which is an array of both key and value</p><pre class="language-js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span>value<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Use key and value as needed...</span>
<span class="token punctuation">}</span></code></pre><h2 id="alternatives-and-limitations">Alternatives and limitations</h2><p>One side effect of a map is that only unique keys are stored. If you <code>set()</code> a second item with an existing key, the earlier value is overriden. If the desired outcome is simply to have unique values, consider using the <a href="./set/">Set</a>.</p><p>Maps only store a single item per key. There are occasions where we'd rather group items by a key. For that, see <a href="./mapMultiple">Map Multiple</a>.</p><h2 id="helper-functions">Helper functions</h2><p>ixfx has a few helper functions for working with maps. To import these functions:</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Maps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"https://unpkg.com/ixfx/dist/collections.js"</span></code></pre><h3 id="has">Has</h3><p>JS has <code>Map.has()</code>, returning a boolean if a key is present. We can't check if a value is present. <a href="https://clinth.github.io/ixfx/functions/Collections.Maps.hasAnyValue.html"><code>Maps.hasAnyValue()</code></a> takes the map to look over, a value, and a comparison function that returns true or false if two values match.</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Maps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"https://unpkg.com/ixfx/dist/collections.js"</span>

<span class="token comment">// Compare fruits based on their colour property</span>
<span class="token keyword">const</span> <span class="token function-variable function">colourComparer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> a<span class="token punctuation">.</span>colour <span class="token operator">===</span> b<span class="token punctuation">.</span>colour<span class="token punctuation">;</span>

<span class="token comment">// Returns true if any fruit has the colour red</span>
Maps<span class="token punctuation">.</span><span class="token function">hasAnyValue</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">colour</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">red</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span> colourComparer<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a href="https://clinth.github.io/ixfx/functions/Collections.Maps.hasKeyValue.html"><code>hasKeyValue</code></a> returns true if a given key exists <em>and</em> the value matches as well.</p><pre class="language-js"><code class="language-js"><span class="token comment">// Returns true if the stored apple is also red</span>
Maps<span class="token punctuation">.</span><span class="token function">hasKeyValue</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">apple</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">colour</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">red</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span> colourComparer<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="iterating">Iterating</h3><p>To get all the values of a map as an array, the syntax for that is:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>Or alternatively using ixfx's <code>Maps.toArray</code>:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> values <span class="token operator">=</span> Maps<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>Maps.filter</code> iterates over all values of a map that match a given predicate:</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Maps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"https://unpkg.com/ixfx/dist/collections.js"</span>
<span class="token keyword">const</span> <span class="token function-variable function">p</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=></span> value<span class="token punctuation">.</span>colour <span class="token operator">===</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">red</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> value <span class="token keyword">of</span> Maps<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Iterates all the values with .colour = `red`</span>
<span class="token punctuation">}</span></code></pre><p>To iterate over sorted values, use <a href="https://clinth.github.io/ixfx/functions/Collections.Maps.sortByValue.html"><code>Maps.sortByValue</code></a>:</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Maps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"https://unpkg.com/ixfx/dist/collections.js"</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">1</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">zebra</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">2</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ant</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> values <span class="token operator">=</span> Maps<span class="token punctuation">.</span><span class="token function">sortByValue</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Yields:</span>
<span class="token comment">// [`ant`, `zebra`]</span></code></pre><p>If the map contains objects, you will want to provide a custom comparer function. An alternative is to use <a href="https://clinth.github.io/ixfx/functions/Collections.Maps.sortByValueProperty.html"><code>Maps.sortByValue</code></a>, which sorts by the property of a value.</p><pre class="language-js"><code class="language-js">cosnt m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">4491</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bob</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">2319</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Alice</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sorted <span class="token operator">=</span> Maps<span class="token punctuation">.</span><span class="token function">sortByValue</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">name</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Yields:</span>
<span class="token comment">// [ { name: `Alice` }, { name: `Bob` }]</span></code></pre><h3 id="deleting">Deleting</h3><p>Deleting from a map is usually by key (<code>map.delete(key)</code>), but if you want to delete a particular value, regardless of its key, consider ixfx's <a href="https://clinth.github.io/ixfx/functions/Collections.Maps.deleteByValue.html"><code>Maps.deleteByValue</code></a>:</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Maps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"https://unpkg.com/ixfx/dist/collections.js"</span>

<span class="token comment">// Compare fruits based on their colour property</span>
<span class="token keyword">const</span> <span class="token function-variable function">colourComparer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> a<span class="token punctuation">.</span>colour <span class="token operator">===</span> b<span class="token punctuation">.</span>colour<span class="token punctuation">;</span>

<span class="token comment">// Deletes all values where .colour = `red`</span>
Maps<span class="token punctuation">.</span><span class="token function">deleteByValue</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">colour</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">red</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span> colourComparer<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="conversions">Conversions</h2><p>If you already have something iterable (eg an array or other collection), you can make a map from it with ixfx's <a href="https://clinth.github.io/ixfx/functions/Collections.Maps.fromIterable.html"><code>Maps.fromIterable</code></a>. It needs a function that generates a key for a given value. An optional third parameter allows keys to be overwritten (false by default)</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span> 
  <span class="token punctuation">{</span> <span class="token literal-property property">fruit</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">granny-smith</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token literal-property property">family</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">apple</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token literal-property property">colour</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">green</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">fruit</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">mango</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token literal-property property">family</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">stone-fruit</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token literal-property property">colour</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">orange</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> Maps<span class="token punctuation">.</span><span class="token function">fromIterable</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token parameter">v</span> <span class="token operator">=></span> v<span class="token punctuation">.</span>fruit<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>[<code>Maps.fromObject</code>] converts a plain object into a map, using its top-level properties as keys.</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token literal-property property">Sally</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Sally</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token literal-property property">colour</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">red</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token literal-property property">Bob</span><span class="token operator">:</span>   <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bob</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>   <span class="token literal-property property">colour</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">pink</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> Maps<span class="token punctuation">.</span><span class="token function">fromObject</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Sally</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: `Sally`, colour: `red` }</span></code></pre><h2 id="get-or-generate">Get or generate</h2><p>A common pattern working with maps to retrieve something by a given key, and if it doesn't exist to create an object for that key.</p><p>For example, if we are processing multi-touch input, each pointer event has a <code>pointerId</code>, and we may want to track that over time. Since it's a unique identifier, a map makes perfect sense. We either want to get the existing tracker for <em>that</em> pointer, or create a new tracker if it's an id that we haven't encountered yet.</p><p><a href="https://clinth.github.io/ixfx/functions/Collections.Maps.getOrGenerate-1.html"><code>Maps.getOrGenerate</code></a> can assist.</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Maps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"https://unpkg.com/ixfx/dist/collections.js"</span>
<span class="token comment">// Set up</span>
<span class="token keyword">const</span> trackers <span class="token operator">=</span> Maps<span class="token punctuation">.</span><span class="token function">getOrGenerate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token parameter">key</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// This runs whenever there is a new key stored,</span>
  <span class="token comment">// adding the returned value to the map</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MagicalPointerTracker</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">pointermove</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token parameter">evt</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Get a MagicalPointerTracker instance for this pointerId,</span>
  <span class="token comment">// creating it if it doesn't exist</span>
  <span class="token keyword">const</span> tracker <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">trackers</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>pointerId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Note the use of <code>await</code>. This means that we can use asynchronous functions to generate new values on demand. Alternatively, use <a href="https://clinth.github.io/ixfx/functions/Collections.Maps.getOrGenerateSync.html"><code>getOrGenerateSync</code></a> which has the same signature, but doesn't need <code>await</code> when accessing.</p><h2 id="adding">Adding</h2><p>By default, adding a key-value pair to a map will overwrite an existing entry with same key. Sometimes this 'last write wins' logic is not wanted, and instead we want to throw away values if they would overwrite something older. <a href="https://clinth.github.io/ixfx/functions/Collections.Maps.addKeepingExisting.html"><code>Maps.addKeepingExisting</code></a> to the rescue.</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Maps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"https://unpkg.com/ixfx/dist/collections.js"</span><span class="token punctuation">;</span>
<span class="token comment">// Function that generates a key for a value</span>
<span class="token keyword">const</span> <span class="token function-variable function">keyFn</span> <span class="token operator">=</span> <span class="token parameter">v</span> <span class="token operator">=></span> v<span class="token punctuation">.</span>name<span class="token punctuation">;</span>

<span class="token comment">// Values to add</span>
<span class="token keyword">const</span> values <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Sally</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token literal-property property">colour</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">red</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bob</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token literal-property property">colour</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">pink</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Sally</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token literal-property property">colour</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">green</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span> <span class="token comment">/* this one will get ignored */</span>
<span class="token punctuation">]</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Add values</span>
Maps<span class="token punctuation">.</span><span class="token function">addKeepingExisting</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> keyFn<span class="token punctuation">,</span> <span class="token operator">...</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Sally</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>colour<span class="token punctuation">;</span> <span class="token comment">// `red`</span></code></pre><p>In the above example, we can see that the older value for 'Sally' is kept.</p><h2 id="transformations">Transformations</h2><p><a href="https://clinth.github.io/ixfx/functions/Collections.Maps.mapToArray.html"><code>Maps.mapToArray</code></a> allows an array of values to be generated from a map. This can be useful if you want to pluck out a particular property from each value, or transform values.</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Maps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"https://unpkg.com/ixfx/dist/collections.js"</span><span class="token punctuation">;</span>
<span class="token comment">// Where map contains things like:</span>
<span class="token comment">//  Sally -> { name: `Sally`, colour: `red` }</span>
<span class="token comment">//  Bob   -> { name: `Bob`, colour: `pink` }</span>
<span class="token keyword">const</span> altered <span class="token operator">=</span> Maps<span class="token punctuation">.</span><span class="token function">mapToArray</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> person</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>person<span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> person<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token literal-property property">rand</span><span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Yields an array: [</span>
<span class="token comment">//  { name: `SALLY`, colour: `red`, rand: 0.351 },</span>
<span class="token comment">//  { name: `BOB`, colour: `pink`, rand: 0.912 }</span>
<span class="token comment">// ]</span></code></pre><p><a href="https://clinth.github.io/ixfx/functions/Collections.Maps.toObject.html"><code>Maps.toObject</code></a> converts a map to a plain object, this is useful for turning into a JSON string representation.</p><p>Given the same example map from above:</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Maps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"https://unpkg.com/ixfx/dist/collections.js"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> objects <span class="token operator">=</span> Maps<span class="token punctuation">.</span><span class="token function">toObject</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Yields: {</span>
<span class="token comment">//  Sally: { name: `Sally`, colour: `red` },</span>
<span class="token comment">//  Bob: { name: `Bob`, colour: `pink` }</span>
<span class="token comment">// }</span></code></pre><p>Use <a href="https://clinth.github.io/ixfx/functions/Collections.Maps.fromObject.html"><code>Maps.fromObject</code></a> to convert back from a plain object.</p><p><em>Mapping</em> over a collection of values is common when dealing with arrays. It allows you to transform each element of an array, returning a new array with the transformed values. There is no in built <code>map()</code> for Maps, but you can use ixfx's <a href="https://clinth.github.io/ixfx/functions/Collections.Maps.transformMap.html"><code>Maps.transformMap</code></a> for a similar outcome.</p><p>Like a regular map, it takes a map function which must return a transformed version of its input value.</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Maps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"https://unpkg.com/ixfx/dist/collections.js"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">a</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Ant</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">b</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bee</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">c</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Cat</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">transformer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">animal</span><span class="token operator">:</span> value <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> newMap <span class="token operator">=</span> Maps<span class="token punctuation">.</span><span class="token function">transformMap</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> transformer<span class="token punctuation">)</span><span class="token punctuation">;</span>

map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">b</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Yields: `Bee`</span>
newMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">b</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Yields: { animal: `Bee` }</span></code></pre><p>The above example could be expressed more succinctly:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> newMap <span class="token operator">=</span> Maps<span class="token punctuation">.</span><span class="token function">transformMap</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token literal-property property">animal</span><span class="token operator">:</span> value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><em>Zippering</em> is combining two aligned arrays together. In the case of a map, we might want to combine an array of keys with an array of values using
<a href="https://clinth.github.io/ixfx/functions/Collections.Maps.zipKeyValue.html"><code>Maps.zipKeyValue</code></a>. The length of both arrays must be the same.</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Maps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"https://unpkg.com/ixfx/dist/collections.js"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> keys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">a</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">b</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">c</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ant</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">bee</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">cat</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> Maps<span class="token punctuation">.</span><span class="token function">zipKeyValue</span><span class="token punctuation">(</span>keys<span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">b</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Yields: `bee`</span></code></pre><h2 id="more-functions">More functions</h2><ul>
<li><a href="https://clinth.github.io/ixfx/functions/Collections.Maps.find.html"><code>find</code></a> - Finds first value that matches value</li>
<li><a href="https://clinth.github.io/ixfx/functions/Collections.Maps.firstEntryByIterableValue.html"><code>firstEntryByIterableValue</code></a> - Finds first entry that matches value</li>
<li><a href="https://clinth.github.io/ixfx/functions/Collections.Maps.immutable.html"><code>immutable</code></a> - immutable map implementation</li>
<li><a href="https://clinth.github.io/ixfx/functions/Collections.Maps.mergeByKey.html"><code>mergeByKey</code></a> - merge two maps, with a reconcile function to merge values that use same key</li>
<li><a href="https://clinth.github.io/ixfx/functions/Collections.Maps.zipKeyValue.html"><code>zipKeyValue</code></a> - combine an array of keys and an array of values into an object</li>
</ul>
	</section>
	<nav class="block sm:hidden astro-AMOJLK4X">
		
<ul class="astro-WOEIVG5E">
</ul>
<div style="margin: 2rem 0; text-align: center;" class="astro-WOEIVG5E">
	<astro-root uid="1Gmxo9"><div class="theme-toggle"><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fillRule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clipRule="evenodd"></path></svg><input type="radio" name="theme-toggle" value="light" title="Use light theme" aria-label="Use light theme" /></label><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg><input type="radio" name="theme-toggle" value="dark" title="Use dark theme" aria-label="Use dark theme" /></label></div></astro-root>
</div>



	</nav>
</article>



			</div>
			<aside id="grid-right" class="grid-sidebar astro-VOYEGVQR" title="Table of Contents">
				<nav class="sidebar-nav astro-XPZS3NBI" aria-labelledby="grid-right">
	<div class="sidebar-nav-inner astro-XPZS3NBI">
		<astro-root uid="Z1t6mH6"><h2 class="heading">On this page</h2><ul><li class="header-link depth-2"><a href="#overview">Overview</a></li><li class="header-link depth-2"><a href="#basic-operations">Basic operations</a></li><li class="header-link depth-2"><a href="#alternatives-and-limitations">Alternatives and limitations</a></li><li class="header-link depth-2"><a href="#helper-functions">Helper functions</a></li><li class="header-link depth-3"><a href="#has">Has</a></li><li class="header-link depth-3"><a href="#iterating">Iterating</a></li><li class="header-link depth-3"><a href="#deleting">Deleting</a></li><li class="header-link depth-2"><a href="#conversions">Conversions</a></li><li class="header-link depth-2"><a href="#get-or-generate">Get or generate</a></li><li class="header-link depth-2"><a href="#adding">Adding</a></li><li class="header-link depth-2"><a href="#transformations">Transformations</a></li><li class="header-link depth-2"><a href="#more-functions">More functions</a></li></ul></astro-root>
		
<ul class="astro-WOEIVG5E">
</ul>
<div style="margin: 2rem 0; text-align: center;" class="astro-WOEIVG5E">
	<astro-root uid="1Gmxo9"><div class="theme-toggle"><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fillRule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clipRule="evenodd"></path></svg><input type="radio" name="theme-toggle" value="light" title="Use light theme" aria-label="Use light theme" /></label><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg><input type="radio" name="theme-toggle" value="dark" title="Use dark theme" aria-label="Use dark theme" /></label></div></astro-root>
</div>



	</div>
</nav>



			</aside>
		</main>
	</body>
</html>
