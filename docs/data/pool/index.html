<!DOCTYPE html>
<html dir="ltr" lang="en-us" class="initial astro-VOYEGVQR">
	<head>
		<!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width">

<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="alternate icon" type="image/x-icon" href="/favicon.ico">

<link rel="sitemap" href="/sitemap.xml">

<!-- Preload Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital@0;1&display=swap" rel="stylesheet">

<!-- Scrollable a11y code helper -->
<script type="module" src="/make-scrollable-code-focusable.js"></script>

<!-- This is intentionally inlined to avoid FOUC -->
<script>
	const root = document.documentElement;
	const theme = localStorage.getItem('theme');
	if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
		root.classList.add('theme-dark');
	} else {
		root.classList.remove('theme-dark');
	}
</script>

		<!-- Page Metadata --><link rel="canonical" href="https://clinth.github.io/ixfx-docs/data/pool/">

<!-- OpenGraph Tags -->
<meta property="og:title" content="Pool - ixfx docs">
<meta property="og:type" content="article">
<meta property="og:url" content="https://clinth.github.io/ixfx-docs/data/pool/">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://github.com/clinth/ixfx/blob/main/assets/social/banner.jpg?raw=true">
<meta property="og:image:alt" content="ixfx">
<meta name="description" property="og:description" content="ixfx documentation">
<meta property="og:site_name" content="ixfx docs">

<!-- Twitter Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site">
<meta name="twitter:title" content="Pool - ixfx docs">
<meta name="twitter:description" content="ixfx documentation">
<meta name="twitter:image" content="https://github.com/clinth/ixfx/blob/main/assets/social/banner.jpg?raw=true">
<meta name="twitter:image:alt" content="ixfx">

<!--
  TODO: Add json+ld data, maybe https://schema.org/APIReference makes sense?
  Docs: https://developers.google.com/search/docs/advanced/structured-data/intro-structured-data
  https://www.npmjs.com/package/schema-dts seems like a great resource for implementing this.
  Even better, there's a React component that integrates with `schema-dts`: https://github.com/google/react-schemaorg
-->

		<title>Pool - ixfx docs</title>
		
	<link rel="stylesheet" href="/ixfx-docs/assets/MainLayout.46c7210e.css"></link><style astro-style="true">astro-root, astro-fragment { display: contents; }</style><script type="module" astro-script="/data/pool/script-0">import "../../client-shim.a8276547.js";</script>
<script type="module" data-astro-component-hydration astro-script="/data/pool/script-1">import setup from '../../idle.1e368d9f.js';
setup("Z12Vj7s", {name:"SidebarToggle",value: true}, async () => {
  const [{ default: Component }, { default: hydrate }] = await Promise.all([import("../../SidebarToggle.fca59054.js"), import("../../client.dcc0a456.js")]);
  return (el, children) => hydrate(el)(Component, {"class":"astro-MOSAUK67"}, children);

});
</script>
<script type="module" data-astro-component-hydration astro-script="/data/pool/script-2">import setup from '../../media.0d830f0d.js';
setup("M3eiy", {name:"TableOfContents",value: "(min-width: 50em)"}, async () => {
  const [{ default: Component }, { default: hydrate }] = await Promise.all([import("../../TableOfContents.ede6c4ed.js"), import("../../client.dcc0a456.js")]);
  return (el, children) => hydrate(el)(Component, {"headers":[{"depth":2,"slug":"in-action-manual-resources","text":"In action: manual resources"},{"depth":2,"slug":"in-action-automatically-generating-resources","text":"In action: automatically generating resources"},{"depth":2,"slug":"creating","text":"Creating"},{"depth":2,"slug":"accessing-resources","text":"Accessing resources"},{"depth":2,"slug":"misc","text":"Misc."}],"class":"astro-XPZS3NBI"}, children);

});
</script>
<script type="module" data-astro-component-hydration astro-script="/data/pool/script-3">import setup from '../../visible.08ab059e.js';
setup("1Gmxo9", {name:"ThemeToggleButton",value: true}, async () => {
  const [{ default: Component }, { default: hydrate }] = await Promise.all([import("../../ThemeToggleButton.48d19909.js"), import("../../client.dcc0a456.js")]);
  return (el, children) => hydrate(el)(Component, {"class":"astro-WOEIVG5E"}, children);

});
</script>
<script type="module" data-astro-component-hydration astro-script="/data/pool/script-4">import setup from '../../media.0d830f0d.js';
setup("M3eiy", {name:"TableOfContents",value: "(max-width: 50em)"}, async () => {
  const [{ default: Component }, { default: hydrate }] = await Promise.all([import("../../TableOfContents.ede6c4ed.js"), import("../../client.dcc0a456.js")]);
  return (el, children) => hydrate(el)(Component, {"headers":[{"depth":2,"slug":"in-action-manual-resources","text":"In action: manual resources"},{"depth":2,"slug":"in-action-automatically-generating-resources","text":"In action: automatically generating resources"},{"depth":2,"slug":"creating","text":"Creating"},{"depth":2,"slug":"accessing-resources","text":"Accessing resources"},{"depth":2,"slug":"misc","text":"Misc."}],"class":"astro-AMOJLK4X"}, children);

});
</script>
</head>

	<body>
		<header class="astro-MOSAUK67">
	<a href="#article" class="sr-only skiplink astro-RC6GWYXJ"><span class="astro-RC6GWYXJ">Skip to Content</span></a>



	<nav class="nav-wrapper astro-MOSAUK67" title="Top Navigation">
		<div class="menu-toggle astro-MOSAUK67">
			<astro-root uid="Z12Vj7s"><button type="button" aria-pressed="false" id="menu-toggle"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg><span class="sr-only">Toggle sidebar</span></button></astro-root>
		</div>
		<div class="logo flex astro-MOSAUK67">
			<!-- <AstroLogo size={40} /> -->
			<a href="/ixfx-docs/" class="astro-MOSAUK67">
				<h1 class="astro-MOSAUK67">ixfx docs</h1>
			</a>
		</div>
		<div style="flex-grow: 1;" class="astro-MOSAUK67"></div>
		<!-- {KNOWN_LANGUAGE_CODES.length > 1 && <LanguageSelect lang={lang} client:idle />} -->
		<!-- {CONFIG.ALGOLIA && (
			<div class="search-item">
				<Search client:idle />
			</div>
		)} -->
	</nav>
</header>



		<main class="layout astro-VOYEGVQR">
			<aside id="grid-left" class="grid-sidebar astro-VOYEGVQR" title="Site Navigation">
				<nav aria-labelledby="grid-left" class="astro-TIHETVVV">
	<ul class="nav-groups astro-TIHETVVV">
		<li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV"></h2>
					<ul class="astro-TIHETVVV">
						
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">Getting Started</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/./" aria-current="false" class="astro-TIHETVVV">
									Introduction
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/./importing/" aria-current="false" class="astro-TIHETVVV">
									Importing
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">Flow and Logic</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/flow/stateMachine/" aria-current="false" class="astro-TIHETVVV">
									State Machine
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/flow/loops/" aria-current="false" class="astro-TIHETVVV">
									Loops and Intervals
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/flow/delay/" aria-current="false" class="astro-TIHETVVV">
									Delay
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/flow/retrying/" aria-current="false" class="astro-TIHETVVV">
									Retrying
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/flow/flow/" aria-current="false" class="astro-TIHETVVV">
									Flow
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/flow/monitoring/" aria-current="false" class="astro-TIHETVVV">
									Monitoring
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">Modulation</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/easing/" aria-current="false" class="astro-TIHETVVV">
									Easing
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/envelope/" aria-current="false" class="astro-TIHETVVV">
									Envelope
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/forces/" aria-current="false" class="astro-TIHETVVV">
									Forces
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/jitter/" aria-current="false" class="astro-TIHETVVV">
									Jitter
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/interpolate/" aria-current="false" class="astro-TIHETVVV">
									Interpolate
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/oscillator/" aria-current="false" class="astro-TIHETVVV">
									Oscillator
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/modulation/spring/" aria-current="false" class="astro-TIHETVVV">
									Spring
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">Generation</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/gen/random/" aria-current="false" class="astro-TIHETVVV">
									Random
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/gen/generator/" aria-current="false" class="astro-TIHETVVV">
									Generators
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">Data</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/cleanup/" aria-current="false" class="astro-TIHETVVV">
									Clean up
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/normalising/" aria-current="false" class="astro-TIHETVVV">
									Normalising
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/arrays/" aria-current="false" class="astro-TIHETVVV">
									Arrays
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/collections/" aria-current="false" class="astro-TIHETVVV">
									Collections
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/averaging/" aria-current="false" class="astro-TIHETVVV">
									Averaging
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/frequency/" aria-current="false" class="astro-TIHETVVV">
									Frequency
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/trackers/" aria-current="false" class="astro-TIHETVVV">
									Trackers
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/data/pool/" aria-current="false" class="astro-TIHETVVV">
									Pool
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">Types</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/types/geometry/" aria-current="false" class="astro-TIHETVVV">
									Geometry
								</a>
							</li><li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/types/colour/" aria-current="false" class="astro-TIHETVVV">
									Colour
								</a>
							</li>
					</ul>
				</div>
			</li><li class="astro-TIHETVVV">
				<div class="nav-group astro-TIHETVVV">
					<h2 class="nav-group-title astro-TIHETVVV">IO</h2>
					<ul class="astro-TIHETVVV">
						<li class="nav-link astro-TIHETVVV">
								<a href="/ixfx-docs/io/espruino/" aria-current="false" class="astro-TIHETVVV">
									Espruino
								</a>
							</li>
					</ul>
				</div>
			</li>
	</ul>
</nav>

<script>
	window.addEventListener('DOMContentLoaded', (event) => {
		var target = document.querySelector('[aria-current="page"]');
		if (target && target.offsetTop > window.innerHeight - 100) {
			document.querySelector('.nav-groups').scrollTop = target.offsetTop;
		}
	});
</script>



			</aside>
			<div id="grid-main" class="astro-VOYEGVQR">
				<article id="article" class="content astro-AMOJLK4X">
	<section class="main-section astro-AMOJLK4X">
		<h1 class="content-title astro-AMOJLK4X" id="overview">Pool</h1>
		<nav class="block sm:hidden astro-AMOJLK4X">
				<astro-root uid="M3eiy"><h2 class="heading">On this page</h2><ul><li class="header-link depth-2"><a href="#overview">Overview</a></li><li class="header-link depth-2"><a href="#in-action-manual-resources">In action: manual resources</a></li><li class="header-link depth-2"><a href="#in-action-automatically-generating-resources">In action: automatically generating resources</a></li><li class="header-link depth-2"><a href="#creating">Creating</a></li><li class="header-link depth-2"><a href="#accessing-resources">Accessing resources</a></li><li class="header-link depth-2"><a href="#misc">Misc.</a></li></ul></astro-root>
			</nav>
		<div class="tip">
<ul>
<li>API Reference <a href="https://clinth.github.io/ixfx/classes/Data.Pool.Pool.html">Data.Pool class</a></li>
<li>Parent <a href="https://clinth.github.io/ixfx/modules/Data.html">Data module</a></li>
</ul></div><p>The <a href="https://clinth.github.io/ixfx/classes/Data.Pool.Pool.html">Pool</a> class does the housekeeping of managing a limited set of resources which are shared by 'users'. All resources in the Pool are meant to be the same kind of object.</p><p>An example is an audio sketch driven by TensorFlow. We might want to allocate a sound oscillator per detected human body. A naive implementation would be to make an oscillator for each detected body. However, because poses appear/disappear unpredictably, it's a lot of extra work to maintain the binding between pose and oscillator.</p><p>Instead, we might use the <a href="https://clinth.github.io/ixfx/classes/Data.Pool.Pool.html">Pool</a> to allocate oscillators to poses. This will allow us to limit resources and clean up automatically if they haven't been used for a while.</p><p>Resources can be added manually with <code>addResource()</code>, or automatically by providing a <code>generate()</code> function in the Pool options. They can then be accessed via a <em>user key</em>. This is meant to associated with a single 'user' of a resource. For example, if we are associating oscillators with TensorFlow poses, the 'user key' might be the id of the pose.</p><h2 id="in-action-manual-resources">In action: manual resources</h2><p>The Pool is created, and resources added:</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Pool <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'https://unpkg.com/ixfx/dist/data.js'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pool <span class="token operator">=</span> Pool<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">capacity</span><span class="token operator">:</span> oscillators<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
  <span class="token comment">// Remove 'users' if they haven't been seen after one second</span>
  <span class="token literal-property property">userExpireAfterMs</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
  <span class="token comment">// If the capacity is reached, re-use the oscillator from the</span>
  <span class="token comment">// last-seen pose</span>
  <span class="token literal-property property">fullPolicy</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">evictOldestUser</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Add a bunch of pre-made oscillators as resources</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> osc <span class="token keyword">of</span> oscillators<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  pool<span class="token punctuation">.</span><span class="token function">addResource</span><span class="token punctuation">(</span>osc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>To access a resource value, call <code>useValue()</code> with a <em>userKey</em>. In this case, we have a function <code>onData</code> that is called when there is a set of poses to process.</p><p>What we want to do is find the oscillator previously associated with that particular pose. If there hasn't been an allocation for that pose, we want to pick a free one or reclaim an existing one. It's all that book-keeping that Pool handles for you via <code>useValue</code>.</p><pre class="language-js"><code class="language-js"><span class="token comment">// New poses come in</span>
<span class="token keyword">const</span> <span class="token function-variable function">onData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">poses</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// For each pose</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> pose <span class="token keyword">of</span> poses<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Get an oscillator for it</span>
    <span class="token keyword">const</span> osc <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token function">useValue</span><span class="token punctuation">(</span>pose<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Do something with the resource...</span>
    osc<span class="token punctuation">.</span>filterCutoff <span class="token operator">=</span> <span class="token operator">...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><h2 id="in-action-automatically-generating-resources">In action: automatically generating resources</h2><p>In this example, we will generate Pool resources on-demand. The Pool will create them (with the <code>generate()</code> function we provide) and automatically free them when they are unused.</p><p>First we create the Pool, providing <em>generate</em> and <em>free</em> functions which are responsible for creating and destroying resources. Here HTML elements are the resources being managed.</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Pool <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'https://unpkg.com/ixfx/dist/data.js'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> pool <span class="token operator">=</span> Pool<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">capacity</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token literal-property property">userExpireAfterMs</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
  <span class="token literal-property property">resourcesWithoutUserExpireAfterMs</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  <span class="token literal-property property">fullPolicy</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">evictOldestUser</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token comment">// Generate a new resource (in this example, a HTML element)</span>
  <span class="token function-variable function">generate</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">DIV</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    el<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">pool-item</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">items</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token operator">?.</span><span class="token function">append</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Whatever is returned is stored and yielded via `useValue` on-demand</span>
    <span class="token keyword">return</span> el<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token comment">/**
   * Delete the HTML element when resource is freed
   * @param {HTMLElement} el 
   */</span>
  <span class="token function-variable function">free</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Now we can use resources from the pool, for example assigning a HTML element per key down.</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">useState</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> keysDown <span class="token punctuation">}</span> <span class="token operator">=</span> state<span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">of</span> keysDown<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Allocate a HTML element for each key held down</span>
    <span class="token keyword">const</span> el <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token function">useValue</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Set the text of the element to be the key</span>
    el<span class="token punctuation">.</span>innerText <span class="token operator">=</span> key<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>This is implemented in the <a href="https://github.com/ClintH/ixfx-demos/tree/main/data/pool-key">pool-key</a> demo, below.</p><demo-element><template shadowroot="open"><style>
  :host {
    display: block;
    --black: hsl(206, 11%, 12%);
    --white: hsl(206, 11%, 82%);

    --light-accent: hsl(217, 48%, 55%);
    --light-accent-text:hsl(217, 38%, 45%);
    --light-accent-bold:hsl(217, 100%, 45%);

    --dark-accent: hsl(217, 48%, 75%);
    --dark-accent-text:hsl(217, 78%, 75%);
    --dark-accent-bold:hsl(217, 78%, 75%);

    --dark-bg: hsl(229, 20%, 20%);
    --dark-bg-dim: hsl(231, 21%, 29%);
    --dark-fg: hsl(231, 28%, 73%);
    --dark-fg-bright: hsl(231, 28%, 82%);
    --dark-fgDim: hsl(231, 12%, 50%);
  
    --dark-yellow: hsl(39, 100%, 71%);
    --dark-purple: hsl(276, 68%, 75%);
    --dark-blue: hsl(197, 100%, 77%);
    --dark-green: hsl(68, 55%, 60%);
    
    --light-bg: hsl(0, 0%, 98%);
    --light-bg-dim: hsl(194, 16%, 94%);
    --light-fg: hsl(200, 16%, 62%);
    --light-fgDim: hsl(200, 16%, 32%);
    --light-fg-bright: hsl(200, 16%, 92%);

    --light-yellow: hsl(39, 100%, 59%);
    --light-purple: hsl(256, 90%, 65%);
    --light-blue: hsl(217, 38%, 55%);
    --light-green: hsl(85, 40%, 54%);

    --yellow: red;
    --radius: 1em;
    --padding: 0.3em;
    --padding-text: 0.8em;

    --divider: red;
    --light-external-link: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4Igp3aWR0aD0iMzAiIGhlaWdodD0iMzAiCnZpZXdCb3g9IjAgMCAzMCAzMCIKc3R5bGU9IiBmaWxsOiMwMDAwMDA7Ij48cGF0aCBkPSJNIDI1Ljk4MDQ2OSAyLjk5MDIzNDQgQSAxLjAwMDEgMS4wMDAxIDAgMCAwIDI1Ljg2OTE0MSAzIEwgMjAgMyBBIDEuMDAwMSAxLjAwMDEgMCAxIDAgMjAgNSBMIDIzLjU4NTkzOCA1IEwgMTMuMjkyOTY5IDE1LjI5Mjk2OSBBIDEuMDAwMSAxLjAwMDEgMCAxIDAgMTQuNzA3MDMxIDE2LjcwNzAzMSBMIDI1IDYuNDE0MDYyNSBMIDI1IDEwIEEgMS4wMDAxIDEuMDAwMSAwIDEgMCAyNyAxMCBMIDI3IDQuMTI2OTUzMSBBIDEuMDAwMSAxLjAwMDEgMCAwIDAgMjUuOTgwNDY5IDIuOTkwMjM0NCB6IE0gNiA3IEMgNC45MDY5MzcyIDcgNCA3LjkwNjkzNzIgNCA5IEwgNCAyNCBDIDQgMjUuMDkzMDYzIDQuOTA2OTM3MiAyNiA2IDI2IEwgMjEgMjYgQyAyMi4wOTMwNjMgMjYgMjMgMjUuMDkzMDYzIDIzIDI0IEwgMjMgMTQgTCAyMyAxMS40MjE4NzUgTCAyMSAxMy40MjE4NzUgTCAyMSAxNiBMIDIxIDI0IEwgNiAyNCBMIDYgOSBMIDE0IDkgTCAxNiA5IEwgMTYuNTc4MTI1IDkgTCAxOC41NzgxMjUgNyBMIDE2IDcgTCAxNCA3IEwgNiA3IHoiPjwvcGF0aD48L3N2Zz4=') no-repeat left top;
    --dark-external-link: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4Igp3aWR0aD0iMzAiIGhlaWdodD0iMzAiCnZpZXdCb3g9IjAgMCAxNzIgMTcyIgpzdHlsZT0iIGZpbGw6IzAwMDAwMDsiPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIGZvbnQtZmFtaWx5PSJub25lIiBmb250LXdlaWdodD0ibm9uZSIgZm9udC1zaXplPSJub25lIiB0ZXh0LWFuY2hvcj0ibm9uZSIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxwYXRoIGQ9Ik0wLDE3MnYtMTcyaDE3MnYxNzJ6IiBmaWxsPSJub25lIj48L3BhdGg+PGcgZmlsbD0iI2ZmZmZmZiI+PHBhdGggZD0iTTE0OC45NTQ2OSwxNy4xNDQwMWMtMC4yMTM2NCwwLjAwNjc1IC0wLjQyNjczLDAuMDI1NDQgLTAuNjM4MjgsMC4wNTU5OWgtMzMuNjQ5NzRjLTIuMDY3NjUsLTAuMDI5MjQgLTMuOTkwODcsMS4wNTcwOSAtNS4wMzMyMiwyLjg0M2MtMS4wNDIzNiwxLjc4NTkyIC0xLjA0MjM2LDMuOTk0NzQgMCw1Ljc4MDY2YzEuMDQyMzYsMS43ODU5MiAyLjk2NTU4LDIuODcyMjUgNS4wMzMyMiwyLjg0M2gyMC41NTkzOGwtNTkuMDEzMDIsNTkuMDEzMDJjLTEuNDk3NzgsMS40MzgwMiAtMi4xMDExMywzLjU3MzQgLTEuNTc3MzUsNS41ODI2YzAuNTIzNzgsMi4wMDkyIDIuMDkyODQsMy41NzgyNiA0LjEwMjA0LDQuMTAyMDRjMi4wMDkyLDAuNTIzNzggNC4xNDQ1OCwtMC4wNzk1NyA1LjU4MjYsLTEuNTc3MzVsNTkuMDEzMDIsLTU5LjAxMzAydjIwLjU1OTM4Yy0wLjAyOTI0LDIuMDY3NjUgMS4wNTcwOSwzLjk5MDg3IDIuODQzLDUuMDMzMjJjMS43ODU5MiwxLjA0MjM2IDMuOTk0NzQsMS4wNDIzNiA1Ljc4MDY2LDBjMS43ODU5MiwtMS4wNDIzNiAyLjg3MjI1LC0yLjk2NTU4IDIuODQzLC01LjAzMzIydi0zMy42NzIxNGMwLjIzMTExLC0xLjY3MDc2IC0wLjI4NTExLC0zLjM1ODUzIC0xLjQxMTI5LC00LjYxNDE1Yy0xLjEyNjE3LC0xLjI1NTYyIC0yLjc0ODA2LC0xLjk1MTcyIC00LjQzNDAyLC0xLjkwMzA0ek0zNC40LDQwLjEzMzMzYy02LjI2Njg5LDAgLTExLjQ2NjY3LDUuMTk5NzcgLTExLjQ2NjY3LDExLjQ2NjY3djg2YzAsNi4yNjY4OSA1LjE5OTc3LDExLjQ2NjY3IDExLjQ2NjY3LDExLjQ2NjY3aDg2YzYuMjY2ODksMCAxMS40NjY2NywtNS4xOTk3NyAxMS40NjY2NywtMTEuNDY2Njd2LTU3LjMzMzMzdi0xNC43ODEyNWwtMTEuNDY2NjcsMTEuNDY2Njd2MTQuNzgxMjV2NDUuODY2NjdoLTg2di04Nmg0NS44NjY2N2gxMS40NjY2N2gzLjMxNDU4bDExLjQ2NjY3LC0xMS40NjY2N2gtMTQuNzgxMjVoLTExLjQ2NjY3eiI+PC9wYXRoPjwvZz48L2c+PC9zdmc+') no-repeat left top;
  }

  .icon {
    display: inline-block;
    padding-left: 1.4em;
    padding-right: 1.2em;
  }

  .controls {
    display: flex;
    justify-content: center;
  }

  .controls.wrappable {
    flex-wrap: wrap;
  }

  .controls .vertical {
    display: flex;
    flex-direction: column;
  }

  .controls h2 {
   
    text-align: center;
  }

  .controls label {
    display: flex;
    flex-direction: column;
    font-size: 80%;
    user-select: none;
  }

  .icon-external-link {
    background: var(--external-link);
    background-size: 1.2em;
  }

  a.icon:link {
    text-decoration: none;
  }
  a.icon:visited, a.icon:link {
    color: var(--fg);
  }

  iframe {
    border: none;
    margin: 0;
    padding: 0;
  }
  
  button, .toolbar .radios label {
    border: 0;
    padding: 0.5em 1em;
    font-size: 1rem;
    align-items: center;
    gap: 0.25em;
    border-radius: 99em;
    color: var(--fg-contrast-dim);
    background-color: var(--bg-contrast);
    transition: color 0.3s ease-out;
    cursor: pointer;
    user-select: none;
  }
  
  button:hover {
    color: var(--fg-contrast);
    transition: color 0.3s ease-in;
  }

  button[disabled], button[disabled]:hover {
    opacity: 0.6;
    background-color: var(--theme-code-inline-bg);
    cursor: default;
  }

  .toolbar {
    display: flex;
    margin: 0.5em;
    flex-wrap: wrap;
  }

  .toolbar.rightJustify {
    justify-content: flex-end;
   
  }

  .toolbar.centered {
    justify-content: center;
  }
  .toolbar.vertical {
    flex-direction: column;
    justify-content: center;
  }
  
  .toolbar input {
    min-width: 3em;
    margin-right: 1vw;
    margin-left: 1vw;
  }
  .vertical input {
    margin-left: 0;
  }
  .toolbar.mini, .toolbar.mini>button {
    font-size: 80%;
  }
  .toolbar > * {
    margin-left: var(--padding);
    margin-right: var(--padding);
  }

  .toolbar.vertical > * {
    margin-top: var(--padding);
    margin-bottom: var(--padding);
  }

  .radios input[type="radio"] {
    opacity: 0;
    position: fixed;
    width: 0;
  }

  .radios label {
    display: inline-block;
    opacity: 0.5;
    font-size: 80% !important;
    transition: all 0.3s ease-in;
  }

  .radios label:hover {
    opacity: 0.8;
    transition: opacity 0.3s ease-in;
  }
  
  .radios input[type="radio"]:checked + label {
    background-color: var(--bg-contrast);
    font-size: 100%;
    opacity: 1;
    transition: all 0.3s ease-in;
  }

  .radios input[type="radio"]:focus + label {
    border: 1px solid var(--fg);
  }
  
  .icon {
    opacity: 0.6;
    transition: opacity 0.5s ease-out;
  }
  .icon:hover {
    opacity: 1;
    transition: opacity 0.3s ease-in;
  }


  @media (prefers-color-scheme: dark) {
    :host {
      --bg-mono: var(--black);
      --bg: var(--dark-bg);
      --bg-dim: var(--dark-bg-dim);

      --divider: hsl(229, 30%, 30%);

      --accent: var(--dark-accent);
      --accent-text: var(--dark-accent-text);
      --accent-bold: var(--dark-accent-bold);

      --fg: var(--dark-fg);
      --fg-mono: var(--dark-fgDim);
      --fgDim: var(--dark-fgDim);
      --fg-bright: var(--dark-fg-bright);
      
      --purple: var(--dark-purple);
      --green: var(--dark-green);
      --blue: var(--dark-blue);

      --external-link: var(--dark-external-link);
    }
  }

  
  @media (prefers-color-scheme: light) {
    :host {
    --bg-mono: var(--white);
    --bg: var(--light-bg);
    --bg-dim: var(--light-bg-dim);
    
    --divider: hsl(193, 10%, 84%);

    --accent: var(--light-accent);
    --accent-bold: var(--light-accent-bold);
    --accent-text: var(--light-accent-text);

    --fg: var(--light-fg);
    --fg-mono: var(--light-fgDim);
    --fgDim: var(--light-fgDim);
    --fg-bright: var(--light-fg-bright);
    --purple: var(--light-purple);
    --green: var(--light-green);
    --blue: var(--light-blue);

    --bg-contrast: hsl(200, 16%, 92%);
    --fg-contrast: hsl(200, 16%, 22%);
    --fg-contrast-dim: hsl(200, 16%, 62%);

    --external-link: var(--light-external-link);
    }
  }

    :host {
      display: block;
    }
    .container {
      border: 1px solid black;
      padding: 0.5em;
      border-radius: 3px;
      background-color: var(--bg-mono);
      color: var(--fg-mono);
      display:flex;
      margin-top: 1em;
      margin-bottom: 1em;
      flex-direction: column;
      height: 100%;
      width: 100%;
    }
    .toolbar a.icon:visited, .toolbar a.icon:link {
      color: var(--fg-mono);
    }

    .toolbar {
      opacity: 0.3;
      transition: opacity 1s ease-out;
    }
    .titleBar:hover .toolbar {
      opacity: 1.0;
      transition: opacity 0.3s ease-in;
    }
    .titleBar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 0.5em;
    }

    iframe {
      flex-grow: 1;
    }
    </style><!--lit-part Hjhn8vKCdng=-->
			<div class="container">
        <div class="titleBar">
          <div><!--lit-part-->Pool key<!--/lit-part--></div>
          <div class="toolbar">
            <a class="icon icon-external-link" title="View source" target="_blank" href="https://github.com/ClintH/ixfx-demos/tree/main//data/pool-key/"><!--lit-node 5-->Source</a> 
            <a class="icon icon-external-link" title="Open demo in new window" target="_blank" href="https://clinth.github.io/ixfx-demos/data/pool-key/"><!--lit-node 6-->Open</a> 
          </div>
        </div>

        <iframe src="https://clinth.github.io/ixfx-demos/data/pool-key/"><!--lit-node 7--></iframe>
      </div>
		<!--/lit-part--></template></demo-element><h2 id="creating">Creating</h2><p>Create a Pool and provide some <a href="https://clinth.github.io/ixfx/types/Data.Pool.Opts.html">options</a></p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> pool <span class="token operator">=</span> Pool<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">capacity</span><span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Overview of options, all of which are optional.</p><table>
<thead>
<tr>
<th>option</th>
<th>info</th>
</tr>
</thead>
<tbody>
<tr>
<td>capacity</td>
<td>Maximum number of resources. Defaults to 0, no limit</td>
</tr>
<tr>
<td>capacityPerResource</td>
<td>Maximum number of users per resource. Defaults to 0, no limit</td>
</tr>
<tr>
<td>debug</td>
<td>If true, additional logging will be printed</td>
</tr>
<tr>
<td>free</td>
<td>A function that takes a single value. Call when a resource is removed from pool. Meant for cleaning up a value, where necessary.</td>
</tr>
<tr>
<td>fullPolicy</td>
<td>'error' (throws an error when pool is full) or 'evictOldestUser', removing oldest user of a resource. Defaults to 'error'</td>
</tr>
<tr>
<td>generate</td>
<td>A function that returns a value. Used for generating resources on demand</td>
</tr>
<tr>
<td>resourcesWithout UsersExpireAfterMs</td>
<td>If provided, an unused resource will be removed after this period</td>
</tr>
<tr>
<td>userExpireAfterMs</td>
<td>If provided, a user will be marked as expired if it hasn't been updated</td>
</tr>
</tbody>
</table><h2 id="accessing-resources">Accessing resources</h2><p>A resource can be accessed by a <em>user key</em>, returning a <a href="https://clinth.github.io/ixfx/classes/Data.Pool.PoolUser.html">PoolUser</a> instance.</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> u <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre><p>As described earlier, the user key is some unique reference for 'owner' of that pool resource. The idea is that if the same logical owner accesses the resource again, it always is using the same key. As far as the Pool is concerned, a different key means a different user, thus allocating a different resource.</p><p><code>useValue(key)</code> returns the resource value rather than the <code>PoolUser</code> instance, if that's all you care about.</p><p>When using resources managed by the Pool, it is important that all access to them happens via the Pool. Don't cache references to resources, always access them via <code>use()</code> or <code>useValue()</code>.</p><p>The <a href="https://clinth.github.io/ixfx/classes/Data.Pool.PoolUser.html">PoolUser</a> instance returned by <code>use()</code> has a <em>disposed</em> event handler. This allows you to be notified if you have lost ownership of a resource. It is also called if the resource itself has been cleaned up.</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> u <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
u<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">disposed</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token parameter">evt</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> reason <span class="token punctuation">}</span> <span class="token operator">=</span> evt<span class="token punctuation">;</span>
  <span class="token comment">// 'reason' is a string describing why it was disposed</span>
  <span class="token comment">// 'data' is the data of the resource</span>
  <span class="token comment">// You might do some clean up</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Resources can be manually released:</p><pre class="language-js"><code class="language-js">pool<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span>userKey<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>When releasing, the resource is freed for user under a different key. If there are no more users of a resource and the Pool option <code>resourcesWithoutUsersExpireAfterMs</code> is set, the resource will be freed.</p><h2 id="misc">Misc.</h2><pre class="language-js"><code class="language-js"><span class="token comment">// Returns true if this resouce is in the pool</span>
pool<span class="token punctuation">.</span><span class="token function">hasResource</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// Returns true if `userKey` is a user of some resource</span>
pool<span class="token punctuation">.</span><span class="token function">hasUser</span><span class="token punctuation">(</span>userKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Iterate over all Resource instances in the pool</span>
pool<span class="token punctuation">.</span><span class="token function">resources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Iterate over all values (ie something originally added to the pool)</span>
pool<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
	</section>
	<nav class="block sm:hidden astro-AMOJLK4X">
		
<ul class="astro-WOEIVG5E">
</ul>
<div style="margin: 2rem 0; text-align: center;" class="astro-WOEIVG5E">
	<astro-root uid="1Gmxo9"><div class="theme-toggle"><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fillRule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clipRule="evenodd"></path></svg><input type="radio" name="theme-toggle" value="light" title="Use light theme" aria-label="Use light theme" /></label><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg><input type="radio" name="theme-toggle" value="dark" title="Use dark theme" aria-label="Use dark theme" /></label></div></astro-root>
</div>



	</nav>
</article>



			</div>
			<aside id="grid-right" class="grid-sidebar astro-VOYEGVQR" title="Table of Contents">
				<nav class="sidebar-nav astro-XPZS3NBI" aria-labelledby="grid-right">
	<div class="sidebar-nav-inner astro-XPZS3NBI">
		<astro-root uid="M3eiy"><h2 class="heading">On this page</h2><ul><li class="header-link depth-2"><a href="#overview">Overview</a></li><li class="header-link depth-2"><a href="#in-action-manual-resources">In action: manual resources</a></li><li class="header-link depth-2"><a href="#in-action-automatically-generating-resources">In action: automatically generating resources</a></li><li class="header-link depth-2"><a href="#creating">Creating</a></li><li class="header-link depth-2"><a href="#accessing-resources">Accessing resources</a></li><li class="header-link depth-2"><a href="#misc">Misc.</a></li></ul></astro-root>
		
<ul class="astro-WOEIVG5E">
</ul>
<div style="margin: 2rem 0; text-align: center;" class="astro-WOEIVG5E">
	<astro-root uid="1Gmxo9"><div class="theme-toggle"><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fillRule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clipRule="evenodd"></path></svg><input type="radio" name="theme-toggle" value="light" title="Use light theme" aria-label="Use light theme" /></label><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg><input type="radio" name="theme-toggle" value="dark" title="Use dark theme" aria-label="Use dark theme" /></label></div></astro-root>
</div>



	</div>
</nav>



			</aside>
		</main>
	</body>
</html>
