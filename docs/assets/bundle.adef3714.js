import"./chunk-URTBDQYG.939553de.js";import{s as G}from"./chunk-ZTVWXQ34.a8bb2adc.js";import{n as f,S as V}from"./chunk-G4S3XAFG.00fb0b2a.js";import{_ as v,a as _,c as q,d as o}from"./chunk-EGNKYH6P.1933f072.js";import{m as $}from"./chunk-HF2GNML5.47466bb1.js";import"./chunk-DIQ6ZWAQ.94b98cf2.js";import"./chunk-MQKU5S5M.fc8875ae.js";import{a as j}from"./chunk-IARP4YHS.d362b978.js";var B={};v(B,{interval:()=>O,numericRange:()=>d,numericRangeRaw:()=>Q,pingPong:()=>A,pingPongPercent:()=>K,rangePercent:()=>F});var K=function(e=.1,r=0,t=1,a=0,n=1e3){return f(e,"bipolar","interval"),f(t,"bipolar","end"),f(a,"bipolar","offset"),f(r,"bipolar","start"),A(e,r,t,a,n)},A=function*(e,r,t,a,n=1){if(Number.isNaN(e))throw new Error("interval parameter is NaN");if(Number.isNaN(r))throw new Error("lower parameter is NaN");if(Number.isNaN(t))throw new Error("upper parameter is NaN");if(Number.isNaN(a))throw new Error("upper parameter is NaN");if(r>=t)throw new Error("lower must be less than upper");if(e===0)throw new Error("Interval cannot be zero");const c=t-r;if(Math.abs(e)>=c)throw new Error(`Interval should be between -${c} and ${c}`);let i=e>0;if(t=Math.floor(t*n),r=Math.floor(r*n),e=Math.floor(Math.abs(e*n)),a===void 0?a=r:a=Math.floor(a*n),a>t||a<r)throw new Error("Offset must be within lower and upper");let s=a;yield s/n;let h=!0;for(;;)s=s+(i?e:-e),i&&s>=t?(i=!1,s=t,s===t&&h&&(s=r,i=!0)):!i&&s<=r&&(i=!0,s=r,s===r&&h&&(s=t,i=!1)),yield s/n,h=!1},O=async function*(e,r){let t=!1;try{for(;!t;){if(await G(r),t)return;yield await e()}}finally{t=!0}},Q=function*(e,r=0,t,a=!1){if(e<=0)throw new Error("Interval is expected to be above zero");t===void 0&&(t=Number.MAX_SAFE_INTEGER);let n=r;do for(;n<t;)yield n,n+=e;while(a)},d=function*(e,r=0,t,a=!1,n){f(e,"nonZero");const c=e<0;if(t!==void 0){if(c&&r<t)throw new Error(`Interval of ${e} will never go from ${r} to ${t}`);if(!c&&r>t)throw new Error(`Interval of ${e} will never go from ${r} to ${t}`)}n=n??1e3,t===void 0?t=Number.MAX_SAFE_INTEGER:t*=n,e=e*n;do{let i=r*n;for(;!c&&i<=t||c&&i>=t;)yield i/n,i+=e}while(a)},F=function(e=.01,r=!1,t=0,a=1){return f(e,"percentage","interval"),f(t,"percentage","start"),f(a,"percentage","end"),d(e,t,a,r)},T={};v(T,{weighted:()=>W});var W=(e,r)=>Math.round(r/(Math.random()*r+e)),R={};v(R,{byValueString:()=>I,getSorter:()=>P,minMaxAvg:()=>z,sortByKey:()=>b,sortByValueNumber:()=>k,sortByValueString:()=>Z});function y(e,r,t,a,n,c,i,s,h){switch(arguments.length){case 1:return e;case 2:return r(e);case 3:return t(r(e));case 4:return a(t(r(e)));case 5:return n(a(t(r(e))));case 6:return c(n(a(t(r(e)))));case 7:return i(c(n(a(t(r(e))))));case 8:return s(i(c(n(a(t(r(e)))))));case 9:return h(s(i(c(n(a(t(r(e))))))));default:for(var p=arguments[0],w=1;w<arguments.length;w++)p=arguments[w](p);return p}}var X=function(e){return function(r,t){return r===t||e(r,t)===0}},S=function(e){return{equals:X(e),compare:function(r,t){return r===t?0:e(r,t)}}},g=function(e){return S(function(r,t){return e.compare(t,r)})},N=function(e){return function(r){return S(function(t,a){return r.compare(e(t),e(a))})}},x={equals:function(e,r){return e===r}},E={equals:x.equals,compare:function(e,r){return e<r?-1:e>r?1:0}};x.equals,E.compare;var D=function(e){return e.slice()},M=function(e){return function(r){return r.length<=1?D(r):r.slice().sort(e.compare)}},H={equals:function(e,r){return e===r}},m={equals:H.equals,compare:function(e,r){return e<r?-1:e>r?1:0}},U=(e=!1)=>y(e?g(m):m,N(r=>r[0])),I=(e=!1)=>y(e?g(m):m,N(r=>r[1])),Y=(e=!1)=>y(e?g(E):E,N(r=>r[1])),b=(e=!1)=>M(U(e)),Z=(e=!1)=>M(I(e)),k=(e=!1)=>M(Y(e)),P=e=>{switch(e){case"value":return k(!1);case"valueReverse":return k(!0);case"key":return b(!1);case"keyReverse":return b(!0);default:throw new Error(`Unknown sorting value '${e}'. Expecting: value, valueReverse, key or keyReverse`)}},z=(e,r)=>{r===void 0&&(r=a=>a[1]);const t=e.map(r);return $(t)},C={};v(C,{StateMachine:()=>j});var u,l,L=class extends V{constructor(e=void 0){super();_(this,u,void 0),_(this,l,void 0),q(this,u,new Map),e===void 0&&(e=r=>{if(r===void 0)throw new Error("Cannot create key for undefined");return typeof r=="string"?r:JSON.stringify(r)}),q(this,l,e)}clear(){o(this,u).clear(),this.fireEvent("change",void 0)}keys(){return o(this,u).keys()}values(){return o(this,u).values()}toArray(){return Array.from(o(this,u).entries())}frequencyOf(e){if(typeof e=="string")return o(this,u).get(e);const r=o(this,l).call(this,e);return o(this,u).get(r)}relativeFrequencyOf(e){if(typeof e=="string")return o(this,u).get(e);const r=o(this,l).call(this,e),t=o(this,u).get(r);if(t===void 0)return;const a=this.minMaxAvg();return t/a.total}entries(){return Array.from(o(this,u).entries())}minMaxAvg(){return R.minMaxAvg(this.entries())}entriesSorted(e="value"){return P(e)(this.entries())}add(...e){if(e===void 0)throw new Error("value parameter is undefined");e.map(o(this,l)).forEach(t=>{const a=o(this,u).get(t)??0;o(this,u).set(t,a+1)}),this.fireEvent("change",void 0)}};u=new WeakMap;l=new WeakMap;var oe=e=>new L(e);export{R as K,T as R,oe as f,P as g};
