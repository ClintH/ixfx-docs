import{m as _,e as q,g as x,r as j,j as T}from"./chunk-57USKCMY.339b34ad.js";import{_ as m,a as A,c as I,d as u}from"./chunk-YDTVC7MM.cb3895f8.js";import{S as C,n as c,i as $}from"./chunk-E6FEPMVF.c62dcddf.js";import{g as U}from"./chunk-HEUMPV43.90b57ae6.js";var k={};m(k,{byValueString:()=>V,getSorter:()=>P,minMaxAvg:()=>J,sortByKey:()=>M,sortByValueNumber:()=>b,sortByValueString:()=>H});function w(e,r,t,n,a,o,i,s,h){switch(arguments.length){case 1:return e;case 2:return r(e);case 3:return t(r(e));case 4:return n(t(r(e)));case 5:return a(n(t(r(e))));case 6:return o(a(n(t(r(e)))));case 7:return i(o(a(n(t(r(e))))));case 8:return s(i(o(a(n(t(r(e)))))));case 9:return h(s(i(o(a(n(t(r(e))))))));default:for(var y=arguments[0],p=1;p<arguments.length;p++)y=arguments[p](y);return y}}var X=function(e){return function(r,t){return r===t||e(r,t)===0}},R=function(e){return{equals:X(e),compare:function(r,t){return r===t?0:e(r,t)}}},g=function(e){return R(function(r,t){return e.compare(t,r)})},E=function(e){return function(r){return R(function(t,n){return r.compare(e(t),e(n))})}},S={equals:function(e,r){return e===r}},N={equals:S.equals,compare:function(e,r){return e<r?-1:e>r?1:0}};S.equals,N.compare;var z=function(e){return e.slice()},d=function(e){return function(r){return r.length<=1?z(r):r.slice().sort(e.compare)}},D={equals:function(e,r){return e===r}},v={equals:D.equals,compare:function(e,r){return e<r?-1:e>r?1:0}},W=(e=!1)=>w(e?g(v):v,E(r=>r[0])),V=(e=!1)=>w(e?g(v):v,E(r=>r[1])),Y=(e=!1)=>w(e?g(N):N,E(r=>r[1])),M=(e=!1)=>d(W(e)),H=(e=!1)=>d(V(e)),b=(e=!1)=>d(Y(e)),P=e=>{switch(e){case"value":return b(!1);case"valueReverse":return b(!0);case"key":return M(!1);case"keyReverse":return M(!0);default:throw new Error(`Unknown sorting value '${e}'. Expecting: value, valueReverse, key or keyReverse`)}},J=(e,r)=>{r===void 0&&(r=n=>n[1]);const t=e.map(r);return _(t)},L={};m(L,{FrequencyMutable:()=>G,Normalise:()=>F,frequencyMutable:()=>O});var F={};m(F,{array:()=>Q,stream:()=>Z});var Z=(e,r)=>{let t=e??Number.MAX_SAFE_INTEGER,n=r??Number.MIN_SAFE_INTEGER;return a=>(t=Math.min(t,a),n=Math.max(n,a),q(a,t,n))},Q=(e,r,t)=>{if(!Array.isArray(e))throw new Error("values param should be an array");const n=_(e),a=r??n.min,o=t??n.max;return e.map(i=>x(q(i,a,o)))},f,l,G=class extends C{constructor(e=void 0){super();A(this,f,void 0),A(this,l,void 0),I(this,f,new Map),e===void 0&&(e=r=>{if(r===void 0)throw new Error("Cannot create key for undefined");return typeof r=="string"?r:JSON.stringify(r)}),I(this,l,e)}clear(){u(this,f).clear(),this.fireEvent("change",void 0)}keys(){return u(this,f).keys()}values(){return u(this,f).values()}toArray(){return Array.from(u(this,f).entries())}frequencyOf(e){if(typeof e=="string")return u(this,f).get(e);const r=u(this,l).call(this,e);return u(this,f).get(r)}relativeFrequencyOf(e){if(typeof e=="string")return u(this,f).get(e);const r=u(this,l).call(this,e),t=u(this,f).get(r);if(t===void 0)return;const n=this.minMaxAvg();return t/n.total}entries(){return Array.from(u(this,f).entries())}minMaxAvg(){return k.minMaxAvg(this.entries())}entriesSorted(e="value"){return P(e)(this.entries())}add(...e){if(e===void 0)throw new Error("value parameter is undefined");e.map(u(this,l)).forEach(t=>{const n=u(this,f).get(t)??0;u(this,f).set(t,n+1)}),this.fireEvent("change",void 0)}};f=new WeakMap;l=new WeakMap;var O=e=>new G(e),ee={};m(ee,{count:()=>ae,forEach:()=>ne,numericRange:()=>K,numericRangeRaw:()=>te,pingPong:()=>B,pingPongPercent:()=>re,rangePercent:()=>oe});var re=function(e=.1,r,t,n,a=1e3){return r===void 0&&(r=0),t===void 0&&(t=1),n===void 0&&(n=r),c(e,"bipolar","interval"),c(t,"bipolar","end"),c(n,"bipolar","offset"),c(r,"bipolar","start"),B(e,r,t,n,a)},B=function*(e,r,t,n,a=1){if(Number.isNaN(e))throw new Error("interval parameter is NaN");if(Number.isNaN(r))throw new Error("lower parameter is NaN");if(Number.isNaN(t))throw new Error("upper parameter is NaN");if(Number.isNaN(n))throw new Error("upper parameter is NaN");if(r>=t)throw new Error("lower must be less than upper");if(e===0)throw new Error("Interval cannot be zero");const o=t-r;if(Math.abs(e)>=o)throw new Error(`Interval should be between -${o} and ${o}`);let i=e>0;if(t=Math.floor(t*a),r=Math.floor(r*a),e=Math.floor(Math.abs(e*a)),n===void 0?n=r:n=Math.floor(n*a),n>t||n<r)throw new Error(`Start (${n/a}) must be within lower (${r/a}) and upper (${t/a})`);let s=n;yield s/a;let h=!0;for(;;)s=s+(i?e:-e),i&&s>=t?(i=!1,s=t,s===t&&h&&(s=r,i=!0)):!i&&s<=r&&(i=!0,s=r,s===r&&h&&(s=t,i=!1)),yield s/a,h=!1},te=function*(e,r=0,t,n=!1){if(e<=0)throw new Error("Interval is expected to be above zero");t===void 0&&(t=Number.MAX_SAFE_INTEGER);let a=r;do for(;a<t;)yield a,a+=e;while(n)},ne=(e,r)=>{for(const t of e){const n=r(t);if(typeof n=="boolean"&&!n)break}},K=function*(e,r=0,t,n=!1,a){c(e,"nonZero");const o=e<0;if(t!==void 0){if(o&&r<t)throw new Error(`Interval of ${e} will never go from ${r} to ${t}`);if(!o&&r>t)throw new Error(`Interval of ${e} will never go from ${r} to ${t}`)}a=a??1e3,t===void 0?t=Number.MAX_SAFE_INTEGER:t*=a,e=e*a;do{let i=r*a;for(;!o&&i<=t||o&&i>=t;)yield i/a,i+=e}while(n)},ae=function*(e,r=0){if($(e,"","amount"),$(r,"","offset"),e===0)return;let t=0;do e<0?yield-t+r:yield t+r;while(t++<Math.abs(e)-1)},oe=function(e=.01,r=!1,t=0,n=1){return c(e,"percentage","interval"),c(t,"percentage","start"),c(n,"percentage","end"),K(e,t,n,r)},ie={};m(ie,{arrayElement:()=>j,arrayIndex:()=>T,weighted2:()=>se,weightedInteger:()=>ue});var se=(e,r)=>{const t=Math.random()*r,n=Math.round(r/t);return n>r&&console.log(`r: ${t} x: ${n} min: ${e} max: ${r}`),n},ue=(e,r,t)=>{c(e);let n,a,o;if(o="quadIn",n=0,r===void 0)a=e;else if(typeof r=="number")n=e,a=r,t!==void 0&&(o=t);else if(typeof r=="string")a=e,o=r;else throw new Error(`Unexpected value type for maxOrEasing: ${r}`);t!==void 0&&(o=t);const i=U(o);if(i===void 0)throw new Error(`Easing '${o}' not found`);if(c(n),a<=n)throw new Error("Max should be greater than min");const s=x(i(Math.random()));return Math.floor(s*(a-n))+n};export{ee as G,k as K,ie as R,O as f,P as g};
