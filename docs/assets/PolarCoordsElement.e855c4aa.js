var k=Object.defineProperty;var P=(n,e,t)=>e in n?k(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var g=(n,e,t)=>(P(n,typeof e!="symbol"?e+"":e,t),t);import{s as _,r as C,$ as M,e as d}from"./vendor.aa1ac2c8.js";import{P as $,L as y,y as j,x as D,n as O}from"./chunk-5JM3IB7G.99fc65d7.js";import"./chunk-HCHJFXUB.cd82ab14.js";import"./chunk-DIQ6ZWAQ.94b98cf2.js";import{t as R}from"./chunk-EGNKYH6P.1933f072.js";import{P as A,s as f,b as B}from"./chunk-DBBTHACN.e5311635.js";import"./chunk-AGSKCOEP.dcc7b64e.js";import{e as E}from"./styles.07fc92cf.js";var H=Object.defineProperty,I=Object.getOwnPropertyDescriptor,p=(n,e,t,r)=>{for(var s=r>1?void 0:r?I(e,t):e,i=n.length-1,o;i>=0;i--)(o=n[i])&&(s=(r?o(e,t,s):o(s))||s);return r&&s&&H(e,t,s),s};const L="polar-coords-element";class l extends _{constructor(){super();g(this,"palette");this.palette=A.create(),this.palette.setElementBase(this),this.width=500,this.height=300,R().subscribe(e=>{console.log("theme change"),this.updated()})}setDegrees(e){this.degree=e,this.radian=void 0}setRadians(e){this.degree=void 0,this.radian=e}getBounds(){const e=f(this.shadowRoot.querySelector("svg"));return{width:e.width,height:e.height}}renderSvg(){const e="black",t=f(this.shadowRoot.querySelector("svg"),{fillStyle:"transparent",strokeWidth:3});t.clear();const r=t.width,s=t.height,i=Math.min(r/2,s/2),o={x:r/2,y:s/2};B.grid(t.parent,o,25,r,s);const c=25;t.circle({radius:3,...o},{fillStyle:e,strokeStyle:"none"}),t.text("Origin",$.sum(o,2,c),{fillStyle:e,strokeStyle:"none"});const a={id:"triangle",fillStyle:e},h=y.fromNumbers(o.x,o.y,o.x+i-10,o.y);t.line(h,{fillStyle:"none",markerEnd:a,strokeStyle:e}),t.text("A",{x:o.x+i-35,y:o.y+20},{strokeStyle:"none",fillStyle:e})}async updated(){this.renderSvg()}_pointerMove(e){const t=this.palette.get("accent-bold","yellow"),r=this.palette.get("fg-dim","yellow"),s=f(this.shadowRoot.querySelector("svg")),i=s.width,o=s.height,c={x:i/2,y:o/2},a={x:e.offsetX,y:e.offsetY},h=y.fromPoints(c,a);s.line(h,{strokeDash:"5",strokeStyle:t},"#pointerRay");const m=y.length(h);s.circle({radius:5,...a},{fillStyle:t,strokeStyle:"none"},"#targetCircle");const u=j.fromCartesian(a,c),v=D(u.angleRadian),x=Math.PI*2-u.angleRadian;let S={endRadian:x,startRadian:0,radius:Math.min(100,m),...c},w={sweep:!0,largeArc:!(x>Math.PI)};Math.round(v)!==0&&s.path(O.toSvg(S,w),{strokeStyle:r},"#arc");const b={strokeStyle:"transparent",fillStyle:t,anchor:"middle"};s.text(`(${Math.round(m)}, ${Math.floor(v)}\xB0)`,{x:a.x,y:a.y+40},b,"#coordLabel")}render(){return M`
			<div id="container">
        <svg @pointermove="${this._pointerMove}" style="font-size: 1em" viewBox="0 0 ${this.width} ${this.height}" width=${this.width} height=${this.height}></svg>
			</div>
		`}}g(l,"styles",[E,C`
      :host {
        color: var(--label-color, green);
      }
      #container {
        display: flex;
        align-items: center;
        flex-direction: column;
      }
  `]);p([d()],l.prototype,"radian",2);p([d()],l.prototype,"degree",2);p([d()],l.prototype,"width",2);p([d()],l.prototype,"height",2);customElements.define(L,l);export{l as PolarCoordsElement,L as tagName};
