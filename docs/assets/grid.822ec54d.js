import"./chunk-ROEMWE5T.e49dfda3.js";import{G as o,r as w,m as x}from"./chunk-KSSJG6KL.5f1120f1.js";import{a as g,F as u}from"./chunk-L7NPGFXB.5d5b7d6e.js";import{b as E,P as O}from"./chunk-47IJX5B3.5d65081c.js";const v=g("#offsetsGrid");v.selectedCell={x:0,y:0};const m=()=>{const t=v.getGrid(),e=L.value,s=v.selectedCell,d=o.offsetCardinals(t,s,e,P.value);v.cellRenderer=(n,i,r)=>{const l=Object.entries(d).find(b=>o.cellEquals(b[1],n));if(l===void 0)return!1;l[0]==="s"&&console.log(l[0]+" "+JSON.stringify(l[1])),r.fillStyle=O.getCssVariable("theme-bg-hover","yellow"),r.fillStyle="white",r.textBaseline="top";const c=l[0].startsWith("n")?20:5;return r.fillText(l[0],i.x+5,i.y+c),!0}};v.addEventListener("cellPointerMove",t=>{const e=t.detail;e!==void 0&&(v.selectedCell=e,m())});const L=u.numeric("#rangeOffsetsDistance",m),P=u.select("#selOffsetsWrap",m);m();const h=g("#dataGrid"),T=g("#dataGridRead"),p=new Map,V=E.randomPalette();u.button("#btnDataRandom",()=>G());h.cellRenderer=(t,e,s)=>{const d=p.get(o.cellKeyString(t));if(d===void 0)return;const[n,i,r]=d.colour;return s.fillStyle=`rgba(${n}, ${i}, ${r}, ${d.funk})`,s.fillRect(e.x,e.y,e.width,e.height),!0};h.addEventListener("cellPointerMove",t=>{const e=t.detail;if(e===void 0)return;const s=p.get(o.cellKeyString(e));T.innerText=`Cell ${e.x}, ${e.y} has data ${JSON.stringify(s)}`});const G=()=>{const t=h.getGrid(),e=()=>w(V).rgb;for(let s of o.cells(t))p.set(o.cellKeyString(s),{colour:e(),funk:Math.random()});h.draw()};G();const f=g("#visGrid");let a={x:0,y:0};f.addEventListener("change",t=>{});f.addEventListener("cellPointerUp",t=>{a=t.detail,R(),setTimeout(()=>k(),100)});let S=!1;const k=()=>{const t=100,e=u.select("#selVisTechnique"),s=f.getGrid(),d=x(l=>o.cellKeyString(l)),n={visited:d};let i;switch(e.value){case"Depth":i=o.visitorDepth(s,a,n);break;case"Breadth":i=o.visitorBreadth(s,a,n);break;case"Row":i=o.visitorRow(s,a,n);break;case"Column":i=o.visitorColumn(s,a,n);break;case"Random Contiguous":i=o.visitorRandomContiguous(s,a,n);break;default:i=o.visitorRandom(s,a,n)}y.disabled=!0,C.disabled=!1,S=!1,f.cellRenderer=(l,c,b)=>d.has(l)?(b.fillStyle="pink",b.fillRect(c.x,c.y,c.width,c.height),!0):!1;const r=()=>{if(S)return;const l=i.next(),c=l.value;if(l.done){console.log("Visitor done"),f.selectedCell=a,y.disabled=!1,C.disabled=!0;return}f.selectedCell=c,setTimeout(r,t)};setTimeout(r,t)},R=()=>{S=!0,f.selectedCell=a,y.disabled=!1,C.disabled=!0},y=u.button("#btnVisStart",k),C=u.button("#btnVisStop",R);
