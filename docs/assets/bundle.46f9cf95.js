import{s as S}from"./chunk-EZEZXIPN.e33bee28.js";import{_ as y,b as M,d as k,e as s}from"./chunk-X3ZGK7G7.0ec20d2d.js";import{m as O}from"./chunk-OW53XONI.6c7bafde.js";import"./chunk-FM2K2PHF.079c4314.js";import"./chunk-6TOA6ITG.8d1de678.js";import"./chunk-776RPVJQ.ce76deb3.js";import{S as P}from"./chunk-HCHJFXUB.99dbbc1f.js";var V={};y(V,{interval:()=>j,numericRange:()=>G,numericRangeRaw:()=>B,pingPong:()=>_,pingPongPercent:()=>K});var j=async function*(e,r){let t=!1;try{for(;!t;){if(await S(r),t)return;yield await e()}}finally{t=!0}},B=function*(e,r=0,t,n=!1){if(e<=0)throw new Error("Interval is expected to be above zero");t===void 0&&(t=Number.MAX_SAFE_INTEGER);let a=r;do for(;a<t;)yield a,a+=e;while(n)},G=function*(e,r=0,t,n=!1,a){if(e<=0)throw Error("Interval is expected to be above zero");a=a??1e3,t===void 0?t=Number.MAX_SAFE_INTEGER:t*=a,e=e*a;do{let o=r*a;for(;o<=t;)yield o/a,o+=e}while(n)},K=function(e=.1,r,t=1e3){if(r===void 0&&e>0?r=0:r===void 0&&e<0?r=1:r=r,r>1||r<0)throw new Error("offset must be between 0 and 1");return _(e,0,1,r,t)},_=function*(e,r,t,n,a=1){if(Number.isNaN(e))throw new Error("interval parameter is NaN");if(Number.isNaN(r))throw new Error("lower parameter is NaN");if(Number.isNaN(t))throw new Error("upper parameter is NaN");if(Number.isNaN(n))throw new Error("upper parameter is NaN");if(r>=t)throw new Error("lower must be less than upper");if(e===0)throw new Error("Interval cannot be zero");const o=t-r;if(Math.abs(e)>=o)throw new Error(`Interval should be between -${o} and ${o}`);let c=e>0;if(t=Math.floor(t*a),r=Math.floor(r*a),e=Math.floor(Math.abs(e*a)),n===void 0?n=r:n=Math.floor(n*a),n>t||n<r)throw new Error("Offset must be within lower and upper");let i=n;yield i/a;let h=!0;for(;;)i=i+(c?e:-e),c&&i>=t?(c=!1,i=t,i===t&&h&&(i=r,c=!0)):!c&&i<=r&&(c=!0,i=r,i===r&&h&&(i=t,c=!1)),yield i/a,h=!1},X={};y(X,{weighted:()=>F});var F=(e,r)=>Math.round(r/(Math.random()*r+e)),q={};y(q,{byValueString:()=>x,getSorter:()=>I,minMaxAvg:()=>Z,sortByKey:()=>d,sortByValueNumber:()=>b,sortByValueString:()=>W});function p(e,r,t,n,a,o,c,i,h){switch(arguments.length){case 1:return e;case 2:return r(e);case 3:return t(r(e));case 4:return n(t(r(e)));case 5:return a(n(t(r(e))));case 6:return o(a(n(t(r(e)))));case 7:return c(o(a(n(t(r(e))))));case 8:return i(c(o(a(n(t(r(e)))))));case 9:return h(i(c(o(a(n(t(r(e))))))));default:for(var f=arguments[0],m=1;m<arguments.length;m++)f=arguments[m](f);return f}}var T=function(e){return function(r,t){return r===t||e(r,t)===0}},A=function(e){return{equals:T(e),compare:function(r,t){return r===t?0:e(r,t)}}},w=function(e){return A(function(r,t){return e.compare(t,r)})},g=function(e){return function(r){return A(function(t,n){return r.compare(e(t),e(n))})}},R={equals:function(e,r){return e===r}},E={equals:R.equals,compare:function(e,r){return e<r?-1:e>r?1:0}};R.equals,E.compare;var z=function(e){return e.slice()},N=function(e){return function(r){return r.length<=1?z(r):r.slice().sort(e.compare)}},C={equals:function(e,r){return e===r}},v={equals:C.equals,compare:function(e,r){return e<r?-1:e>r?1:0}},H=(e=!1)=>p(e?w(v):v,g(r=>r[0])),x=(e=!1)=>p(e?w(v):v,g(r=>r[1])),J=(e=!1)=>p(e?w(E):E,g(r=>r[1])),d=(e=!1)=>N(H(e)),W=(e=!1)=>N(x(e)),b=(e=!1)=>N(J(e)),I=e=>{switch(e){case"value":return b(!1);case"valueReverse":return b(!0);case"key":return d(!1);case"keyReverse":return d(!0);default:throw new Error(`Unknown sorting value '${e}'. Expecting: value, valueReverse, key or keyReverse`)}},Z=(e,r)=>{r===void 0&&(r=n=>n[1]);const t=e.map(r);return O(t)},u,l,$=class extends P{constructor(e=void 0){super();M(this,u,void 0),M(this,l,void 0),k(this,u,new Map),e===void 0&&(e=r=>{if(r===void 0)throw new Error("Cannot create key for undefined");return typeof r=="string"?r:JSON.stringify(r)}),k(this,l,e)}clear(){s(this,u).clear(),this.fireEvent("change",void 0)}keys(){return s(this,u).keys()}values(){return s(this,u).values()}toArray(){return Array.from(s(this,u).entries())}frequencyOf(e){if(typeof e=="string")return s(this,u).get(e);const r=s(this,l).call(this,e);return s(this,u).get(r)}relativeFrequencyOf(e){if(typeof e=="string")return s(this,u).get(e);const r=s(this,l).call(this,e),t=s(this,u).get(r);if(t===void 0)return;const n=this.minMaxAvg();return t/n.total}entries(){return Array.from(s(this,u).entries())}minMaxAvg(){return q.minMaxAvg(this.entries())}entriesSorted(e="value"){return I(e)(this.entries())}add(...e){if(e===void 0)throw new Error("value parameter is undefined");e.map(s(this,l)).forEach(t=>{const n=s(this,u).get(t)??0;s(this,u).set(t,n+1)}),this.fireEvent("change",void 0)}};u=new WeakMap;l=new WeakMap;var te=e=>new $(e);export{q as K,X as R,te as f,I as g};
