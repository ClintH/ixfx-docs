var M=Object.defineProperty;var w=(o,e,r)=>e in o?M(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var y=(o,e,r)=>(w(o,typeof e!="symbol"?e+"":e,r),r);import{s as P,r as k,$ as j,e as C}from"./vendor.ace659e5.js";import{L as f,C as b,r as R}from"./chunk-GLOC4ABQ.1540f006.js";import"./chunk-57USKCMY.8e2e6641.js";import"./chunk-E6FEPMVF.c62dcddf.js";import"./chunk-C2GSEUUB.5e1d8426.js";import{t as _}from"./chunk-6RSYJ7PX.b9b486b6.js";import{a as D,S}from"./chunk-4QHRIV2D.a888d38b.js";import"./chunk-VAHXRYL4.7bd99bcd.js";import{e as $}from"./styles.210b3806.js";import"./chunk-YDTVC7MM.cb3895f8.js";var I=Object.defineProperty,L=Object.getOwnPropertyDescriptor,v=(o,e,r,n)=>{for(var i=n>1?void 0:n?L(e,r):e,l=o.length-1,h;l>=0;l--)(h=o[l])&&(i=(n?h(e,r,i):h(i))||i);return n&&i&&I(e,r,i),i};const E="angles-element";class g extends P{constructor(){super();y(this,"palette");y(this,"lastCircle");this.palette=D.create(),this.palette.setElementBase(this),this.width=400,this.height=400,_().subscribe(e=>{this.updated()})}setDegrees(e){this.degree=e,this.radian=void 0}setRadians(e){this.degree=void 0,this.radian=e}getBounds(){const e=S.makeHelper(this.shadowRoot.querySelector("svg"));return{width:e.width,height:e.height}}renderSvg(){const e=S.makeHelper(this.shadowRoot.querySelector("svg"),{fillStyle:"transparent",strokeStyle:"red",strokeWidth:3});e.clear();const r=e.width,n=e.height;let i=e.height*.3,l={x:r/2,y:n/2};const h={strokeStyle:this.palette.get("axis-color","orange")},a={strokeStyle:"transparent",fillStyle:this.palette.get("fgDim","orange"),anchor:"middle",align:"hanging"};let p={radius:i,...l};this.lastCircle=p,e.circle(p,h);const u={...p,radius:i+20},c=(t,s,d=a)=>{s===void 0&&(s=t.toString());const m=b.point(u,t);e.text(s,{x:m.x,y:m.y},d)};c(0,"0",{...a,anchor:"start",align:"middle"}),c(Math.PI,"Math.PI",{...a,align:"middle",anchor:"end"}),c(Math.PI/2,"Math.PI/2",{...a,align:"text-bottom"}),c(3*Math.PI/2,"3*Math.PI/2",{...a,align:"hanging"})}async updated(){this.renderSvg()}_pointerMove(e){const r=S.makeHelper(this.shadowRoot.querySelector("svg")),n={x:e.offsetX,y:e.offsetY},i=this.lastCircle;if(i===void 0)return;const l=f.fromPoints(i,n),h=f.extendFromStart(l,200),a=b.intersectionLine(i,h);if(a.length!==1)return;const p=a[0],u=f.extendFromStart(f.fromPoints(i,p),10);r.line(u,{strokeStyle:this.palette.get("accent-bold","yellow")},"#pointerRay");const c=f.angleRadian(u)*-1;let t=Math.round(c/Math.PI*100)/100;t<0&&(t=Math.abs(t+1)+1);let s="";t==1?s="\u03C0":t==.17?s="\u03C0/6":t==.25?s="\u03C0/4":t==.33?s="\u03C0/3":t==.5?s="\u03C0/2":t==.58?s="7\u03C0/12":t==.6?s="\u03C0/4":t==.75?s="3\u03C0/4":t==.92?s="11\u03C0/12":t==1.17?s="7\u03C0/6":t==1.25?s="5\u03C0/4":t==1.33?s="4\u03C0/3":t==1.5?s="3\u03C0/2":t==1.58?s="19\u03C0/12":t==1.75?s="7\u03C0/4":t==1.92?s="23\u03C0/12":t==0?s="0 or 2\u03C0":s=`${t.toFixed(2)}\u03C0`;let d=R(c);d<0&&(d=Math.abs(d+180)+180);const m=Math.round(d),x={strokeStyle:"transparent",fillStyle:this.palette.get("fgDim","black"),anchor:"middle"};r.text(`Radians: ${s}`,{x:i.x,y:i.y},x,"#radiansLabel"),r.text(`Degrees: ${m}`,{x:i.x,y:i.y+20},x,"#degreesLabel")}render(){return j`
			<div id="container">
        <svg @pointermove="${this._pointerMove}" style="font-size: 1em" viewBox="0 0 ${this.width} ${this.height}" width=${this.width} height=${this.height}></svg>
			</div>
		`}}y(g,"styles",[$,k`
      :host {
        color: var(--label-color, green);
      }
      #container {
        display: flex;
        align-items: center;
        flex-direction: column;
      }
      #container>svg {
        touch-action: none;
      }
  `]);v([C()],g.prototype,"radian",2);v([C()],g.prototype,"degree",2);v([C()],g.prototype,"width",2);v([C()],g.prototype,"height",2);customElements.define(E,g);export{g as AnglesElement,E as tagName};
